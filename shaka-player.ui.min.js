!function() {
    var e = "undefined" != typeof window ? window : global
      , t = {};
    if (!function(z, r, a) {
        function o(e) {
            var t = 0;
            return function() {
                return t < e.length ? {
                    done: !1,
                    value: e[t++]
                } : {
                    done: !0
                }
            }
        }
        var u = "function" == typeof Object.defineProperties ? Object.defineProperty : function(e, t, n) {
            return e == Array.prototype || e == Object.prototype || (e[t] = n.value),
            e
        }
        ;
        var c = function(e) {
            e = ["object" == typeof globalThis && globalThis, e, "object" == typeof z && z, "object" == typeof self && self, "object" == typeof r && r];
            for (var t = 0; t < e.length; ++t) {
                var n = e[t];
                if (n && n.Math == Math)
                    return n
            }
            throw Error("Cannot find global object")
        }(this);
        function s(e, t) {
            if (t)
                e: {
                    var n = c;
                    e = e.split(".");
                    for (var i = 0; i < e.length - 1; i++) {
                        var r = e[i];
                        if (!(r in n))
                            break e;
                        n = n[r]
                    }
                    (t = t(i = n[e = e[e.length - 1]])) != i && null != t && u(n, e, {
                        configurable: !0,
                        writable: !0,
                        value: t
                    })
                }
        }
        function h(e) {
            return (e = {
                next: e
            })[Symbol.iterator] = function() {
                return this
            }
            ,
            e
        }
        function we(e) {
            var t = "undefined" != typeof Symbol && Symbol.iterator && e[Symbol.iterator];
            return t ? t.call(e) : {
                next: o(e)
            }
        }
        function le(e) {
            if (!(e instanceof Array)) {
                e = we(e);
                for (var t, n = []; !(t = e.next()).done; )
                    n.push(t.value);
                e = n
            }
            return e
        }
        s("Symbol", function(e) {
            function n(e, t) {
                this.g = e,
                u(this, "description", {
                    configurable: !0,
                    writable: !0,
                    value: t
                })
            }
            if (e)
                return e;
            n.prototype.toString = function() {
                return this.g
            }
            ;
            var i = "jscomp_symbol_" + (1e9 * Math.random() >>> 0) + "_"
              , r = 0;
            return function e(t) {
                if (this instanceof e)
                    throw new TypeError("Symbol is not a constructor");
                return new n(i + (t || "") + "_" + r++,t)
            }
        }),
        s("Symbol.iterator", function(e) {
            if (e)
                return e;
            e = Symbol("Symbol.iterator");
            for (var t = "Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "), n = 0; n < t.length; n++) {
                var i = c[t[n]];
                "function" == typeof i && "function" != typeof i.prototype[e] && u(i.prototype, e, {
                    configurable: !0,
                    writable: !0,
                    value: function() {
                        return h(o(this))
                    }
                })
            }
            return e
        });
        var e, f, p = "function" == typeof Object.create ? Object.create : function(e) {
            function t() {}
            return t.prototype = e,
            new t
        }
        ;
        if ("function" == typeof Object.setPrototypeOf)
            e = Object.setPrototypeOf;
        else {
            e: {
                var g = {};
                try {
                    g.__proto__ = {
                        a: !0
                    },
                    f = g.a;
                    break e
                } catch (e) {}
                f = !1
            }
            e = f ? function(e, t) {
                if (e.__proto__ = t,
                e.__proto__ !== t)
                    throw new TypeError(e + " is not extensible");
                return e
            }
            : null
        }
        var y = e;
        function t(e, t) {
            if (e.prototype = p(t.prototype),
            e.prototype.constructor = e,
            y)
                y(e, t);
            else
                for (var n in t) {
                    var i;
                    "prototype" != n && (Object.defineProperties ? (i = Object.getOwnPropertyDescriptor(t, n)) && Object.defineProperty(e, n, i) : e[n] = t[n])
                }
            e.Bk = t.prototype
        }
        function w() {
            this.s = !1,
            this.l = null,
            this.h = void 0,
            this.g = 1,
            this.j = this.m = 0,
            this.C = this.i = null
        }
        function T(e) {
            if (e.s)
                throw new TypeError("Generator is already running");
            e.s = !0
        }
        function A(e, t) {
            e.i = {
                Qg: t,
                $g: !0
            },
            e.g = e.m || e.j
        }
        function Te(e, t, n) {
            return e.g = n,
            {
                value: t
            }
        }
        function Ae(e) {
            e.g = 0
        }
        function Ee(e, t, n) {
            e.m = t,
            null != n && (e.j = n)
        }
        function k(e, t) {
            e.m = 0,
            e.j = t || 0
        }
        function Se(e, t, n) {
            e.g = t,
            e.m = n || 0
        }
        function xe(e, t) {
            return e.m = t || 0,
            t = e.i.Qg,
            e.i = null,
            t
        }
        function Ce(e) {
            e.C = [e.i],
            e.m = 0,
            e.j = 0
        }
        function Me(e, t) {
            var n = e.C.splice(0)[0];
            (n = e.i = e.i || n) ? n.$g ? e.g = e.m || e.j : null != n.F && e.j < n.F ? (e.g = n.F,
            e.i = null) : e.g = e.j : e.g = t
        }
        function S(e) {
            this.g = new w,
            this.h = e
        }
        function x(t, e, n, i) {
            try {
                var r = e.call(t.g.l, n);
                if (!(r instanceof Object))
                    throw new TypeError("Iterator result " + r + " is not an object");
                if (!r.done)
                    return t.g.s = !1,
                    r;
                var a = r.value
            } catch (e) {
                return t.g.l = null,
                A(t.g, e),
                C(t)
            }
            return t.g.l = null,
            i.call(t.g, a),
            C(t)
        }
        function C(t) {
            for (; t.g.g; )
                try {
                    var e = t.h(t.g);
                    if (e)
                        return t.g.s = !1,
                        {
                            value: e.value,
                            done: !1
                        }
                } catch (e) {
                    t.g.h = void 0,
                    A(t.g, e)
                }
            if (t.g.s = !1,
            t.g.i) {
                if (e = t.g.i,
                t.g.i = null,
                e.$g)
                    throw e.Qg;
                return {
                    value: e.return,
                    done: !0
                }
            }
            return {
                value: void 0,
                done: !0
            }
        }
        function M(i) {
            this.next = function(e) {
                return T(i.g),
                e = i.g.l ? x(i, i.g.l.next, e, i.g.u) : (i.g.u(e),
                C(i))
            }
            ,
            this.throw = function(e) {
                return T(i.g),
                e = i.g.l ? x(i, i.g.l.throw, e, i.g.u) : (A(i.g, e),
                C(i))
            }
            ,
            this.return = function(e) {
                return e = e,
                T((t = i).g),
                (n = t.g.l) ? x(t, "return"in n ? n.return : function(e) {
                    return {
                        value: e,
                        done: !0
                    }
                }
                , e, t.g.return) : (t.g.return(e),
                C(t));
                var t, n
            }
            ,
            this[Symbol.iterator] = function() {
                return this
            }
        }
        function L(t) {
            function r(e) {
                return t.next(e)
            }
            function a(e) {
                return t.throw(e)
            }
            return new Promise(function(n, i) {
                !function e(t) {
                    t.done ? n(t.value) : Promise.resolve(t.value).then(r, a).then(e, i)
                }(t.next())
            }
            )
        }
        function Ie(e) {
            return L(new M(new S(e)))
        }
        function R() {
            for (var e = Number(this), t = [], n = e; n < arguments.length; n++)
                t[n - e] = arguments[n];
            return t
        }
        function N(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        function _(t, n) {
            t instanceof String && (t += "");
            var i = 0
              , r = !1
              , e = {
                next: function() {
                    var e;
                    return !r && i < t.length ? (e = i++,
                    {
                        value: n(e, t[e]),
                        done: !1
                    }) : {
                        done: r = !0,
                        value: void 0
                    }
                }
            };
            return e[Symbol.iterator] = function() {
                return e
            }
            ,
            e
        }
        function U(e, t, n) {
            for (var i = (e = e instanceof String ? String(e) : e).length, r = 0; r < i; r++) {
                var a = e[r];
                if (t.call(n, a, r, e))
                    return {
                        Xg: r,
                        v: a
                    }
            }
            return {
                Xg: -1,
                v: void 0
            }
        }
        function O(e, t, n) {
            if (null == e)
                throw new TypeError("The 'this' value for String.prototype." + n + " must not be null or undefined");
            if (t instanceof RegExp)
                throw new TypeError("First argument to String.prototype." + n + " must not be a regular expression");
            return e + ""
        }
        w.prototype.u = function(e) {
            this.h = e
        }
        ,
        w.prototype.return = function(e) {
            this.i = {
                return: e
            },
            this.g = this.j
        }
        ,
        w.prototype.F = function(e) {
            this.g = e
        }
        ,
        s("Promise", function(e) {
            function o(e) {
                this.h = 0,
                this.i = void 0,
                this.g = [],
                this.s = !1;
                var t = this.j();
                try {
                    e(t.resolve, t.reject)
                } catch (e) {
                    t.reject(e)
                }
            }
            function t() {
                this.g = null
            }
            function s(t) {
                return t instanceof o ? t : new o(function(e) {
                    e(t)
                }
                )
            }
            if (e)
                return e;
            t.prototype.h = function(e) {
                var t;
                null == this.g && (this.g = [],
                (t = this).i(function() {
                    t.l()
                })),
                this.g.push(e)
            }
            ;
            var n = c.setTimeout
              , r = (t.prototype.i = function(e) {
                n(e, 0)
            }
            ,
            t.prototype.l = function() {
                for (; this.g && this.g.length; ) {
                    var e = this.g;
                    this.g = [];
                    for (var t = 0; t < e.length; ++t) {
                        var n = e[t];
                        e[t] = null;
                        try {
                            n()
                        } catch (e) {
                            this.j(e)
                        }
                    }
                }
                this.g = null
            }
            ,
            t.prototype.j = function(e) {
                this.i(function() {
                    throw e
                })
            }
            ,
            o.prototype.j = function() {
                function e(t) {
                    return function(e) {
                        i || (i = !0,
                        t.call(n, e))
                    }
                }
                var n = this
                  , i = !1;
                return {
                    resolve: e(this.H),
                    reject: e(this.l)
                }
            }
            ,
            o.prototype.H = function(e) {
                if (e === this)
                    this.l(new TypeError("A Promise cannot resolve to itself"));
                else if (e instanceof o)
                    this.J(e);
                else {
                    switch (typeof e) {
                    case "object":
                        var t = null != e;
                        break;
                    case "function":
                        t = !0;
                        break;
                    default:
                        t = !1
                    }
                    t ? this.G(e) : this.m(e)
                }
            }
            ,
            o.prototype.G = function(e) {
                var t = void 0;
                try {
                    t = e.then
                } catch (e) {
                    return void this.l(e)
                }
                "function" == typeof t ? this.K(t, e) : this.m(e)
            }
            ,
            o.prototype.l = function(e) {
                this.u(2, e)
            }
            ,
            o.prototype.m = function(e) {
                this.u(1, e)
            }
            ,
            o.prototype.u = function(e, t) {
                if (0 != this.h)
                    throw Error("Cannot settle(" + e + ", " + t + "): Promise already settled in state" + this.h);
                this.h = e,
                this.i = t,
                2 === this.h && this.I(),
                this.C()
            }
            ,
            o.prototype.I = function() {
                var t = this;
                n(function() {
                    var e;
                    t.D() && void 0 !== (e = c.console) && e.error(t.i)
                }, 1)
            }
            ,
            o.prototype.D = function() {
                if (this.s)
                    return !1;
                var e = c.CustomEvent
                  , t = c.Event
                  , n = c.dispatchEvent;
                return void 0 === n || ("function" == typeof e ? e = new e("unhandledrejection",{
                    cancelable: !0
                }) : "function" == typeof t ? e = new t("unhandledrejection",{
                    cancelable: !0
                }) : (e = c.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection", !1, !0, e),
                e.promise = this,
                e.reason = this.i,
                n(e))
            }
            ,
            o.prototype.C = function() {
                if (null != this.g) {
                    for (var e = 0; e < this.g.length; ++e)
                        r.h(this.g[e]);
                    this.g = null
                }
            }
            ,
            new t);
            return o.prototype.J = function(e) {
                var t = this.j();
                e.Zd(t.resolve, t.reject)
            }
            ,
            o.prototype.K = function(e, t) {
                var n = this.j();
                try {
                    e.call(t, n.resolve, n.reject)
                } catch (e) {
                    n.reject(e)
                }
            }
            ,
            o.prototype.then = function(e, t) {
                function n(t, e) {
                    return "function" == typeof t ? function(e) {
                        try {
                            i(t(e))
                        } catch (e) {
                            r(e)
                        }
                    }
                    : e
                }
                var i, r, a = new o(function(e, t) {
                    i = e,
                    r = t
                }
                );
                return this.Zd(n(e, i), n(t, r)),
                a
            }
            ,
            o.prototype.catch = function(e) {
                return this.then(void 0, e)
            }
            ,
            o.prototype.Zd = function(e, t) {
                function n() {
                    switch (i.h) {
                    case 1:
                        e(i.i);
                        break;
                    case 2:
                        t(i.i);
                        break;
                    default:
                        throw Error("Unexpected state: " + i.h)
                    }
                }
                var i = this;
                null == this.g ? r.h(n) : this.g.push(n),
                this.s = !0
            }
            ,
            o.resolve = s,
            o.reject = function(n) {
                return new o(function(e, t) {
                    t(n)
                }
                )
            }
            ,
            o.race = function(r) {
                return new o(function(e, t) {
                    for (var n = we(r), i = n.next(); !i.done; i = n.next())
                        s(i.value).Zd(e, t)
                }
                )
            }
            ,
            o.all = function(e) {
                var t = we(e)
                  , a = t.next();
                return a.done ? s([]) : new o(function(n, e) {
                    for (var i = [], r = 0; i.push(void 0),
                    r++,
                    s(a.value).Zd(function(t) {
                        return function(e) {
                            i[t] = e,
                            0 == --r && n(i)
                        }
                    }(i.length - 1), e),
                    !(a = t.next()).done; )
                        ;
                }
                )
            }
            ,
            o
        }),
        s("WeakMap", function(i) {
            function e(e) {
                if (this.g = (s += Math.random() + 1).toString(),
                e) {
                    e = we(e);
                    for (var t; !(t = e.next()).done; )
                        t = t.value,
                        this.set(t[0], t[1])
                }
            }
            function n() {}
            function r(e) {
                var t = typeof e;
                return "object" == t && null !== e || "function" == t
            }
            function a(e) {
                var t;
                N(e, o) || (t = new n,
                u(e, o, {
                    value: t
                }))
            }
            function t(e) {
                var t = Object[e];
                t && (Object[e] = function(e) {
                    return e instanceof n ? e : (Object.isExtensible(e) && a(e),
                    t(e))
                }
                )
            }
            if (function() {
                if (i && Object.seal)
                    try {
                        var e = Object.seal({})
                          , t = Object.seal({})
                          , n = new i([[e, 2], [t, 3]]);
                        return 2 != n.get(e) || 3 != n.get(t) ? void 0 : (n.delete(e),
                        n.set(t, 4),
                        !n.has(e) && 4 == n.get(t))
                    } catch (e) {
                        return
                    }
            }())
                return i;
            var o = "$jscomp_hidden_" + Math.random()
              , s = (t("freeze"),
            t("preventExtensions"),
            t("seal"),
            0);
            return e.prototype.set = function(e, t) {
                if (!r(e))
                    throw Error("Invalid WeakMap key");
                if (a(e),
                N(e, o))
                    return e[o][this.g] = t,
                    this;
                throw Error("WeakMap key fail: " + e)
            }
            ,
            e.prototype.get = function(e) {
                return r(e) && N(e, o) ? e[o][this.g] : void 0
            }
            ,
            e.prototype.has = function(e) {
                return r(e) && N(e, o) && N(e[o], this.g)
            }
            ,
            e.prototype.delete = function(e) {
                return !!(r(e) && N(e, o) && N(e[o], this.g)) && delete e[o][this.g]
            }
            ,
            e
        }),
        s("Map", function(r) {
            function n() {
                var e = {};
                return e.Rb = e.next = e.head = e
            }
            function e(e, t) {
                var n = e.g;
                return h(function() {
                    if (n) {
                        for (; n.head != e.g; )
                            n = n.Rb;
                        if (n.next != n.head)
                            return n = n.next,
                            {
                                done: !1,
                                value: t(n)
                            };
                        n = null
                    }
                    return {
                        done: !0,
                        value: void 0
                    }
                })
            }
            function i(e, t) {
                var n = t && typeof t
                  , i = ("object" == n || "function" == n ? a.has(t) ? n = a.get(t) : (n = "" + ++o,
                a.set(t, n)) : n = "p_" + t,
                e.h[n]);
                if (i && N(e.h, n))
                    for (e = 0; e < i.length; e++) {
                        var r = i[e];
                        if (t != t && r.key != r.key || t === r.key)
                            return {
                                id: n,
                                list: i,
                                index: e,
                                entry: r
                            }
                    }
                return {
                    id: n,
                    list: i,
                    index: -1,
                    entry: void 0
                }
            }
            function t(e) {
                if (this.h = {},
                this.g = n(),
                this.size = 0,
                e) {
                    e = we(e);
                    for (var t; !(t = e.next()).done; )
                        t = t.value,
                        this.set(t[0], t[1])
                }
            }
            if (function() {
                if (r && "function" == typeof r && r.prototype.entries && "function" == typeof Object.seal)
                    try {
                        var e = Object.seal({
                            x: 4
                        })
                          , t = new r(we([[e, "s"]]));
                        if ("s" != t.get(e) || 1 != t.size || t.get({
                            x: 4
                        }) || t.set({
                            x: 4
                        }, "t") != t || 2 != t.size)
                            return;
                        var n = t.entries()
                          , i = n.next();
                        return i.done || i.value[0] != e || "s" != i.value[1] ? void 0 : !((i = n.next()).done || 4 != i.value[0].x || "t" != i.value[1] || !n.next().done)
                    } catch (e) {
                        return
                    }
            }())
                return r;
            var a = new WeakMap
              , o = (t.prototype.set = function(e, t) {
                var n = i(this, e = 0 === e ? 0 : e);
                return n.list || (n.list = this.h[n.id] = []),
                n.entry ? n.entry.value = t : (n.entry = {
                    next: this.g,
                    Rb: this.g.Rb,
                    head: this.g,
                    key: e,
                    value: t
                },
                n.list.push(n.entry),
                this.g.Rb.next = n.entry,
                this.g.Rb = n.entry,
                this.size++),
                this
            }
            ,
            t.prototype.delete = function(e) {
                return !(!(e = i(this, e)).entry || !e.list) && (e.list.splice(e.index, 1),
                e.list.length || delete this.h[e.id],
                e.entry.Rb.next = e.entry.next,
                e.entry.next.Rb = e.entry.Rb,
                e.entry.head = null,
                this.size--,
                !0)
            }
            ,
            t.prototype.clear = function() {
                this.h = {},
                this.g = this.g.Rb = n(),
                this.size = 0
            }
            ,
            t.prototype.has = function(e) {
                return !!i(this, e).entry
            }
            ,
            t.prototype.get = function(e) {
                return (e = i(this, e).entry) && e.value
            }
            ,
            t.prototype.entries = function() {
                return e(this, function(e) {
                    return [e.key, e.value]
                })
            }
            ,
            t.prototype.keys = function() {
                return e(this, function(e) {
                    return e.key
                })
            }
            ,
            t.prototype.values = function() {
                return e(this, function(e) {
                    return e.value
                })
            }
            ,
            t.prototype.forEach = function(e, t) {
                for (var n, i = this.entries(); !(n = i.next()).done; )
                    n = n.value,
                    e.call(t, n[1], n[0], this)
            }
            ,
            t.prototype[Symbol.iterator] = t.prototype.entries,
            0);
            return t
        }),
        s("Array.prototype.keys", function(e) {
            return e || function() {
                return _(this, function(e) {
                    return e
                })
            }
        }),
        s("Set", function(r) {
            function e(e) {
                if (this.g = new Map,
                e) {
                    e = we(e);
                    for (var t; !(t = e.next()).done; )
                        this.add(t.value)
                }
                this.size = this.g.size
            }
            return function() {
                if (r && "function" == typeof r && r.prototype.entries && "function" == typeof Object.seal)
                    try {
                        var e = Object.seal({
                            x: 4
                        })
                          , t = new r(we([e]));
                        if (!t.has(e) || 1 != t.size || t.add(e) != t || 1 != t.size || t.add({
                            x: 4
                        }) != t || 2 != t.size)
                            return;
                        var n = t.entries()
                          , i = n.next();
                        return i.done || i.value[0] != e || i.value[1] != e ? void 0 : !(i = n.next()).done && i.value[0] != e && 4 == i.value[0].x && i.value[1] == i.value[0] && n.next().done
                    } catch (e) {
                        return
                    }
            }() ? r : (e.prototype.add = function(e) {
                return this.g.set(e = 0 === e ? 0 : e, e),
                this.size = this.g.size,
                this
            }
            ,
            e.prototype.delete = function(e) {
                return e = this.g.delete(e),
                this.size = this.g.size,
                e
            }
            ,
            e.prototype.clear = function() {
                this.g.clear(),
                this.size = 0
            }
            ,
            e.prototype.has = function(e) {
                return this.g.has(e)
            }
            ,
            e.prototype.entries = function() {
                return this.g.entries()
            }
            ,
            e.prototype.keys = e.prototype.values = function() {
                return this.g.values()
            }
            ,
            e.prototype[Symbol.iterator] = e.prototype.values,
            e.prototype.forEach = function(t, n) {
                var i = this;
                this.g.forEach(function(e) {
                    return t.call(n, e, e, i)
                })
            }
            ,
            e)
        }),
        s("Array.from", function(e) {
            return e || function(e, t, n) {
                t = null != t ? t : function(e) {
                    return e
                }
                ;
                var i = []
                  , r = "undefined" != typeof Symbol && Symbol.iterator && e[Symbol.iterator];
                if ("function" == typeof r) {
                    e = r.call(e);
                    for (var a = 0; !(r = e.next()).done; )
                        i.push(t.call(n, r.value, a++))
                } else
                    for (r = e.length,
                    a = 0; a < r; a++)
                        i.push(t.call(n, e[a], a));
                return i
            }
        }),
        s("Array.prototype.findIndex", function(e) {
            return e || function(e, t) {
                return U(this, e, t).Xg
            }
        }),
        s("Object.is", function(e) {
            return e || function(e, t) {
                return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t
            }
        }),
        s("Array.prototype.includes", function(e) {
            return e || function(e, t) {
                var n = this
                  , i = (n = n instanceof String ? String(n) : n).length;
                for ((t = t || 0) < 0 && (t = Math.max(t + i, 0)); t < i; t++) {
                    var r = n[t];
                    if (r === e || Object.is(r, e))
                        return !0
                }
                return !1
            }
        }),
        s("String.prototype.includes", function(e) {
            return e || function(e, t) {
                return -1 !== O(this, e, "includes").indexOf(e, t || 0)
            }
        }),
        s("Array.prototype.find", function(e) {
            return e || function(e, t) {
                return U(this, e, t).v
            }
        }),
        s("String.prototype.startsWith", function(e) {
            return e || function(e, t) {
                var n = O(this, e, "startsWith")
                  , i = n.length
                  , r = e.length;
                t = Math.max(0, Math.min(0 | t, n.length));
                for (var a = 0; a < r && t < i; )
                    if (n[t++] != e[a++])
                        return !1;
                return r <= a
            }
        }),
        s("WeakSet", function(i) {
            function e(e) {
                if (this.g = new WeakMap,
                e) {
                    e = we(e);
                    for (var t; !(t = e.next()).done; )
                        this.add(t.value)
                }
            }
            return function() {
                if (i && Object.seal)
                    try {
                        var e = Object.seal({})
                          , t = Object.seal({})
                          , n = new i([e]);
                        return !n.has(e) || n.has(t) ? void 0 : (n.delete(e),
                        n.add(t),
                        !n.has(e) && n.has(t))
                    } catch (e) {
                        return
                    }
            }() ? i : (e.prototype.add = function(e) {
                return this.g.set(e, !0),
                this
            }
            ,
            e.prototype.has = function(e) {
                return this.g.has(e)
            }
            ,
            e.prototype.delete = function(e) {
                return this.g.delete(e)
            }
            ,
            e)
        });
        var B = "function" == typeof Object.assign ? Object.assign : function(e, t) {
            for (var n = 1; n < arguments.length; n++) {
                var i = arguments[n];
                if (i)
                    for (var r in i)
                        N(i, r) && (e[r] = i[r])
            }
            return e
        }
          , F = (s("Object.assign", function(e) {
            return e || B
        }),
        s("Array.prototype.values", function(e) {
            return e || function() {
                return _(this, function(e, t) {
                    return t
                })
            }
        }),
        s("Promise.prototype.finally", function(e) {
            return e || function(t) {
                return this.then(function(e) {
                    return Promise.resolve(t()).then(function() {
                        return e
                    })
                }, function(e) {
                    return Promise.resolve(t()).then(function() {
                        throw e
                    })
                })
            }
        }),
        s("Array.prototype.entries", function(e) {
            return e || function() {
                return _(this, function(e, t) {
                    return [e, t]
                })
            }
        }),
        s("String.prototype.repeat", function(e) {
            return e || function(e) {
                var t = O(this, null, "repeat");
                if (e < 0 || 1342177279 < e)
                    throw new RangeError("Invalid count value");
                e |= 0;
                for (var n = ""; e; )
                    1 & e && (n += t),
                    (e >>>= 1) && (t += t);
                return n
            }
        }),
        s("Number.isNaN", function(e) {
            return e || function(e) {
                return "number" == typeof e && isNaN(e)
            }
        }),
        s("Number.isFinite", function(e) {
            return e || function(e) {
                return "number" == typeof e && (!isNaN(e) && 1 / 0 !== e && -1 / 0 !== e)
            }
        }),
        s("Object.values", function(e) {
            return e || function(e) {
                var t, n = [];
                for (t in e)
                    N(e, t) && n.push(e[t]);
                return n
            }
        }),
        s("Math.log2", function(e) {
            return e || function(e) {
                return Math.log(e) / Math.LN2
            }
        }),
        s("Number.MAX_SAFE_INTEGER", function() {
            return 9007199254740991
        }),
        s("Math.trunc", function(e) {
            return e || function(e) {
                if (e = Number(e),
                isNaN(e) || 1 / 0 === e || -1 / 0 === e || 0 === e)
                    return e;
                var t = Math.floor(Math.abs(e));
                return e < 0 ? -t : t
            }
        }),
        s("Object.entries", function(e) {
            return e || function(e) {
                var t, n = [];
                for (t in e)
                    N(e, t) && n.push([t, e[t]]);
                return n
            }
        }),
        this || self);
        function n(e, t) {
            e = e.split(".");
            var n, i = F;
            e[0]in i || void 0 === i.execScript || i.execScript("var " + e[0]);
            for (; e.length && (n = e.shift()); )
                e.length || void 0 === t ? i = i[n] && i[n] !== Object.prototype[n] ? i[n] : i[n] = {} : i[n] = t
        }
        function ce(e, t) {
            if (t)
                if (t instanceof Map)
                    for (var n = we(t.keys()), i = n.next(); !i.done; i = n.next())
                        i = i.value,
                        Object.defineProperty(this, i, {
                            value: t.get(i),
                            writable: !0,
                            enumerable: !0
                        });
                else
                    for (n in t)
                        Object.defineProperty(this, n, {
                            value: t[n],
                            writable: !0,
                            enumerable: !0
                        });
            this.defaultPrevented = this.cancelable = this.bubbles = !1,
            this.timeStamp = (z.performance && z.performance.now ? z.performance : Date).now(),
            this.type = e,
            this.isTrusted = !1,
            this.target = this.currentTarget = null,
            this.g = !1
        }
        function G(e) {
            var t, n = new ce(e.type);
            for (t in e)
                Object.defineProperty(n, t, {
                    value: e[t],
                    writable: !0,
                    enumerable: !0
                });
            return n
        }
        ce.prototype.preventDefault = function() {
            this.cancelable && (this.defaultPrevented = !0)
        }
        ,
        ce.prototype.stopImmediatePropagation = function() {
            this.g = !0
        }
        ,
        ce.prototype.stopPropagation = function() {}
        ,
        n("shaka.util.FakeEvent", ce);
        var V = {
            Aj: "abrstatuschanged",
            Bj: "adaptation",
            Cj: "buffering",
            Dj: "complete",
            Ej: "downloadfailed",
            Fj: "downloadheadersreceived",
            Gj: "drmsessionupdate",
            Ij: "emsg",
            Yj: "prft",
            Error: "error",
            Jj: "expirationupdated",
            Kj: "firstquartile",
            Lj: "gapjumped",
            Oj: "keystatuschanged",
            Qj: "loaded",
            Rj: "loading",
            Tj: "manifestparsed",
            Uj: "manifestupdated",
            Vj: "mediaqualitychanged",
            Metadata: "metadata",
            Wj: "midpoint",
            Xj: "onstatechange",
            $j: "ratechange",
            bk: "segmentappended",
            ck: "sessiondata",
            dk: "stalldetected",
            ek: "started",
            fk: "statechanged",
            gk: "streaming",
            hk: "textchanged",
            ik: "texttrackvisibility",
            jk: "thirdquartile",
            kk: "timelineregionadded",
            lk: "timelineregionenter",
            nk: "timelineregionexit",
            pk: "trackschanged",
            rk: "unloading",
            vk: "variantchanged"
        };
        function K() {}
        function H() {}
        function X() {}
        function q(e) {
            var t = R.apply(1, arguments);
            J.has(e) || (J.add(e),
            X.apply(K, le(t)))
        }
        function Y() {}
        var J = new Set;
        function Q() {
            this.g = {}
        }
        function d() {
            this.Aa = new Q,
            this.we = this
        }
        function Le(e, t) {
            for (var n = [], i = (e = we(e)).next(); !i.done; i = e.next())
                n.push(t(i.value));
            return n
        }
        function $(e, t) {
            for (var n = (e = we(e)).next(); !n.done; n = e.next())
                if (t(n.value))
                    return 1
        }
        function Z(e, t) {
            for (var n = [], i = (e = we(e)).next(); !i.done; i = e.next())
                t(i = i.value) && n.push(i);
            return n
        }
        z.console && (X = function() {
            return console.warn.apply(console, le(R.apply(0, arguments)))
        }
        ,
        H = function() {
            console.error.apply(console, le(R.apply(0, arguments)))
        }
        ),
        (e = Q.prototype).push = function(e, t) {
            this.g.hasOwnProperty(e) ? this.g[e].push(t) : this.g[e] = [t]
        }
        ,
        e.get = function(e) {
            return (e = this.g[e]) ? e.slice() : null
        }
        ,
        e.remove = function(e, t) {
            e in this.g && (this.g[e] = this.g[e].filter(function(e) {
                return e != t
            }),
            0 == this.g[e].length && delete this.g[e])
        }
        ,
        e.forEach = function(e) {
            for (var t in this.g)
                e(t, this.g[t])
        }
        ,
        e.size = function() {
            return Object.keys(this.g).length
        }
        ,
        e.keys = function() {
            return Object.keys(this.g)
        }
        ,
        d.prototype.addEventListener = function(e, t) {
            this.Aa && this.Aa.push(e, t)
        }
        ,
        d.prototype.removeEventListener = function(e, t) {
            this.Aa && this.Aa.remove(e, t)
        }
        ,
        d.prototype.dispatchEvent = function(e) {
            if (!this.Aa)
                return !0;
            for (var t = this.Aa.get(e.type) || [], n = (t = we(t = (n = this.Aa.get("All")) ? t.concat(n) : t)).next(); !n.done; n = t.next()) {
                n = n.value,
                e.target = this.we,
                e.currentTarget = this.we;
                try {
                    n.handleEvent ? n.handleEvent(e) : n.call(this, e)
                } catch (e) {}
                if (e.g)
                    break
            }
            return e.defaultPrevented
        }
        ,
        d.prototype.release = function() {
            this.Aa = null
        }
        ;
        var ee = RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");
        function ge(e) {
            e instanceof ge ? (te(this, e.wb),
            this.Bc = e.Bc,
            se(this, e.Kb),
            ue(this, e.Tc),
            this.Ya = e.Ya,
            me(this, e.g.clone()),
            this.pc = e.pc) : e && (e = String(e).match(ee)) ? (te(this, e[1] || "", !0),
            this.Bc = ve(e[2] || ""),
            se(this, e[3] || "", !0),
            ue(this, e[4]),
            this.Ya = ve(e[5] || "", !0),
            me(this, e[6] || "", !0),
            this.pc = ve(e[7] || "")) : this.g = new Ue(null)
        }
        function te(e, t, n) {
            e.wb = n ? ve(t, !0) : t,
            e.wb && (e.wb = e.wb.replace(/:$/, ""))
        }
        function se(e, t, n) {
            e.Kb = n ? ve(t, !0) : t
        }
        function ue(e, t) {
            if (t) {
                if (t = Number(t),
                isNaN(t) || t < 0)
                    throw Error("Bad port number " + t);
                e.Tc = t
            } else
                e.Tc = null
        }
        function me(e, t, n) {
            t instanceof Ue ? e.g = t : (n || (t = ye(t, De)),
            e.g = new Ue(t))
        }
        function ve(e, t) {
            return e ? (t ? decodeURI : decodeURIComponent)(e) : ""
        }
        function ye(e, t, n) {
            return null != e ? (e = encodeURI(e).replace(t, be),
            e = n ? e.replace(/%25([0-9a-fA-F]{2})/g, "%$1") : e) : null
        }
        function be(e) {
            return "%" + ((e = e.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & e).toString(16)
        }
        (e = ge.prototype).wb = "",
        e.Bc = "",
        e.Kb = "",
        e.Tc = null,
        e.Ya = "",
        e.pc = "",
        e.toString = function() {
            var e, t = [], n = this.wb;
            return n && t.push(ye(n, Re, !0), ":"),
            (n = this.Kb) && (t.push("//"),
            (e = this.Bc) && t.push(ye(e, Re, !0), "@"),
            t.push(encodeURIComponent(n).replace(/%25([0-9a-fA-F]{2})/g, "%$1")),
            null != (n = this.Tc) && t.push(":", String(n))),
            (n = this.Ya) && (this.Kb && "/" != n.charAt(0) && t.push("/"),
            t.push(ye(n, "/" == n.charAt(0) ? Pe : Ne, !0))),
            (n = this.g.toString()) && t.push("?", n),
            (n = this.pc) && t.push("#", ye(n, _e)),
            t.join("")
        }
        ,
        e.resolve = function(e) {
            var t = this.clone()
              , n = ("data" === t.wb && (t = new ge),
            !!e.wb)
              , i = (n ? te(t, e.wb) : n = !!e.Bc,
            n ? t.Bc = e.Bc : n = !!e.Kb,
            n ? se(t, e.Kb) : n = null != e.Tc,
            e.Ya);
            if (n)
                ue(t, e.Tc);
            else if (n = !!e.Ya)
                if ("/" != i.charAt(0) && (this.Kb && !this.Ya ? i = "/" + i : -1 != (r = t.Ya.lastIndexOf("/")) && (i = t.Ya.substr(0, r + 1) + i)),
                ".." == i || "." == i)
                    i = "";
                else if (-1 != i.indexOf("./") || -1 != i.indexOf("/.")) {
                    for (var r = 0 == i.lastIndexOf("/", 0), i = i.split("/"), a = [], o = 0; o < i.length; ) {
                        var s = i[o++];
                        "." == s ? r && o == i.length && a.push("") : ".." == s ? ((1 < a.length || 1 == a.length && "" != a[0]) && a.pop(),
                        r && o == i.length && a.push("")) : (a.push(s),
                        r = !0)
                    }
                    i = a.join("/")
                }
            return n ? t.Ya = i : n = "" !== e.g.toString(),
            n ? me(t, e.g.clone()) : n = !!e.pc,
            n && (t.pc = e.pc),
            t
        }
        ,
        e.clone = function() {
            return new ge(this)
        }
        ;
        var Re = /[#\/\?@]/g
          , Ne = /[#\?:]/g
          , Pe = /[#\?]/g
          , De = /[#\?@]/g
          , _e = /#/g;
        function Ue(e) {
            this.g = e || null
        }
        function Oe(e) {
            if (!e.Oa && (e.Oa = {},
            e.rd = 0,
            e.g))
                for (var t = e.g.split("&"), n = 0; n < t.length; n++) {
                    var i, r = t[n].indexOf("="), a = null;
                    0 <= r ? (i = t[n].substring(0, r),
                    a = t[n].substring(r + 1)) : i = t[n],
                    i = decodeURIComponent(i.replace(/\+/g, " ")),
                    a = a || "",
                    e.add(i, decodeURIComponent(a.replace(/\+/g, " ")))
                }
        }
        function je(e) {
            return Oe(e),
            e.rd
        }
        function ke(e, t, n) {
            var i = R.apply(3, arguments);
            if (this.severity = e,
            this.category = t,
            this.code = n,
            this.data = i,
            this.handled = !1,
            this.message = "Shaka Error " + this.code,
            Be)
                try {
                    throw Error(this.message || "Shaka Error")
                } catch (e) {
                    this.stack = e.stack
                }
        }
        (e = Ue.prototype).Oa = null,
        e.rd = null,
        e.add = function(e, t) {
            Oe(this),
            this.g = null;
            var n = this.Oa.hasOwnProperty(e) ? this.Oa[e] : null;
            return n || (this.Oa[e] = n = []),
            n.push(t),
            this.rd++,
            this
        }
        ,
        e.set = function(e, t) {
            return Oe(this),
            this.g = null,
            this.Oa.hasOwnProperty(e) ? this.Oa[e] = [t] : this.add(e, t),
            this
        }
        ,
        e.get = function(e) {
            return Oe(this),
            this.Oa[e] || []
        }
        ,
        e.toString = function() {
            if (this.g)
                return this.g;
            if (!this.Oa)
                return "";
            var e, t = [];
            for (e in this.Oa)
                for (var n = encodeURIComponent(e), i = this.Oa[e], r = 0; r < i.length; r++) {
                    var a = n;
                    "" !== i[r] && (a += "=" + encodeURIComponent(i[r])),
                    t.push(a)
                }
            return this.g = t.join("&")
        }
        ,
        e.clone = function() {
            var e = new Ue;
            if (e.g = this.g,
            this.Oa) {
                var t, n = {};
                for (t in this.Oa)
                    n[t] = this.Oa[t].concat();
                e.Oa = n,
                e.rd = this.rd
            }
            return e
        }
        ,
        ke.prototype.toString = function() {
            return "shaka.util.Error " + JSON.stringify(this, null, "  ")
        }
        ,
        n("shaka.util.Error", ke);
        var Be = !0;
        function Fe(e, t) {
            if (0 == t.length)
                return e;
            if (1 == e.length && 1 == t.length)
                return n = new ge(e[0]),
                t = new ge(t[0]),
                [n.resolve(t).toString()];
            t = t.map(function(e) {
                return new ge(e)
            });
            for (var n = [], i = (e = we(e)).next(); !i.done; i = e.next())
                for (var i = new ge(i.value), r = we(t), a = r.next(); !a.done; a = r.next())
                    n.push(i.resolve(a.value).toString());
            return n
        }
        function Ge(e, t) {
            return {
                keySystem: e,
                licenseServerUri: "",
                distinctiveIdentifierRequired: !1,
                persistentStateRequired: !1,
                audioRobustness: "",
                videoRobustness: "",
                serverCertificate: null,
                serverCertificateUri: "",
                sessionType: "",
                initData: t || [],
                keyIds: new Set
            }
        }
        function Ve(e, t) {
            if (1 == t.length)
                return t[0];
            if (null != (e = Ke(e, t)))
                return e;
            throw new ke(2,4,4025,t)
        }
        function Ke(e, t) {
            for (var n = we(ze[e]), i = n.next(); !i.done; i = n.next())
                for (var i = i.value, r = we(t), a = r.next(); !a.done; a = r.next())
                    if (a = a.value,
                    i.test(a.trim()))
                        return a.trim();
            return e == he ? "" : null
        }
        ke.Severity = {
            RECOVERABLE: 1,
            CRITICAL: 2
        },
        ke.Category = {
            NETWORK: 1,
            TEXT: 2,
            MEDIA: 3,
            MANIFEST: 4,
            STREAMING: 5,
            DRM: 6,
            PLAYER: 7,
            CAST: 8,
            STORAGE: 9,
            ADS: 10
        },
        ke.Code = {
            UNSUPPORTED_SCHEME: 1e3,
            BAD_HTTP_STATUS: 1001,
            HTTP_ERROR: 1002,
            TIMEOUT: 1003,
            MALFORMED_DATA_URI: 1004,
            REQUEST_FILTER_ERROR: 1006,
            RESPONSE_FILTER_ERROR: 1007,
            MALFORMED_TEST_URI: 1008,
            UNEXPECTED_TEST_REQUEST: 1009,
            ATTEMPTS_EXHAUSTED: 1010,
            SEGMENT_MISSING: 1011,
            INVALID_TEXT_HEADER: 2e3,
            INVALID_TEXT_CUE: 2001,
            UNABLE_TO_DETECT_ENCODING: 2003,
            BAD_ENCODING: 2004,
            INVALID_XML: 2005,
            INVALID_MP4_TTML: 2007,
            INVALID_MP4_VTT: 2008,
            UNABLE_TO_EXTRACT_CUE_START_TIME: 2009,
            INVALID_MP4_CEA: 2010,
            TEXT_COULD_NOT_GUESS_MIME_TYPE: 2011,
            CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS: 2012,
            TEXT_ONLY_WEBVTT_SRC_EQUALS: 2013,
            MISSING_TEXT_PLUGIN: 2014,
            CHAPTERS_TRACK_FAILED: 2015,
            UNSUPPORTED_EXTERNAL_THUMBNAILS_URI: 2017,
            BUFFER_READ_OUT_OF_BOUNDS: 3e3,
            JS_INTEGER_OVERFLOW: 3001,
            EBML_OVERFLOW: 3002,
            EBML_BAD_FLOATING_POINT_SIZE: 3003,
            MP4_SIDX_WRONG_BOX_TYPE: 3004,
            MP4_SIDX_INVALID_TIMESCALE: 3005,
            MP4_SIDX_TYPE_NOT_SUPPORTED: 3006,
            WEBM_CUES_ELEMENT_MISSING: 3007,
            WEBM_EBML_HEADER_ELEMENT_MISSING: 3008,
            WEBM_SEGMENT_ELEMENT_MISSING: 3009,
            WEBM_INFO_ELEMENT_MISSING: 3010,
            WEBM_DURATION_ELEMENT_MISSING: 3011,
            WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING: 3012,
            WEBM_CUE_TIME_ELEMENT_MISSING: 3013,
            MEDIA_SOURCE_OPERATION_FAILED: 3014,
            MEDIA_SOURCE_OPERATION_THREW: 3015,
            VIDEO_ERROR: 3016,
            QUOTA_EXCEEDED_ERROR: 3017,
            TRANSMUXING_FAILED: 3018,
            CONTENT_TRANSFORMATION_FAILED: 3019,
            MSS_MISSING_DATA_FOR_TRANSMUXING: 3020,
            MSS_TRANSMUXING_CODEC_UNKNOWN: 3021,
            MSS_TRANSMUXING_FAILED: 3022,
            TRANSMUXING_NO_VIDEO_DATA: 3023,
            UNABLE_TO_GUESS_MANIFEST_TYPE: 4e3,
            DASH_INVALID_XML: 4001,
            DASH_NO_SEGMENT_INFO: 4002,
            DASH_EMPTY_ADAPTATION_SET: 4003,
            DASH_EMPTY_PERIOD: 4004,
            DASH_WEBM_MISSING_INIT: 4005,
            DASH_UNSUPPORTED_CONTAINER: 4006,
            DASH_PSSH_BAD_ENCODING: 4007,
            DASH_NO_COMMON_KEY_SYSTEM: 4008,
            DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED: 4009,
            DASH_CONFLICTING_KEY_IDS: 4010,
            RESTRICTIONS_CANNOT_BE_MET: 4012,
            HLS_PLAYLIST_HEADER_MISSING: 4015,
            INVALID_HLS_TAG: 4016,
            HLS_INVALID_PLAYLIST_HIERARCHY: 4017,
            DASH_DUPLICATE_REPRESENTATION_ID: 4018,
            HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND: 4020,
            HLS_REQUIRED_ATTRIBUTE_MISSING: 4023,
            HLS_REQUIRED_TAG_MISSING: 4024,
            HLS_COULD_NOT_GUESS_CODECS: 4025,
            HLS_KEYFORMATS_NOT_SUPPORTED: 4026,
            DASH_UNSUPPORTED_XLINK_ACTUATE: 4027,
            DASH_XLINK_DEPTH_LIMIT: 4028,
            CONTENT_UNSUPPORTED_BY_BROWSER: 4032,
            CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM: 4033,
            NO_VARIANTS: 4036,
            PERIOD_FLATTENING_FAILED: 4037,
            INCONSISTENT_DRM_ACROSS_PERIODS: 4038,
            HLS_VARIABLE_NOT_FOUND: 4039,
            HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED: 4040,
            HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED: 4041,
            NO_WEB_CRYPTO_API: 4042,
            CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM: 4045,
            MSS_INVALID_XML: 4046,
            MSS_LIVE_CONTENT_NOT_SUPPORTED: 4047,
            AES_128_INVALID_IV_LENGTH: 4048,
            AES_128_INVALID_KEY_LENGTH: 4049,
            DASH_CONFLICTING_AES_128: 4050,
            DASH_UNSUPPORTED_AES_128: 4051,
            STREAMING_ENGINE_STARTUP_INVALID_STATE: 5006,
            NO_RECOGNIZED_KEY_SYSTEMS: 6e3,
            REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE: 6001,
            FAILED_TO_CREATE_CDM: 6002,
            FAILED_TO_ATTACH_TO_VIDEO: 6003,
            INVALID_SERVER_CERTIFICATE: 6004,
            FAILED_TO_CREATE_SESSION: 6005,
            FAILED_TO_GENERATE_LICENSE_REQUEST: 6006,
            LICENSE_REQUEST_FAILED: 6007,
            LICENSE_RESPONSE_REJECTED: 6008,
            ENCRYPTED_CONTENT_WITHOUT_DRM_INFO: 6010,
            NO_LICENSE_SERVER_GIVEN: 6012,
            OFFLINE_SESSION_REMOVED: 6013,
            EXPIRED: 6014,
            SERVER_CERTIFICATE_REQUIRED: 6015,
            INIT_DATA_TRANSFORM_ERROR: 6016,
            SERVER_CERTIFICATE_REQUEST_FAILED: 6017,
            MIN_HDCP_VERSION_NOT_MATCH: 6018,
            ERROR_CHECKING_HDCP_VERSION: 6019,
            LOAD_INTERRUPTED: 7e3,
            OPERATION_ABORTED: 7001,
            NO_VIDEO_ELEMENT: 7002,
            OBJECT_DESTROYED: 7003,
            CONTENT_NOT_LOADED: 7004,
            CAST_API_UNAVAILABLE: 8e3,
            NO_CAST_RECEIVERS: 8001,
            ALREADY_CASTING: 8002,
            UNEXPECTED_CAST_ERROR: 8003,
            CAST_CANCELED_BY_USER: 8004,
            CAST_CONNECTION_TIMED_OUT: 8005,
            CAST_RECEIVER_APP_UNAVAILABLE: 8006,
            STORAGE_NOT_SUPPORTED: 9e3,
            INDEXED_DB_ERROR: 9001,
            DEPRECATED_OPERATION_ABORTED: 9002,
            REQUESTED_ITEM_NOT_FOUND: 9003,
            MALFORMED_OFFLINE_URI: 9004,
            CANNOT_STORE_LIVE_OFFLINE: 9005,
            NO_INIT_DATA_FOR_OFFLINE: 9007,
            LOCAL_PLAYER_INSTANCE_REQUIRED: 9008,
            NEW_KEY_OPERATION_NOT_SUPPORTED: 9011,
            KEY_NOT_FOUND: 9012,
            MISSING_STORAGE_CELL: 9013,
            STORAGE_LIMIT_REACHED: 9014,
            DOWNLOAD_SIZE_CALLBACK_ERROR: 9015,
            MODIFY_OPERATION_NOT_SUPPORTED: 9016,
            INDEXED_DB_INIT_TIMED_OUT: 9017,
            CS_IMA_SDK_MISSING: 1e4,
            CS_AD_MANAGER_NOT_INITIALIZED: 10001,
            SS_IMA_SDK_MISSING: 10002,
            SS_AD_MANAGER_NOT_INITIALIZED: 10003,
            CURRENT_DAI_REQUEST_NOT_FINISHED: 10004,
            MT_AD_MANAGER_NOT_INITIALIZED: 10005
        };
        var he = "text"
          , He = {
            ia: "video",
            U: "audio",
            Da: he,
            cf: "image",
            yj: "application"
        }
          , ze = {
            audio: [/^vorbis$/, /^Opus$/, /^opus$/, /^fLaC$/, /^flac$/, /^mp4a/, /^[ae]c-3$/, /^ac-4$/, /^dts[cex]$/],
            video: [/^avc/, /^hev/, /^hvc/, /^vvc/, /^vvi/, /^vp0?[89]/, /^av01/, /^dvh/],
            text: [/^vtt$/, /^wvtt/, /^stpp/]
        };
        function Xe() {}
        function We(e, t) {
            return e = de(e),
            t = de(t),
            e.split("-")[0] == t.split("-")[0]
        }
        function qe(e, t) {
            return e = de(e),
            t = de(t),
            e = e.split("-"),
            t = t.split("-"),
            e[0] == t[0] && 1 == e.length && 2 == t.length
        }
        function Ye(e, t) {
            return e = de(e),
            t = de(t),
            e = e.split("-"),
            t = t.split("-"),
            2 == e.length && 2 == t.length && e[0] == t[0]
        }
        function de(e) {
            var t = void 0 === (t = (e = we(e.split("-x-"))).next().value) ? "" : t
              , n = (e = void 0 === (e = e.next().value) ? "" : e,
            we(t.split("-")));
            return t = void 0 === (t = n.next().value) ? "" : t,
            n = void 0 === (n = n.next().value) ? "" : n,
            e = e ? "x-" + e : "",
            t = t.toLowerCase(),
            t = tt.get(t) || t,
            ((n = n.toUpperCase()) ? t + "-" + n : t) + (e ? "-" + e : "")
        }
        function Je(e, t) {
            var n = $e(e)
              , i = $e(t);
            return e != n && t != i && n == i
        }
        function Qe(e, t) {
            return e = de(e),
            (t = de(t)) == e ? 4 : qe(t, e) ? 3 : Ye(t, e) ? 2 : qe(e, t) ? 1 : 0
        }
        function $e(e) {
            var t = e.indexOf("-");
            return e = (e = 0 <= t ? e.substring(0, t) : e).toLowerCase(),
            tt.get(e) || e
        }
        function Ze(e) {
            return e.language ? de(e.language) : e.audio && e.audio.language ? de(e.audio.language) : e.video && e.video.language ? de(e.video.language) : "und"
        }
        function et(e, t) {
            e = de(e);
            var n = new Set
              , i = we(t);
            for (t = i.next(); !t.done; t = i.next())
                n.add(de(t.value));
            for (t = (i = we(n)).next(); !t.done; t = i.next())
                if ((t = t.value) == e)
                    return t;
            for (t = (i = we(n)).next(); !t.done; t = i.next())
                if (qe(t = t.value, e))
                    return t;
            for (t = (i = we(n)).next(); !t.done; t = i.next())
                if (Ye(t = t.value, e))
                    return t;
            for (t = (n = we(n)).next(); !t.done; t = n.next())
                if (qe(e, t = t.value))
                    return t;
            return null
        }
        n("shaka.util.LanguageUtils", Xe),
        Xe.findClosestLocale = et,
        Xe.getLocaleForVariant = Ze,
        Xe.getLocaleForText = function(e) {
            return de(e.language || "und")
        }
        ,
        Xe.getBase = $e,
        Xe.relatedness = Qe,
        Xe.areSiblings = Je,
        Xe.normalize = de,
        Xe.isSiblingOf = Ye,
        Xe.isParentOf = qe,
        Xe.areLanguageCompatible = We,
        Xe.areLocaleCompatible = function(e, t) {
            return (e = de(e)) == (t = de(t))
        }
        ;
        var tt = new Map([["aar", "aa"], ["abk", "ab"], ["afr", "af"], ["aka", "ak"], ["alb", "sq"], ["amh", "am"], ["ara", "ar"], ["arg", "an"], ["arm", "hy"], ["asm", "as"], ["ava", "av"], ["ave", "ae"], ["aym", "ay"], ["aze", "az"], ["bak", "ba"], ["bam", "bm"], ["baq", "eu"], ["bel", "be"], ["ben", "bn"], ["bih", "bh"], ["bis", "bi"], ["bod", "bo"], ["bos", "bs"], ["bre", "br"], ["bul", "bg"], ["bur", "my"], ["cat", "ca"], ["ces", "cs"], ["cha", "ch"], ["che", "ce"], ["chi", "zh"], ["chu", "cu"], ["chv", "cv"], ["cor", "kw"], ["cos", "co"], ["cre", "cr"], ["cym", "cy"], ["cze", "cs"], ["dan", "da"], ["deu", "de"], ["div", "dv"], ["dut", "nl"], ["dzo", "dz"], ["ell", "el"], ["eng", "en"], ["epo", "eo"], ["est", "et"], ["eus", "eu"], ["ewe", "ee"], ["fao", "fo"], ["fas", "fa"], ["fij", "fj"], ["fin", "fi"], ["fra", "fr"], ["fre", "fr"], ["fry", "fy"], ["ful", "ff"], ["geo", "ka"], ["ger", "de"], ["gla", "gd"], ["gle", "ga"], ["glg", "gl"], ["glv", "gv"], ["gre", "el"], ["grn", "gn"], ["guj", "gu"], ["hat", "ht"], ["hau", "ha"], ["heb", "he"], ["her", "hz"], ["hin", "hi"], ["hmo", "ho"], ["hrv", "hr"], ["hun", "hu"], ["hye", "hy"], ["ibo", "ig"], ["ice", "is"], ["ido", "io"], ["iii", "ii"], ["iku", "iu"], ["ile", "ie"], ["ina", "ia"], ["ind", "id"], ["ipk", "ik"], ["isl", "is"], ["ita", "it"], ["jav", "jv"], ["jpn", "ja"], ["kal", "kl"], ["kan", "kn"], ["kas", "ks"], ["kat", "ka"], ["kau", "kr"], ["kaz", "kk"], ["khm", "km"], ["kik", "ki"], ["kin", "rw"], ["kir", "ky"], ["kom", "kv"], ["kon", "kg"], ["kor", "ko"], ["kua", "kj"], ["kur", "ku"], ["lao", "lo"], ["lat", "la"], ["lav", "lv"], ["lim", "li"], ["lin", "ln"], ["lit", "lt"], ["ltz", "lb"], ["lub", "lu"], ["lug", "lg"], ["mac", "mk"], ["mah", "mh"], ["mal", "ml"], ["mao", "mi"], ["mar", "mr"], ["may", "ms"], ["mkd", "mk"], ["mlg", "mg"], ["mlt", "mt"], ["mon", "mn"], ["mri", "mi"], ["msa", "ms"], ["mya", "my"], ["nau", "na"], ["nav", "nv"], ["nbl", "nr"], ["nde", "nd"], ["ndo", "ng"], ["nep", "ne"], ["nld", "nl"], ["nno", "nn"], ["nob", "nb"], ["nor", "no"], ["nya", "ny"], ["oci", "oc"], ["oji", "oj"], ["ori", "or"], ["orm", "om"], ["oss", "os"], ["pan", "pa"], ["per", "fa"], ["pli", "pi"], ["pol", "pl"], ["por", "pt"], ["pus", "ps"], ["que", "qu"], ["roh", "rm"], ["ron", "ro"], ["rum", "ro"], ["run", "rn"], ["rus", "ru"], ["sag", "sg"], ["san", "sa"], ["sin", "si"], ["slk", "sk"], ["slo", "sk"], ["slv", "sl"], ["sme", "se"], ["smo", "sm"], ["sna", "sn"], ["snd", "sd"], ["som", "so"], ["sot", "st"], ["spa", "es"], ["sqi", "sq"], ["srd", "sc"], ["srp", "sr"], ["ssw", "ss"], ["sun", "su"], ["swa", "sw"], ["swe", "sv"], ["tah", "ty"], ["tam", "ta"], ["tat", "tt"], ["tel", "te"], ["tgk", "tg"], ["tgl", "tl"], ["tha", "th"], ["tib", "bo"], ["tir", "ti"], ["ton", "to"], ["tsn", "tn"], ["tso", "ts"], ["tuk", "tk"], ["tur", "tr"], ["twi", "tw"], ["uig", "ug"], ["ukr", "uk"], ["urd", "ur"], ["uzb", "uz"], ["ven", "ve"], ["vie", "vi"], ["vol", "vo"], ["wel", "cy"], ["wln", "wa"], ["wol", "wo"], ["xho", "xh"], ["yid", "yi"], ["yor", "yo"], ["zha", "za"], ["zho", "zh"], ["zul", "zu"]]);
        function nt(e) {
            d.call(this),
            this.j = de(e),
            this.i = new Map,
            this.g = new Set,
            this.h = new Map
        }
        function it(n) {
            for (var e = n.h, t = n.j, i = n.g, r = new Set, a = {}, o = we(i), s = o.next(); !s.done; a = {
                Fc: a.Fc
            },
            s = o.next()) {
                a.Fc = s.value,
                r.add(a.Fc),
                r.add($e(a.Fc)),
                (s = Z(e.keys(), function(t) {
                    return function(e) {
                        return Je(e, t.Fc)
                    }
                }(a))).sort();
                for (var u = we(s), s = u.next(); !s.done; s = u.next())
                    r.add(s.value);
                for ((s = Z(e.keys(), function(t) {
                    return function(e) {
                        return $e(e) == t.Fc
                    }
                }(a))).sort(),
                s = (u = we(s)).next(); !s.done; s = u.next())
                    r.add(s.value)
            }
            for (r.add(t),
            t = [],
            s = (r = we(r)).next(); !s.done; s = r.next())
                (s = e.get(s.value)) && t.push(s);
            for (t.reverse(),
            n.i.clear(),
            s = (e = we(t)).next(); !s.done; s = e.next())
                s.value.forEach(function(e, t) {
                    n.i.set(t, e)
                });
            for (e = n.i.keys(),
            r = new Set,
            s = (t = we(n.g)).next(); !s.done; s = t.next()) {
                s = n.h.get(s.value) || new Map;
                {
                    l = void 0;
                    c = void 0;
                    h = void 0;
                    d = void 0;
                    var l = s;
                    var c = e;
                    var h = r;
                    for (var d = (c = we(c)).next(); !d.done; d = c.next())
                        d = d.value,
                        l.get(d) || h.add(d)
                }
            }
            0 < r.size && (i = (new Map).set("locales", Array.from(i)).set("missing", Array.from(r)),
            n.dispatchEvent(new ce("missing-localizations",i)))
        }
        t(nt, d),
        (e = nt.prototype).release = function() {
            d.prototype.release.call(this)
        }
        ,
        e.Ig = function(e) {
            var t = this;
            this.g.clear();
            for (var n = (e = we(e)).next(); !n.done; n = e.next())
                this.g.add(de(n.value));
            it(this),
            (e = Z(this.g, function(e) {
                return !t.h.has(e)
            })).length && this.dispatchEvent(new ce("unknown-locales",(new Map).set("locales", e))),
            e = Z(this.g, function(e) {
                return t.h.has(e)
            }),
            e = (new Map).set("locales", e.length ? e : [this.j]),
            this.dispatchEvent(new ce("locale-changed",e))
        }
        ,
        e.ya = function(e, t, n) {
            e = de(e),
            void 0 === n && (n = rt);
            var i = this.h.get(e) || new Map;
            return t.forEach(function(e, t) {
                i.has(t) && n != rt || i.set(t, e)
            }),
            this.h.set(e, i),
            it(this),
            this.dispatchEvent(new ce("locale-updated")),
            this
        }
        ,
        e.ij = function(e) {
            for (var t = we(e.keys()), n = t.next(); !n.done; n = t.next())
                n = n.value,
                e.set(n, this.resolve(n))
        }
        ,
        e.resolve = function(e) {
            var t = this.i.get(e);
            return t || (e = (new Map).set("locales", Array.from(this.g)).set("missing", e),
            this.dispatchEvent(new ce("unknown-localization",e)),
            "")
        }
        ,
        e.bi = function() {
            return this.g
        }
        ,
        n("shaka.ui.Localization", nt),
        nt.prototype.getCurrentLocales = nt.prototype.bi,
        nt.prototype.resolveDictionary = nt.prototype.ij,
        nt.prototype.insert = nt.prototype.ya,
        nt.prototype.changeLocale = nt.prototype.Ig;
        var rt = 1;
        function at(e) {
            this.g = Math.exp(Math.log(.5) / e),
            this.i = this.h = 0
        }
        function ot(e) {
            return e.h / (1 - Math.pow(e.g, e.i))
        }
        function st() {
            this.h = new at(2),
            this.j = new at(5),
            this.g = 0,
            this.i = 128e3,
            this.l = 16e3
        }
        function ut(e) {
            return ct.has(e) ? ct.get(e) : z.ManagedMediaSource ? (t = ManagedMediaSource.isTypeSupported(e),
            ct.set(e, t),
            t) : !!z.MediaSource && (t = MediaSource.isTypeSupported(e),
            ct.set(e, t),
            t);
            var t
        }
        function lt() {
            return !!z.SourceBuffer && !!SourceBuffer.prototype && !!SourceBuffer.prototype.changeType
        }
        nt.ConflictResolution = {
            USE_OLD: 0,
            USE_NEW: rt
        },
        nt.UNKNOWN_LOCALES = "unknown-locales",
        nt.UNKNOWN_LOCALIZATION = "unknown-localization",
        nt.MISSING_LOCALIZATIONS = "missing-localizations",
        nt.LOCALE_CHANGED = "locale-changed",
        nt.LOCALE_UPDATED = "locale-updated",
        at.prototype.sample = function(e, t) {
            var n = Math.pow(this.g, e);
            t = t * (1 - n) + n * this.h,
            isNaN(t) || (this.h = t,
            this.i += e)
        }
        ,
        st.prototype.configure = function(e) {
            this.i = e.minTotalBytes,
            this.l = e.minBytes,
            this.h.g = Math.exp(Math.log(.5) / e.fastHalfLife),
            this.j.g = Math.exp(Math.log(.5) / e.slowHalfLife)
        }
        ,
        st.prototype.sample = function(e, t) {
            var n;
            t < this.l || (n = 8e3 * t / e,
            e /= 1e3,
            this.g += t,
            this.h.sample(e, n),
            this.j.sample(e, n))
        }
        ,
        st.prototype.getBandwidthEstimate = function(e) {
            return this.g < this.i ? e : Math.min(ot(this.h), ot(this.j))
        }
        ;
        var ct = new Map;
        function ht() {}
        function dt() {}
        function ft() {}
        function pt(e, t) {
            if (!e && !t)
                return !0;
            if (!e || !t || e.byteLength != t.byteLength)
                return !1;
            if (gt(e) == gt(t) && (e.byteOffset || 0) == (t.byteOffset || 0))
                return !0;
            var n = ne(e);
            t = ne(t);
            for (var i = 0; i < e.byteLength; i++)
                if (n[i] != t[i])
                    return !1;
            return !0
        }
        function gt(e) {
            return e instanceof ArrayBuffer ? e : e.buffer
        }
        function mt(e) {
            return e instanceof ArrayBuffer ? e : (0 == e.byteOffset && e.byteLength == e.buffer.byteLength ? e : new Uint8Array(e)).buffer
        }
        function ne(e, t, n) {
            return bt(e, void 0 === t ? 0 : t, n = void 0 === n ? 1 / 0 : n, Uint8Array)
        }
        function vt(e, t, n) {
            return bt(e, void 0 === t ? 0 : t, n = void 0 === n ? 1 / 0 : n, Uint16Array)
        }
        function yt(e, t, n) {
            return bt(e, void 0 === t ? 0 : t, n = void 0 === n ? 1 / 0 : n, DataView)
        }
        function bt(e, t, n, i) {
            var r = gt(e)
              , a = 1
              , o = ("BYTES_PER_ELEMENT"in i && (a = i.BYTES_PER_ELEMENT),
            ((e.byteOffset || 0) + e.byteLength) / a);
            return new i(r,e = Math.floor(Math.max(0, Math.min(((e.byteOffset || 0) + t) / a, o))),Math.floor(Math.min(e + Math.max(n, 0), o)) - e)
        }
        function wt() {}
        function Tt(e) {
            this.l = new dt,
            (e = At[e.toLowerCase()]) && (this.l = e()),
            this.g = new ht,
            (e = Et) && (this.g = e())
        }
        ht.prototype.extract = function() {}
        ,
        ht.prototype.decode = function() {
            return []
        }
        ,
        ht.prototype.clear = function() {}
        ,
        ht.prototype.getStreams = function() {
            return []
        }
        ,
        dt.prototype.init = function() {}
        ,
        dt.prototype.parse = function() {
            return []
        }
        ,
        n("shaka.util.BufferUtils", ft),
        ft.toDataView = yt,
        ft.toUint16 = vt,
        ft.toUint8 = ne,
        ft.toArrayBuffer = mt,
        ft.equal = pt,
        wt.prototype.init = function() {}
        ,
        wt.prototype.i = function() {}
        ,
        wt.prototype.h = function() {}
        ,
        wt.prototype.j = function() {}
        ,
        n("shaka.media.IClosedCaptionParser", wt),
        Tt.prototype.init = function(e) {
            this.l.init(e)
        }
        ,
        Tt.prototype.i = function(e) {
            for (var t = (e = we(e = this.l.parse(e))).next(); !t.done; t = e.next()) {
                var n = ne((t = t.value).packet);
                0 < n.length && this.g.extract(n, t.pts)
            }
            return this.g.decode()
        }
        ,
        Tt.prototype.h = function() {
            this.g.clear()
        }
        ,
        Tt.prototype.j = function() {
            return this.g.getStreams()
        }
        ,
        n("shaka.media.ClosedCaptionParser", Tt),
        Tt.findDecoder = function() {
            return Et
        }
        ,
        Tt.unregisterDecoder = function() {
            Et = null
        }
        ,
        Tt.registerDecoder = function(e) {
            Et = e
        }
        ,
        Tt.findParser = function(e) {
            return At[e]
        }
        ,
        Tt.unregisterParser = function(e) {
            delete At[e]
        }
        ,
        Tt.registerParser = function(e, t) {
            At[e] = t
        }
        ;
        var At = {}
          , Et = null;
        function St(e, t) {
            return !("number" != typeof e || "number" != typeof t || !isNaN(e) || !isNaN(t)) || e === t
        }
        function xt(e, t) {
            -1 < (t = e.indexOf(t)) && e.splice(t, 1)
        }
        function It(e, t, n) {
            if (n = n || St,
            e.length != t.length)
                return !1;
            t = t.slice();
            for (var i = {}, r = (e = we(e)).next(); !r.done; i = {
                Ue: i.Ue
            },
            r = e.next()) {
                if (i.Ue = r.value,
                -1 == (r = t.findIndex(function(t) {
                    return function(e) {
                        return n(t.Ue, e)
                    }
                }(i))))
                    return !1;
                t[r] = t[t.length - 1],
                t.pop()
            }
            return 0 == t.length
        }
        function kt(e, t, n) {
            if (n = n || St,
            e.length != t.length)
                return !1;
            for (var i = 0; i < e.length; i++)
                if (!n(e[i], t[i]))
                    return !1;
            return !0
        }
        function Ct(e, t, n) {
            this.startTime = e,
            this.endTime = t,
            this.payload = n,
            this.region = new Xt,
            this.position = null,
            this.positionAlign = Rt,
            this.size = 0,
            this.textAlign = Nt,
            this.direction = Ut,
            this.writingMode = Ot,
            this.lineInterpretation = jt,
            this.line = null,
            this.lineHeight = "",
            this.lineAlign = Bt,
            this.displayAlign = Dt,
            this.fontSize = this.border = this.backgroundImage = this.backgroundColor = this.color = "",
            this.fontWeight = Kt,
            this.fontStyle = Ht,
            this.linePadding = this.letterSpacing = this.fontFamily = "",
            this.opacity = 1,
            this.textCombineUpright = "",
            this.textDecoration = [],
            this.textStrokeWidth = this.textStrokeColor = this.textShadow = "",
            this.wrapLine = !0,
            this.id = "",
            this.nestedCues = [],
            this.lineBreak = this.isContainer = !1,
            this.rubyTag = null,
            this.cellResolution = {
                mc: 32,
                rows: 15
            }
        }
        function Mt(e, t) {
            return (e = new Ct(e,t,"")).lineBreak = !0,
            e
        }
        function Lt(e, t) {
            if (e.startTime != t.startTime || e.endTime != t.endTime || e.payload != t.payload)
                return !1;
            for (var n in e)
                if ("startTime" != n && "endTime" != n && "payload" != n)
                    if ("nestedCues" == n) {
                        if (!kt(e.nestedCues, t.nestedCues, Lt))
                            return !1
                    } else if ("region" == n || "cellResolution" == n) {
                        for (var i in e[n])
                            if (e[n][i] != t[n][i])
                                return !1
                    } else if (Array.isArray(e[n])) {
                        if (!kt(e[n], t[n]))
                            return !1
                    } else if (e[n] != t[n])
                        return !1;
            return !0
        }
        Ct.prototype.clone = function() {
            var e, t = new Ct(0,0,"");
            for (e in this)
                t[e] = this[e],
                t[e] && t[e].constructor == Array && (t[e] = t[e].slice());
            return t
        }
        ,
        n("shaka.text.Cue", Ct),
        Ct.equal = Lt;
        var Rt = "auto"
          , Nt = (Ct.positionAlign = {
            LEFT: "line-left",
            RIGHT: "line-right",
            CENTER: "center",
            AUTO: Rt
        },
        "center")
          , Pt = {
            LEFT: "left",
            RIGHT: "right",
            CENTER: Nt,
            START: "start",
            END: "end"
        }
          , Dt = (Ct.textAlign = Pt,
        "after")
          , _t = {
            BEFORE: "before",
            CENTER: "center",
            AFTER: Dt
        }
          , Ut = (Ct.displayAlign = _t,
        "ltr")
          , Ot = (Ct.direction = {
            HORIZONTAL_LEFT_TO_RIGHT: Ut,
            HORIZONTAL_RIGHT_TO_LEFT: "rtl"
        },
        "horizontal-tb")
          , jt = (Ct.writingMode = {
            HORIZONTAL_TOP_TO_BOTTOM: Ot,
            VERTICAL_LEFT_TO_RIGHT: "vertical-lr",
            VERTICAL_RIGHT_TO_LEFT: "vertical-rl"
        },
        0)
          , Bt = (Ct.lineInterpretation = {
            LINE_NUMBER: jt,
            PERCENTAGE: 1
        },
        "start")
          , Ft = {
            CENTER: "center",
            START: Bt,
            END: "end"
        }
          , Gt = (Ct.lineAlign = Ft,
        {
            white: "white",
            lime: "lime",
            cyan: "cyan",
            red: "red",
            yellow: "yellow",
            magenta: "magenta",
            blue: "blue",
            black: "black"
        })
          , Vt = (Ct.defaultTextColor = Gt,
        {
            bg_white: "white",
            bg_lime: "lime",
            bg_cyan: "cyan",
            bg_red: "red",
            bg_yellow: "yellow",
            bg_magenta: "magenta",
            bg_blue: "blue",
            bg_black: "black"
        })
          , Kt = (Ct.defaultTextBackgroundColor = Vt,
        400)
          , Ht = (Ct.fontWeight = {
            NORMAL: Kt,
            BOLD: 700
        },
        "normal")
          , zt = {
            NORMAL: Ht,
            ITALIC: "italic",
            OBLIQUE: "oblique"
        };
        function Xt() {
            this.id = "",
            this.regionAnchorY = this.regionAnchorX = this.viewportAnchorY = this.viewportAnchorX = 0,
            this.height = this.width = 100,
            this.viewportAnchorUnits = this.widthUnits = this.heightUnits = Wt,
            this.scroll = qt
        }
        Ct.fontStyle = zt,
        Ct.textDecoration = {
            UNDERLINE: "underline",
            LINE_THROUGH: "lineThrough",
            OVERLINE: "overline"
        },
        n("shaka.text.CueRegion", Xt);
        var Wt = 1
          , qt = (Xt.units = {
            PX: 0,
            PERCENTAGE: Wt,
            LINES: 2
        },
        "");
        function Yt() {}
        function Jt(e, t, n) {
            $t[e.toLowerCase().split(";")[0] + "-" + n] = {
                priority: n,
                Ge: t
            }
        }
        function Qt(e, t) {
            for (var n = e.toLowerCase().split(";")[0], i = we([nn, tn, en, Zt]), r = i.next(); !r.done; r = i.next())
                if (r = $t[n + "-" + r.value]) {
                    var a = r.Ge()
                      , o = a.isSupported(e, t);
                    if (a.destroy(),
                    o)
                        return r.Ge
                }
            return null
        }
        Xt.scrollMode = {
            NONE: qt,
            UP: "up"
        },
        Yt.prototype.destroy = function() {}
        ,
        n("shaka.transmuxer.TransmuxerEngine", Yt),
        Yt.findTransmuxer = Qt,
        Yt.unregisterTransmuxer = function(e, t) {
            delete $t[e.toLowerCase().split(";")[0] + "-" + t]
        }
        ,
        Yt.registerTransmuxer = Jt;
        var $t = {}
          , Zt = 1
          , en = 2
          , tn = 3
          , nn = 4;
        function rn() {}
        function an(e, t) {
            var n = e;
            return t && !fn.includes(e) && (n += '; codecs="' + t + '"'),
            n
        }
        function on(e, t) {
            return t && (e += '; codecs="' + t + '"'),
            e
        }
        function sn(e, t, n) {
            var i = an(e, t);
            return Qt(t = on(e, t)) ? (e = Qt(t)) ? (n = (e = e()).convertCodecs(n, t),
            e.destroy()) : n = t : n = "video/mp2t" != e && "audio" == n ? i.replace("video", "audio") : i,
            n
        }
        function un(e) {
            var t = dn(e);
            switch (e = t[0],
            t = t[1].toLowerCase(),
            !0) {
            case "mp4a" === e && "69" === t:
            case "mp4a" === e && "6b" === t:
            case "mp4a" === e && "40.34" === t:
                return "mp3";
            case "mp4a" === e && "66" === t:
            case "mp4a" === e && "67" === t:
            case "mp4a" === e && "68" === t:
            case "mp4a" === e && "40.2" === t:
            case "mp4a" === e && "40.02" === t:
            case "mp4a" === e && "40.5" === t:
            case "mp4a" === e && "40.05" === t:
            case "mp4a" === e && "40.29" === t:
            case "mp4a" === e && "40.42" === t:
                return "aac";
            case "mp4a" === e && "a5" === t:
                return "ac-3";
            case "mp4a" === e && "a6" === t:
                return "ec-3";
            case "mp4a" === e && "b2" === t:
                return "dtsx";
            case "mp4a" === e && "a9" === t:
                return "dtsc";
            case "avc1" === e:
            case "avc3" === e:
                return "avc";
            case "hvc1" === e:
            case "hev1" === e:
                return "hevc";
            case "dvh1" === e:
            case "dvhe" === e:
                return "dovi"
            }
            return e
        }
        function ln(e) {
            for (var t = [], n = (e = we(e.split(","))).next(); !n.done; n = e.next())
                n = dn(n.value),
                t.push(n[0]);
            return t.sort().join(",")
        }
        function cn(e) {
            return e.split(";")[0]
        }
        function hn(e) {
            return (e = e.split(/ *; */)).shift(),
            (e = e.find(function(e) {
                return e.startsWith("codecs=")
            })) ? e.split("=")[1].replace(/^"|"$/g, "") : ""
        }
        function dn(e) {
            var t = (e = e.split("."))[0];
            return e.shift(),
            [t, e.join(".")]
        }
        Yt.PluginPriority = {
            FALLBACK: Zt,
            PREFERRED_SECONDARY: en,
            PREFERRED: tn,
            APPLICATION: nn
        },
        n("shaka.util.MimeUtils", rn),
        rn.getFullTypeWithAllCodecs = on,
        rn.getFullType = an,
        (new Map).set("codecs", "codecs").set("frameRate", "framerate").set("bandwidth", "bitrate").set("width", "width").set("height", "height").set("channelsCount", "channels");
        var fn = ["audio/aac", "audio/ac3", "audio/ec3", "audio/mpeg"];
        function pn(e) {
            this.i = null,
            this.j = e,
            this.C = !1,
            this.l = this.u = 0,
            this.m = 1 / 0,
            this.h = this.g = null,
            this.D = "",
            this.s = new Map
        }
        function gn(e) {
            return !!yn[e] || ("application/cea-608" == e || "application/cea-708" == e) && !!Et
        }
        function mn(e, t, n) {
            if (e.D = t,
            t = e.s.get(t))
                for (var i = we(t.keys()), r = i.next(); !r.done; r = i.next())
                    (r = t.get(r.value).filter(function(e) {
                        return e.endTime <= n
                    })) && e.j.append(r)
        }
        function vn(e, t, n, i, r) {
            for (var a = n + " " + i, o = new Map, s = (t = we(t)).next(); !s.done; s = t.next()) {
                var s = (u = s.value).stream
                  , u = u.cue;
                o.has(s) || o.set(s, new Map),
                o.get(s).has(a) || o.get(s).set(a, []),
                !function e(t, n, i) {
                    n.startTime += i,
                    n.endTime += i;
                    for (var r = (n = we(n.nestedCues)).next(); !r.done; r = n.next())
                        e(t, r.value, i)
                }(e, u, r),
                u.startTime >= e.l && u.startTime < e.m && (o.get(s).get(a).push(u),
                s == e.D && e.j.append([u]))
            }
            for (a = (r = we(o.keys())).next(); !a.done; a = r.next())
                for (a = a.value,
                e.s.has(a) || e.s.set(a, new Map),
                s = (t = we(o.get(a).keys())).next(); !s.done; s = t.next())
                    s = s.value,
                    u = o.get(a).get(s),
                    e.s.get(a).set(s, u);
            e.g = null == e.g ? Math.max(n, e.l) : Math.min(e.g, Math.max(n, e.l)),
            e.h = Math.max(e.h, Math.min(i, e.m))
        }
        pn.prototype.destroy = function() {
            return this.j = this.i = null,
            this.s.clear(),
            Promise.resolve()
        }
        ,
        pn.prototype.remove = function(t, n) {
            var i = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return Te(e, Promise.resolve(), 2);
                !i.j || !i.j.remove(t, n) || null == i.g || n <= i.g || t >= i.h || (t <= i.g && n >= i.h ? i.g = i.h = null : t <= i.g && n < i.h ? i.g = n : t > i.g && n >= i.h && (i.h = t)),
                Ae(e)
            })
        }
        ,
        n("shaka.text.TextEngine", pn),
        pn.findParser = function(e) {
            return yn[e]
        }
        ,
        pn.unregisterParser = function(e) {
            delete yn[e]
        }
        ,
        pn.registerParser = function(e, t) {
            yn[e] = t
        }
        ;
        var yn = {};
        function bn(e, t) {
            return e.concat(t)
        }
        function wn() {}
        function Tn(e) {
            return null != e
        }
        function An(e) {
            var a = new WeakSet;
            return function e(t) {
                switch (typeof t) {
                case "undefined":
                case "boolean":
                case "number":
                case "string":
                case "symbol":
                case "function":
                    return t;
                default:
                    if (!t || t.buffer && t.buffer.constructor == ArrayBuffer)
                        return t;
                    if (a.has(t))
                        return null;
                    var n = t.constructor == Array;
                    if (t.constructor != Object && !n)
                        return null;
                    a.add(t);
                    var i, r = n ? [] : {};
                    for (i in t)
                        r[i] = e(t[i]);
                    return n && (r.length = t.length),
                    r
                }
            }(e)
        }
        function En(e) {
            var t, n = {};
            for (t in e)
                n[t] = e[t];
            return n
        }
        function Sn(e) {
            this.h = e,
            this.g = null
        }
        function I(e) {
            this.h = e,
            this.g = null
        }
        function xn() {
            var e = z.ManagedMediaSource || z.MediaSource;
            return !(!e || !e.isTypeSupported)
        }
        function In(e) {
            return "" != jn().canPlayType(e)
        }
        function kn() {
            return !!navigator.userAgent.match(/Edge?\//)
        }
        function Cn() {
            return On("Xbox One")
        }
        function Mn() {
            return On("Tizen")
        }
        function Ln() {
            return On("Tizen 3")
        }
        function Rn() {
            return On("Tizen 2")
        }
        function Nn() {
            return On("Web0S") && On("Chrome/38.0.2125.122 Safari/537.36")
        }
        function Pn() {
            return On("CrKey")
        }
        function Dn() {
            return !!navigator.vendor && navigator.vendor.includes("Apple") && !Mn() && !On("PC=EOS") && !On("PC=APL") && !On("VirginMedia") && !On("SOPOpenBrowser") && !_n() && !On("AFT") && !On("WPE")
        }
        function _n() {
            return On("PlayStation 4")
        }
        function Un() {
            if (!Dn())
                return null;
            var e = navigator.userAgent.match(/Version\/(\d+)/);
            return (e = e || navigator.userAgent.match(/OS (\d+)(?:_\d+)?/)) ? parseInt(e[1], 10) : null
        }
        function On(e) {
            return (navigator.userAgent || "").includes(e)
        }
        function jn() {
            return Fn || (Bn = Bn || new I(function() {
                Fn = null
            }
            ),
            (Fn = document.getElementsByTagName("video")[0] || document.getElementsByTagName("audio")[0]) || (Fn = document.createElement("video")),
            Bn.S(1),
            Fn)
        }
        Sn.prototype.S = function(e) {
            var t = this
              , n = (this.stop(),
            !0)
              , i = null;
            return this.g = function() {
                z.clearTimeout(i),
                n = !1
            }
            ,
            i = z.setTimeout(function() {
                n && t.h()
            }, 1e3 * e),
            this
        }
        ,
        Sn.prototype.stop = function() {
            this.g && (this.g(),
            this.g = null)
        }
        ,
        I.prototype.Qa = function() {
            return this.stop(),
            this.h(),
            this
        }
        ,
        I.prototype.S = function(e) {
            var t = this;
            return this.stop(),
            this.g = new Sn(function() {
                t.h()
            }
            ).S(e),
            this
        }
        ,
        I.prototype.za = function(e) {
            var t = this;
            return this.stop(),
            this.g = new Sn(function() {
                t.g.S(e),
                t.h()
            }
            ).S(e),
            this
        }
        ,
        I.prototype.stop = function() {
            this.g && (this.g.stop(),
            this.g = null)
        }
        ,
        n("shaka.util.Timer", I),
        I.prototype.tickEvery = I.prototype.za,
        I.prototype.tickAfter = I.prototype.S,
        I.prototype.tickNow = I.prototype.Qa;
        var Bn = null
          , Fn = null;
        function Gn() {}
        function Vn(e, t, n, a) {
            var i = e.variants;
            if ((t.length || n.length) && (i = function(e, t, n) {
                for (var i = {}, r = (t = we(t)).next(); !r.done; i = {
                    bf: i.bf
                },
                r = t.next())
                    if (i.bf = r.value,
                    (r = e.filter(function(t) {
                        return function(e) {
                            return e.video && e.video.codecs.startsWith(t.bf)
                        }
                    }(i))).length) {
                        e = r;
                        break
                    }
                for (i = {},
                n = we(n),
                t = n.next(); !t.done; i = {
                    Se: i.Se
                },
                t = n.next())
                    if (i.Se = t.value,
                    (t = e.filter(function(t) {
                        return function(e) {
                            return e.audio && e.audio.codecs.startsWith(t.Se)
                        }
                    }(i))).length) {
                        e = t;
                        break
                    }
                return e
            }(i, t, n)),
            a.length) {
                for (t = new Q,
                i = (n = we(i)).next(); !i.done; i = n.next())
                    i = i.value,
                    t.push(String(i.video.width || 0), i);
                var o = [];
                t.forEach(function(e, t) {
                    e = 0;
                    for (var n = [], i = {}, r = (t = we(t)).next(); !r.done; i = {
                        md: i.md
                    },
                    r = t.next())
                        i.md = r.value,
                        e < (r = a.filter(function(t) {
                            return function(e) {
                                return t.md.decodingInfos[0][e]
                            }
                        }(i)).length) ? (e = r,
                        n = [i.md]) : r == e && n.push(i.md);
                    o.push.apply(o, le(n))
                }),
                i = o
            }
            n = new Set,
            t = new Set;
            for (i = (s = we(i)).next(); !i.done; i = s.next())
                (i = i.value).audio && n.add(i.audio),
                i.video && t.add(i.video);
            n = Array.from(n).sort(function(e, t) {
                return e.bandwidth - t.bandwidth
            });
            var r = [];
            for (i = new Map,
            s = (n = we(n)).next(); !s.done; s = n.next()) {
                var s, u, l = (s = s.value).language + (s.channelsCount || 0) + (s.audioSamplingRate || 0) + s.roles.join(",") + s.label + s.groupId + s.fastSwitching, c = i.get(l) || [];
                (!c.length || un((u = c[c.length - 1]).codecs) == un(s.codecs) && s.bandwidth > u.bandwidth) && (c.push(s),
                r.push(s.id)),
                i.set(l, c)
            }
            n = Array.from(t).sort(function(e, t) {
                return e.bandwidth && t.bandwidth ? e.bandwidth - t.bandwidth : e.width - t.width
            }),
            t = lt();
            var h = [];
            for (i = new Map,
            s = (n = we(n)).next(); !s.done; s = n.next()) {
                if (s = s.value,
                l = Math.round(s.frameRate || 0) + (s.hdr || "") + s.fastSwitching,
                (c = i.get(l) || []).length) {
                    if (u = c[c.length - 1],
                    !t && un(u.codecs) !== un(s.codecs))
                        continue;
                    s.width > u.width || s.height > u.height ? (c.push(s),
                    h.push(s.id)) : s.width == u.width && s.height == u.height && (un(u.codecs) == un(s.codecs) && s.bandwidth > u.bandwidth && (c.push(s),
                    h.push(s.id)))
                } else
                    c.push(s),
                    h.push(s.id);
                i.set(l, c)
            }
            e.variants = e.variants.filter(function(e) {
                var t = e.audio;
                return e = e.video,
                !(t && !r.includes(t.id) || e && !h.includes(e.id))
            })
        }
        function Kn(e, t, n) {
            function i(e, t, n) {
                return t <= e && e <= n
            }
            var r = e.video;
            return !(r && r.width && r.height && (!i(r.width, t.minWidth, Math.min(t.maxWidth, n.width)) || !i(r.height, t.minHeight, Math.min(t.maxHeight, n.height)) || !i(r.width * r.height, t.minPixels, t.maxPixels)) || e && e.video && e.video.frameRate && !i(e.video.frameRate, t.minFrameRate, t.maxFrameRate) || !i(e.bandwidth, t.minBandwidth, t.maxBandwidth))
        }
        function Hn(e, t, n) {
            for (var i = !1, r = (e = we(e)).next(); !r.done; r = e.next()) {
                var a = (r = r.value).allowedByApplication;
                r.allowedByApplication = Kn(r, t, n),
                a != r.allowedByApplication && (i = !0)
            }
            return i
        }
        function zn(n, l) {
            return Ie(function(e) {
                return 1 == e.g ? Te(e, Xn(n, l, 0 < l.offlineSessionIds.length), 2) : (l.textStreams = l.textStreams.filter(function(e) {
                    return gn(e = an(e.mimeType, e.codecs))
                }),
                Te(e, (t = l,
                Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        i = [],
                        r = we(t.imageStreams),
                        a = r.next();
                    case 2:
                        if (a.done) {
                            e.F(4);
                            break
                        }
                        if (o = a.value,
                        "application/mp4" == (s = o.mimeType) && "mjpg" == o.codecs && (s = "image/jpg"),
                        fi.has(s)) {
                            e.F(5);
                            break
                        }
                        if (u = pi.get(s))
                            return Te(e, (n = u,
                            new Promise(function(e) {
                                var t = new Image;
                                t.src = n,
                                "decode"in t ? t.decode().then(function() {
                                    e(!0)
                                }).catch(function() {
                                    e(!1)
                                }) : t.onload = t.onerror = function() {
                                    e(2 === t.height)
                                }
                            }
                            )), 7);
                        fi.set(s, !1),
                        e.F(5);
                        break;
                    case 7:
                        u = e.h,
                        fi.set(s, u);
                    case 5:
                        fi.get(s) && i.push(o),
                        a = r.next(),
                        e.F(2);
                        break;
                    case 4:
                        t.imageStreams = i,
                        Ae(e)
                    }
                    var n
                })), 0));
                var t, i, r, a, o, s, u
            })
        }
        function Xn(t, n, i) {
            var r, a, o, s, u;
            return Ie(function(e) {
                if (1 == e.g)
                    return Te(e, qn(n.variants, i, !1, []), 2);
                r = null,
                t && (a = t.g) && (r = a.keySystem),
                o = He,
                s = Cn(),
                u = On("Firefox") && On("Android"),
                n.variants = n.variants.filter(function(e) {
                    var t = e.video
                      , n = t && t.width || 0
                      , i = t && t.height || 0;
                    if (s && t && (1920 < n || 1080 < i) && (t.codecs.includes("avc1.") || t.codecs.includes("avc3.")))
                        return li(e),
                        !1;
                    if (t) {
                        if (n = Qn(t.codecs),
                        t.codecs.includes(",")) {
                            i = t.codecs.split(",");
                            n = Qn(n = Ve(o.ia, i)),
                            i = Jn(i = Ve(o.U, i));
                            if (!ut(sn(t.mimeType, i, o.U)))
                                return !1;
                            n = [n, i].join()
                        }
                        if (!ut(i = sn(t.mimeType, n, o.ia)))
                            return !1;
                        t.codecs = n
                    }
                    if (t = e.audio,
                    u && t && t.encrypted && t.codecs.toLowerCase().includes("opus"))
                        return li(e),
                        !1;
                    if (t) {
                        if (n = Jn(t.codecs),
                        !ut(i = sn(t.mimeType, n, o.U)))
                            return !1;
                        t.codecs = n
                    }
                    return (t = e.decodingInfos.some(function(e) {
                        return !(!e.supported || r && (e = e.keySystemAccess) && e.keySystem != r)
                    })) || li(e),
                    t
                }),
                Ae(e)
            })
        }
        function Wn(t, n) {
            var i, r, a, o, s, u, l;
            return Ie(function(e) {
                if (1 == e.g)
                    return i = function e(t) {
                        var n = [];
                        for (i in t)
                            n.push(i);
                        n.sort();
                        for (var i = [], r = (n = we(n)).next(); !r.done; r = n.next()) {
                            var a = r.value
                              , r = JSON.stringify(a);
                            a = (a = t[a])instanceof Object ? e(a) : JSON.stringify(a),
                            i.push(r + ":" + a)
                        }
                        return "{" + i.join(",") + "}"
                    }(n),
                    (r = hi)[i] ? (t.decodingInfos.push(r[i]),
                    e.F(0)) : Te(e, function(e) {
                        for (var t = [""], n = (e.video && (t = hn(e.video.contentType).split(",")),
                        [""]), i = (e.audio && (n = hn(e.audio.contentType).split(",")),
                        []), r = (t = we(t)).next(); !r.done; r = t.next()) {
                            r = r.value;
                            for (var a = {}, o = we(n), s = o.next(); !s.done; a = {
                                ic: a.ic
                            },
                            s = o.next())
                                s = s.value,
                                a.ic = An(e),
                                e.video && (a.ic.video.contentType = an(cn(a.ic.video.contentType), r)),
                                e.audio && (a.ic.audio.contentType = an(cn(a.ic.audio.contentType), s)),
                                i.push(new Promise(function(n) {
                                    return function(t, e) {
                                        navigator.mediaCapabilities.decodingInfo(n.ic).then(function(e) {
                                            t(e)
                                        }).catch(e)
                                    }
                                }(a)))
                        }
                        return Promise.all(i).catch(function() {
                            return JSON.stringify(e),
                            null
                        })
                    }(n), 3);
                if ((a = e.h) && a.length) {
                    for (o = null,
                    s = we(a),
                    u = s.next(); !u.done; u = s.next())
                        l = u.value,
                        o ? (o.supported = o.supported && l.supported,
                        o.powerEfficient = o.powerEfficient && l.powerEfficient,
                        o.smooth = o.smooth && l.smooth,
                        l.keySystemAccess || (o.keySystemAccess = null)) : o = l;
                    o && (r[i] = o,
                    t.decodingInfos.push(o))
                }
                Ae(e)
            })
        }
        function qn(n, i, r, a) {
            var o, s, u, l, c, h, d, f, p, g, m, v, y, b;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (n.some(function(e) {
                        return e.decodingInfos.length
                    }))
                        return e.return();
                    o = {},
                    s = we(a),
                    u = s.next();
                case 2:
                    if (u.done) {
                        e.F(4);
                        break
                    }
                    o.We = u.value,
                    l = !1,
                    c = we(n),
                    h = c.next();
                case 5:
                    if (h.done) {
                        e.F(7);
                        break
                    }
                    d = h.value,
                    f = Yn(d, i, r).filter((t = o,
                    function(e) {
                        return (e.keySystemConfiguration && e.keySystemConfiguration.keySystem) === t.We
                    }
                    )),
                    f = we(f),
                    p = f.next();
                case 8:
                    if (p.done) {
                        e.F(10);
                        break
                    }
                    return v = p.value,
                    Te(e, Wn(d, v), 9);
                case 9:
                    p = f.next(),
                    e.F(8);
                    break;
                case 10:
                    d.decodingInfos.length && (l = !0),
                    h = c.next(),
                    e.F(5);
                    break;
                case 7:
                    if (l)
                        return e.return();
                    o = {
                        We: o.We
                    },
                    u = s.next(),
                    e.F(2);
                    break;
                case 4:
                    g = we(n),
                    h = g.next();
                case 12:
                    if (h.done) {
                        e.F(0);
                        break
                    }
                    m = h.value,
                    v = Yn(m, i, r).filter(function(e) {
                        return !(e = e.keySystemConfiguration && e.keySystemConfiguration.keySystem) || !a.includes(e)
                    }),
                    y = we(v),
                    p = y.next();
                case 15:
                    if (p.done) {
                        h = g.next(),
                        e.F(12);
                        break
                    }
                    return b = p.value,
                    Te(e, Wn(m, b), 16);
                case 16:
                    p = y.next(),
                    e.F(15)
                }
                var t
            })
        }
        function Yn(e, t, n) {
            var i = e.audio
              , r = e.video;
            if (n = {
                type: n ? "file" : "media-source"
            },
            r) {
                var a = r.codecs;
                if (r.codecs.includes(",") && (a = Qn(a = Ve("video", o = r.codecs.split(","))),
                o = Jn(o = Ve("audio", o)),
                o = sn(r.mimeType, o, "audio"),
                n.audio = {
                    contentType: o,
                    channels: 2,
                    bitrate: e.bandwidth || 1,
                    samplerate: 1,
                    spatialRendering: !1
                }),
                a = Qn(a),
                a = sn(r.mimeType, a, "video"),
                n.video = {
                    contentType: a,
                    width: r.width || 64,
                    height: r.height || 64,
                    bitrate: r.bandwidth || e.bandwidth || 1,
                    framerate: r.frameRate || 1
                },
                r.hdr)
                    switch (r.hdr) {
                    case "SDR":
                        n.video.transferFunction = "srgb";
                        break;
                    case "PQ":
                        n.video.transferFunction = "pq";
                        break;
                    case "HLG":
                        n.video.transferFunction = "hlg"
                    }
            }
            if (i && (a = Jn(i.codecs),
            a = sn(i.mimeType, a, "audio"),
            n.audio = {
                contentType: a,
                channels: i.channelsCount || 2,
                bitrate: i.bandwidth || e.bandwidth || 1,
                samplerate: i.audioSamplingRate || 1,
                spatialRendering: i.spatialAudio
            }),
            !(o = (e.video ? e.video.drmInfos : []).concat(e.audio ? e.audio.drmInfos : [])).length)
                return [n];
            e = [],
            a = new Map;
            for (var o, s = (o = we(o)).next(); !s.done; s = o.next()) {
                var u = s.value;
                a.get(u.keySystem) || a.set(u.keySystem, []),
                a.get(u.keySystem).push(u)
            }
            o = t ? "required" : "optional",
            t = t ? ["persistent-license"] : ["temporary"];
            for (var l = (u = we(a.keys())).next(); !l.done; l = u.next()) {
                for (var c = l.value, l = Object.assign({}, n), h = a.get(c), c = {
                    keySystem: c,
                    initDataType: "cenc",
                    persistentState: o,
                    distinctiveIdentifier: "optional",
                    sessionTypes: t
                }, s = (h = we(h)).next(); !s.done; s = h.next()) {
                    if ((s = s.value).initData && s.initData.length) {
                        for (var d = new Set, f = we(s.initData), p = f.next(); !p.done; p = f.next())
                            d.add(p.value.initDataType);
                        c.initDataType = s.initData[0].initDataType
                    }
                    s.distinctiveIdentifierRequired && (c.distinctiveIdentifier = "required"),
                    s.persistentStateRequired && (c.persistentState = "required"),
                    s.sessionType && (c.sessionTypes = [s.sessionType]),
                    i && ("" != s.audioRobustness ? c.audio ? c.audio.robustness = c.audio.robustness || s.audioRobustness : c.audio = {
                        robustness: s.audioRobustness
                    } : c.audio || (c.audio = {})),
                    r && ("" != s.videoRobustness ? c.video ? c.video.robustness = c.video.robustness || s.videoRobustness : c.video = {
                        robustness: s.videoRobustness
                    } : c.video || (c.video = {}))
                }
                l.keySystemConfiguration = c,
                e.push(l)
            }
            return e
        }
        function Jn(e) {
            return "fLaC" !== e || Un() ? "Opus" === e ? "opus" : e : "flac"
        }
        function Qn(e) {
            if (e.includes("avc1")) {
                var t = e.split(".");
                if (3 == t.length)
                    return e = t.shift() + ".",
                    (e += parseInt(t.shift(), 10).toString(16)) + ("000" + parseInt(t.shift(), 10).toString(16)).slice(-4)
            } else if ("vp9" == e)
                return "vp09.00.41.08";
            return e
        }
        function $n(e) {
            var t = e.audio
              , n = e.video
              , i = t ? t.mimeType : null
              , r = n ? n.mimeType : null
              , a = t ? t.codecs : null
              , o = n ? n.codecs : null
              , s = []
              , u = (o && s.push(o),
            a && s.push(a),
            [])
              , l = (n && u.push(n.mimeType),
            t && u.push(t.mimeType),
            u = u[0] || null,
            [])
              , c = (t && l.push(t.kind),
            n && l.push(n.kind),
            l = l[0] || null,
            new Set);
            if (t)
                for (var h = we(t.roles), d = h.next(); !d.done; d = h.next())
                    c.add(d.value);
            if (n)
                for (d = (h = we(n.roles)).next(); !d.done; d = h.next())
                    c.add(d.value);
            return e = {
                id: e.id,
                active: !1,
                type: "variant",
                bandwidth: e.bandwidth,
                language: e.language,
                label: null,
                kind: l,
                width: null,
                height: null,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                videoLayout: null,
                mimeType: u,
                audioMimeType: i,
                videoMimeType: r,
                codecs: s.join(", "),
                audioCodec: a,
                videoCodec: o,
                primary: e.primary,
                roles: Array.from(c),
                audioRoles: null,
                forced: !1,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: null,
                originalImageId: null,
                accessibilityPurpose: null,
                originalLanguage: null
            },
            n && (e.videoId = n.id,
            e.originalVideoId = n.originalId,
            e.width = n.width || null,
            e.height = n.height || null,
            e.frameRate = n.frameRate || null,
            e.pixelAspectRatio = n.pixelAspectRatio || null,
            e.videoBandwidth = n.bandwidth || null,
            e.hdr = n.hdr || null,
            e.videoLayout = n.videoLayout || null),
            t && (e.audioId = t.id,
            e.originalAudioId = t.originalId,
            e.channelsCount = t.channelsCount,
            e.audioSamplingRate = t.audioSamplingRate,
            e.audioBandwidth = t.bandwidth || null,
            e.spatialAudio = t.spatialAudio,
            e.label = t.label,
            e.audioRoles = t.roles,
            e.accessibilityPurpose = t.accessibilityPurpose,
            e.originalLanguage = t.originalLanguage),
            e
        }
        function Zn(e) {
            return {
                id: e.id,
                active: !1,
                type: he,
                bandwidth: 0,
                language: e.language,
                label: e.label,
                kind: e.kind || null,
                width: null,
                height: null,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                videoLayout: null,
                mimeType: e.mimeType,
                audioMimeType: null,
                videoMimeType: null,
                codecs: e.codecs || null,
                audioCodec: null,
                videoCodec: null,
                primary: e.primary,
                roles: e.roles,
                audioRoles: null,
                forced: e.forced,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: e.originalId,
                originalImageId: null,
                accessibilityPurpose: e.accessibilityPurpose,
                originalLanguage: e.originalLanguage
            }
        }
        function ei(e) {
            var t = e.width || null
              , n = e.height || null
              , i = null
              , r = (e.segmentIndex && (i = e.segmentIndex.get(0)),
            e.tilesLayout);
            return (r = i ? i.tilesLayout || r : r) && null != t && (t /= Number(r.split("x")[0])),
            r && null != n && (n /= Number(r.split("x")[1])),
            {
                id: e.id,
                active: !1,
                type: "image",
                bandwidth: e.bandwidth || 0,
                language: "",
                label: null,
                kind: null,
                width: t,
                height: n,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                videoLayout: null,
                mimeType: e.mimeType,
                audioMimeType: null,
                videoMimeType: null,
                codecs: e.codecs || null,
                audioCodec: null,
                videoCodec: null,
                primary: !1,
                roles: [],
                audioRoles: null,
                forced: !1,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: r || null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: null,
                originalImageId: e.originalId,
                accessibilityPurpose: null,
                originalLanguage: null
            }
        }
        function ti(e) {
            return e.__shaka_id || (e.__shaka_id = di++),
            e.__shaka_id
        }
        function ni(e) {
            var t = ri(e);
            return t.active = "disabled" != e.mode,
            t.type = "text",
            t.originalTextId = e.id,
            "captions" == e.kind && (t.mimeType = "application/cea-608"),
            "subtitles" == e.kind && (t.mimeType = "text/vtt"),
            e.kind && (t.roles = [e.kind]),
            "forced" == e.kind && (t.forced = !0),
            t
        }
        function ii(e) {
            var t = ri(e);
            return t.active = e.enabled,
            t.type = "variant",
            t.originalAudioId = e.id,
            "main" == e.kind && (t.primary = !0),
            e.kind && (t.roles = [e.kind],
            t.audioRoles = [e.kind],
            t.label = e.label),
            t
        }
        function ri(e) {
            var t = e.language;
            return {
                id: ti(e),
                active: !1,
                type: "",
                bandwidth: 0,
                language: de(t || "und"),
                label: e.label,
                kind: e.kind,
                width: null,
                height: null,
                frameRate: null,
                pixelAspectRatio: null,
                hdr: null,
                videoLayout: null,
                mimeType: null,
                audioMimeType: null,
                videoMimeType: null,
                codecs: null,
                audioCodec: null,
                videoCodec: null,
                primary: !1,
                roles: [],
                forced: !1,
                audioRoles: null,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                tilesLayout: null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: null,
                originalImageId: null,
                accessibilityPurpose: null,
                originalLanguage: t
            }
        }
        function ai(e) {
            return e.allowedByApplication && e.allowedByKeySystem && 0 == e.disabledUntilTime
        }
        function oi(e) {
            return e.filter(ai)
        }
        function si(e, t, n, i) {
            var r, a = e, o = e.filter(function(e) {
                return e.primary
            }), s = (a = o.length ? o : a).length ? a[0].language : "", a = a.filter(function(e) {
                return e.language == s
            });
            if (!t || (r = et(de(t), e.map(function(e) {
                return e.language
            }))) && (a = e.filter(function(e) {
                return de(e.language) == r
            })),
            a = a.filter(function(e) {
                return e.forced == i
            }),
            n) {
                if ((e = ui(a, n)).length)
                    return e
            } else if ((e = a.filter(function(e) {
                return 0 == e.roles.length
            })).length)
                return e;
            return (e = a.map(function(e) {
                return e.roles
            }).reduce(bn, [])).length ? ui(a, e[0]) : a
        }
        function ui(e, t) {
            return e.filter(function(e) {
                return e.roles.includes(t)
            })
        }
        function li(e) {
            var t = [];
            return e.audio && t.push(ci(e.audio)),
            e.video && t.push(ci(e.video)),
            t.join(", ")
        }
        function ci(e) {
            return "audio" == e.type ? "type=audio codecs=" + e.codecs + " bandwidth=" + e.bandwidth + " channelsCount=" + e.channelsCount + " audioSamplingRate=" + e.audioSamplingRate : "video" == e.type ? "type=video codecs=" + e.codecs + " bandwidth=" + e.bandwidth + " frameRate=" + e.frameRate + " width=" + e.width + " height=" + e.height : "unexpected stream type"
        }
        n("shaka.util.StreamUtils", Gn),
        Gn.meetsRestrictions = Kn;
        var hi = {}
          , di = 0
          , fi = (new Map).set("image/svg+xml", !0).set("image/png", !0).set("image/jpeg", !0).set("image/jpg", !0)
          , pi = (new Map).set("image/webp", "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif", "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");
        function gi() {
            var t = this;
            this.u = null,
            this.l = !1,
            this.i = new st,
            this.D = null,
            navigator.connection && navigator.connection.addEventListener && (this.D = function() {
                var e;
                t.l && t.g.useNetworkInformation && (t.i = new st,
                t.g && t.i.configure(t.g.advanced),
                (e = t.chooseVariant()) && navigator.onLine && t.u(e, t.g.clearBufferSwitch, t.g.safeMarginSwitch))
            }
            ,
            navigator.connection.addEventListener("change", this.D)),
            this.s = [],
            this.G = 1,
            this.I = !1,
            this.h = this.m = this.g = this.C = null,
            this.H = new I(function() {
                var e;
                t.g.restrictToElementSize && (e = t.chooseVariant()) && t.u(e, t.g.clearBufferSwitch, t.g.safeMarginSwitch)
            }
            ),
            this.j = null
        }
        function mi(e) {
            if (e.I) {
                if (Date.now() - e.C < 1e3 * e.g.switchInterval)
                    return
            } else {
                var t = e.i;
                if (!(t.g >= t.i))
                    return;
                e.I = !0
            }
            t = e.chooseVariant(),
            e.getBandwidthEstimate(),
            t && e.u(t, e.g.clearBufferSwitch, e.g.safeMarginSwitch)
        }
        function vi(e, t, n, i, r) {
            var a;
            return e.j && (a = e.j.Ug()) && (n = n.filter(function(e) {
                return !e.bandwidth || !a || e.bandwidth <= a
            })),
            (n = t ? n.filter(function(e) {
                return Kn(e, t, {
                    width: r,
                    height: i
                })
            }) : n).sort(function(e, t) {
                return e.bandwidth - t.bandwidth
            })
        }
        (e = gi.prototype).stop = function() {
            this.u = null,
            this.l = !1,
            this.s = [],
            this.G = 1,
            this.m = this.C = null,
            this.h && (this.h.disconnect(),
            this.h = null),
            this.H.stop(),
            this.j = null
        }
        ,
        e.release = function() {
            navigator.connection && navigator.connection.removeEventListener && (navigator.connection.removeEventListener("change", this.D),
            this.D = null),
            this.H = null
        }
        ,
        e.init = function(e) {
            this.u = e
        }
        ,
        e.chooseVariant = function(e) {
            e = void 0 !== e && e;
            var t, n = 1 / 0, i = 1 / 0;
            if (this.g.restrictToScreenSize && (i = this.g.ignoreDevicePixelRatio ? 1 : z.devicePixelRatio,
            n = z.screen.height * i,
            i *= z.screen.width),
            this.h && this.g.restrictToElementSize && (t = this.g.ignoreDevicePixelRatio ? 1 : z.devicePixelRatio,
            n = Math.min(n, this.m.clientHeight * t),
            i = Math.min(i, this.m.clientWidth * t)),
            t = r = (r = this.s.filter(function(e) {
                return !(e.audio && e.audio.fastSwitching || e.video && e.video.fastSwitching)
            })).length ? r : this.s,
            e && r.length != this.s.length && (t = this.s.filter(function(e) {
                return !!(e.audio && e.audio.fastSwitching || e.video && e.video.fastSwitching)
            })),
            e = vi(this, this.g.restrictions, t, 1 / 0, 1 / 0),
            1 / 0 != n || 1 / 0 != i) {
                for (e = function(e) {
                    for (var t = [], n = (e = we(e)).next(); !n.done; n = e.next())
                        (n = n.value.video) && n.height && n.width && t.push({
                            height: n.height,
                            width: n.width
                        });
                    return t.sort(function(e, t) {
                        return e.width - t.width
                    })
                }(e),
                r = (e = we(e)).next(); !r.done; r = e.next())
                    if ((r = r.value).height >= n && r.width >= i) {
                        n = r.height,
                        i = r.width;
                        break
                    }
                e = vi(this, this.g.restrictions, t, n, i)
            }
            for (n = this.getBandwidthEstimate(),
            i = (e = t.length && !e.length ? [(e = vi(this, null, t, 1 / 0, 1 / 0))[0]] : e)[0] || null,
            t = 0; t < e.length; t++) {
                for (var r = e[t], a = isNaN(this.G) ? 1 : Math.abs(this.G), o = a * r.bandwidth / this.g.bandwidthDowngradeTarget, s = {
                    bandwidth: 1 / 0
                }, u = t + 1; u < e.length; u++)
                    if (r.bandwidth != e[u].bandwidth) {
                        s = e[u];
                        break
                    }
                a = a * s.bandwidth / this.g.bandwidthUpgradeTarget,
                o <= n && n <= a && i.bandwidth != r.bandwidth && (i = r)
            }
            return this.C = Date.now(),
            i
        }
        ,
        e.enable = function() {
            this.l = !0
        }
        ,
        e.disable = function() {
            this.l = !1
        }
        ,
        e.segmentDownloaded = function(e, t, n) {
            this.i.sample(e, t),
            n && null != this.C && this.l && mi(this)
        }
        ,
        e.trySuggestStreams = function() {
            null != this.C && this.l && mi(this)
        }
        ,
        e.getBandwidthEstimate = function() {
            var e = this.g.defaultBandwidthEstimate;
            return navigator.connection && navigator.connection.downlink && this.g.useNetworkInformation && (e = 1e6 * navigator.connection.downlink),
            e = this.i.getBandwidthEstimate(e),
            this.j ? this.j.getBandwidthEstimate(e) : e
        }
        ,
        e.setVariants = function(e) {
            this.s = e
        }
        ,
        e.playbackRateChanged = function(e) {
            this.G = e
        }
        ,
        e.setMediaElement = function(e) {
            var t = this;
            this.m = e,
            this.h && (this.h.disconnect(),
            this.h = null),
            this.m && "ResizeObserver"in z && (this.h = new ResizeObserver(function() {
                t.H.S(yi)
            }
            ),
            this.h.observe(this.m))
        }
        ,
        e.setCmsdManager = function(e) {
            this.j = e
        }
        ,
        e.configure = function(e) {
            this.g = e,
            this.i && this.g && this.i.configure(this.g.advanced)
        }
        ,
        n("shaka.abr.SimpleAbrManager", gi);
        var yi = 1;
        function bi(e, t) {
            this.g = e,
            this.h = t
        }
        function wi(e, t) {
            var n = new bi(5,0)
              , i = Ei
              , r = i.g
              , a = n.h - r.h;
            (0 < (n.g - r.g || a) ? i.i : i.h)(i.g, n, e, t)
        }
        function Ti(e, t, n, i) {
            X([n, "has been deprecated and will be removed in", t, ". We are currently at version", e, ". Additional information:", i].join(" "))
        }
        function Ai(e, t, n, i) {
            H([n, "has been deprecated and has been removed in", t, ". We are now at version", e, ". Additional information:", i].join(" "))
        }
        bi.prototype.toString = function() {
            return "v" + this.g + "." + this.h
        }
        ;
        var Ei = null;
        function Si(e, t, n, i) {
            for (n = void 0 === n || n,
            i = void 0 !== i && i,
            this.h = e,
            this.g = new Set([e]),
            t = (e = we(t = t || [])).next(); !t.done; t = e.next())
                this.add(t.value, n, i)
        }
        function xi(e, t, n, i) {
            var r, a;
            return !(r = !!e.audio != !!t.audio || !!e.video != !!t.video || e.language != t.language) && (r = e.audio && t.audio) && (r = e.audio,
            a = t.audio,
            r = !!((!r.channelsCount || !a.channelsCount || 2 < r.channelsCount || 2 < a.channelsCount) && r.channelsCount != a.channelsCount || n && !Ii(r, a) || !ki(r.roles, a.roles) || i && r.groupId !== a.groupId)),
            !(i = r) && (i = e.video && t.video) && (e = e.video,
            t = t.video,
            i = !((!n || Ii(e, t)) && ki(e.roles, t.roles))),
            !i
        }
        function Ii(e, t) {
            if (e.mimeType == t.mimeType && (e = e.codecs.split(",").map(ln),
            t = t.codecs.split(",").map(ln),
            e.length == t.length)) {
                e.sort(),
                t.sort();
                for (var n = 0; n < e.length; n++)
                    if (e[n] != t[n])
                        return;
                return 1
            }
        }
        function ki(e, t) {
            if (e = new Set(e),
            t = new Set(t),
            e.delete("main"),
            t.delete("main"),
            e.size == t.size) {
                for (var n = (e = we(e)).next(); !n.done; n = e.next())
                    if (!t.has(n.value))
                        return;
                return 1
            }
        }
        function Ci(e, t, n) {
            t = void 0 === t ? "reload" : t,
            n = void 0 !== n && n,
            this.i = e,
            this.h = t,
            this.g = n,
            this.j = new Mi(e.language,"",e.audio && e.audio.channelsCount ? e.audio.channelsCount : 0,"",!1,"","","",t,n)
        }
        function Mi(e, t, n, i, r, a, o, s, u, l) {
            this.u = e,
            this.C = t,
            this.h = n,
            this.i = i,
            this.D = r,
            this.l = a,
            this.g = void 0 === o ? "" : o,
            this.j = void 0 === s ? "" : s,
            this.m = void 0 === u ? "reload" : u,
            this.s = void 0 !== l && l
        }
        function Li() {
            this.g = Pi,
            this.h = (new Map).set(Pi, 2).set(Ni, 1)
        }
        function Ri(e, t, n) {
            e.h.set(Pi, n).set(Ni, t)
        }
        n("shaka.config.AutoShowText", {
            NEVER: 0,
            ALWAYS: 1,
            IF_PREFERRED_TEXT_LANGUAGE: 2,
            IF_SUBTITLES_MAY_BE_NEEDED: 3
        }),
        n("shaka.config.CodecSwitchingStrategy", {
            Zj: "reload",
            Eh: "smooth"
        }),
        Si.prototype.add = function(e, t, n) {
            return !!xi(this.h, e, void 0 === t || t, void 0 !== n && n) && (this.g.add(e),
            !0)
        }
        ,
        Si.prototype.values = function() {
            return this.g.values()
        }
        ,
        Ci.prototype.create = function(e) {
            var t = this
              , n = "smooth" == this.h && lt()
              , i = e.filter(function(e) {
                return xi(t.i, e, !n, t.g)
            });
            return i.length ? new Si(i[0],i,!n,this.g) : this.j.create(e)
        }
        ,
        Mi.prototype.create = function(e) {
            var t, n, i, r, a, o, s, u, l, c = [], h = (u = e,
            h = this.u,
            c = (t = et(h = de(h), u.map(Ze))) ? u.filter(function(e) {
                return t == Ze(e)
            }) : [],
            e.filter(function(e) {
                return e.primary
            })), c = c.length ? c : h.length ? h : e;
            return u = c,
            n = this.C,
            (e = u.filter(function(e) {
                return !!e.audio && (n ? e.audio.roles.includes(n) : 0 == e.audio.roles.length)
            })).length && (c = e),
            this.l && (h = c,
            i = this.l,
            (e = h.filter(function(e) {
                return !e.video || !e.video.videoLayout || e.video.videoLayout == i
            })).length && (c = e)),
            this.i && (u = c,
            "AUTO" == (r = this.i) && (r = z.matchMedia("(color-gamut: p3)").matches ? "PQ" : "SDR"),
            (e = u.filter(function(e) {
                return !e.video || !e.video.hdr || e.video.hdr == r
            })).length && (c = e)),
            this.h && (h = c,
            a = this.h,
            (e = h.filter(function(e) {
                return !e.audio || !e.audio.channelsCount || e.audio.channelsCount == a
            })).length && (c = e)),
            this.g && (u = c,
            o = this.g,
            (e = u.filter(function(e) {
                return !(!e.audio || !e.audio.label) && e.audio.label.toLowerCase() == o.toLowerCase()
            })).length && (c = e)),
            this.j && (h = c,
            s = this.j,
            (e = h.filter(function(e) {
                return !(!e.video || !e.video.label) && e.video.label.toLowerCase() == s.toLowerCase()
            })).length && (c = e)),
            u = c,
            l = this.D,
            new Si((c = (e = u.filter(function(e) {
                return !e.audio || e.audio.spatialAudio == l
            })).length ? e : c)[0],c,!("smooth" == this.m && lt()),this.s)
        }
        ;
        var Ni = 0
          , Pi = 1;
        function Di(e, t) {
            var n = Ui();
            this.l = (null == e.maxAttempts ? n : e).maxAttempts,
            this.j = (null == e.baseDelay ? n : e).baseDelay,
            this.s = (null == e.fuzzFactor ? n : e).fuzzFactor,
            this.m = (null == e.backoffFactor ? n : e).backoffFactor,
            this.g = 0,
            this.h = this.j,
            (this.i = void 0 !== t && t) && (this.g = 1)
        }
        function _i(t) {
            var n, i;
            return Ie(function(e) {
                if (1 == e.g) {
                    if (t.g >= t.l) {
                        if (!t.i)
                            throw new ke(2,7,1010);
                        t.g = 1,
                        t.h = t.j
                    }
                    return (n = t.g,
                    t.g++,
                    0 == n) ? e.return() : (i = t.h * (1 + (2 * Math.random() - 1) * t.s),
                    Te(e, new Promise(function(e) {
                        new I(e).S(i / 1e3)
                    }
                    ), 2))
                }
                t.h *= t.m,
                Ae(e)
            })
        }
        function Ui() {
            return {
                maxAttempts: 2,
                baseDelay: 1e3,
                backoffFactor: 2,
                fuzzFactor: .5,
                timeout: 3e4,
                stallTimeout: 5e3,
                connectionTimeout: 1e4
            }
        }
        function Oi() {
            var n, i, e = new Promise(function(e, t) {
                n = e,
                i = t
            }
            );
            return e.resolve = n,
            e.reject = i,
            e
        }
        function ji(e, t) {
            this.promise = e,
            this.i = t,
            this.g = !1
        }
        function Bi(e) {
            return new ji(Promise.reject(e),function() {
                return Promise.resolve()
            }
            )
        }
        function Fi() {
            var e = Promise.reject(new ke(2,7,7001));
            return e.catch(function() {}),
            new ji(e,function() {
                return Promise.resolve()
            }
            )
        }
        function Gi(e) {
            return new ji(Promise.resolve(e),function() {
                return Promise.resolve()
            }
            )
        }
        function Vi(e) {
            return new ji(e,function() {
                return e.catch(function() {})
            }
            )
        }
        function Ki(e) {
            return new ji(Promise.all(e.map(function(e) {
                return e.promise
            })),function() {
                return Promise.all(e.map(function(e) {
                    return e.abort()
                }))
            }
            )
        }
        function Hi() {
            this.g = []
        }
        function zi(e, t) {
            e.g.push(t.finally(function() {
                xt(e.g, t)
            }))
        }
        function Xi(e, t, n, i, r) {
            d.call(this),
            this.i = !1,
            this.m = new Hi,
            this.g = new Set,
            this.h = new Set,
            this.l = e || null,
            this.j = t || null,
            this.u = n || null,
            this.C = i || null,
            this.D = r || null,
            this.s = !1
        }
        function Wi(e, t, n, i) {
            n = n || Zi;
            var r = er[e];
            (!r || n >= r.priority) && (er[e] = {
                priority: n,
                Ge: t,
                $i: void 0 !== i && i
            })
        }
        function qi(e, t, n) {
            return {
                uris: e,
                method: "GET",
                body: null,
                headers: {},
                allowCrossSiteCredentials: !1,
                retryParameters: t,
                licenseRequestType: null,
                sessionId: null,
                drmInfo: null,
                initData: null,
                initDataType: null,
                streamDataCallback: void 0 === n ? null : n
            }
        }
        function Yi(e) {
            if (e) {
                var t = e.segment;
                if (e = e.stream,
                t && e && e.fastSwitching && t.Fd)
                    return !1
            }
            return !0
        }
        function Ji() {
            this.g = 0
        }
        function Qi(e, t, n) {
            ji.call(this, e, t),
            this.h = n
        }
        Oi.prototype.resolve = function() {}
        ,
        Oi.prototype.reject = function() {}
        ,
        ji.prototype.abort = function() {
            return this.g = !0,
            this.i()
        }
        ,
        ji.prototype.finally = function(e) {
            return this.promise.then(function() {
                return e(!0)
            }, function() {
                return e(!1)
            }),
            this
        }
        ,
        ji.prototype.Fa = function(i, r) {
            function e(n) {
                return function(e) {
                    var t;
                    o.g && n ? s.reject(u) : (t = n ? i : r) ? a = function(e, t, n) {
                        try {
                            var i = e(t);
                            return i && i.promise && i.abort ? (n.resolve(i.promise),
                            function() {
                                return i.abort()
                            }
                            ) : (n.resolve(i),
                            function() {
                                return Promise.resolve(i).then(function() {}, function() {})
                            }
                            )
                        } catch (e) {
                            return n.reject(e),
                            function() {
                                return Promise.resolve()
                            }
                        }
                    }(t, e, s) : (n ? s.resolve : s.reject)(e)
                }
            }
            function a() {
                return s.reject(u),
                o.abort()
            }
            var o = this
              , s = new Oi
              , u = new ke(2,7,7001);
            return this.promise.then(e(!0), e(!1)),
            new ji(s,function() {
                return a()
            }
            )
        }
        ,
        n("shaka.util.AbortableOperation", ji),
        ji.prototype.chain = ji.prototype.Fa,
        ji.all = Ki,
        ji.notAbortable = Vi,
        ji.completed = Gi,
        ji.aborted = Fi,
        ji.failed = Bi,
        Hi.prototype.destroy = function() {
            for (var e = [], t = we(this.g), n = t.next(); !n.done; n = t.next())
                (n = n.value).promise.catch(function() {}),
                e.push(n.abort());
            return this.g = [],
            Promise.all(e)
        }
        ,
        t(Xi, d),
        (e = Xi.prototype).mg = function(e) {
            this.s = e
        }
        ,
        e.aj = function(e) {
            this.g.add(e)
        }
        ,
        e.uj = function(e) {
            this.g.delete(e)
        }
        ,
        e.Lh = function() {
            this.g.clear()
        }
        ,
        e.bj = function(e) {
            this.h.add(e)
        }
        ,
        e.vj = function(e) {
            this.h.delete(e)
        }
        ,
        e.Mh = function() {
            this.h.clear()
        }
        ,
        e.destroy = function() {
            return this.i = !0,
            this.g.clear(),
            this.h.clear(),
            d.prototype.release.call(this),
            this.m.destroy()
        }
        ,
        e.request = function(u, i, l) {
            var c = this
              , e = new Ji;
            if (this.i)
                return (t = Promise.reject(new ke(2,7,7001))).catch(function() {}),
                new Qi(t,function() {
                    return Promise.resolve()
                }
                ,e);
            i.method = i.method || "GET",
            i.headers = i.headers || {},
            i.retryParameters = i.retryParameters ? An(i.retryParameters) : Ui(),
            i.uris = An(i.uris);
            var t, n = (t = function(e, t, n, i) {
                function r(e) {
                    a = a.Fa(function() {
                        return n.body && (n.body = mt(n.body)),
                        e(t, n, i)
                    })
                }
                var a = Gi(void 0);
                e.C && r(e.C);
                for (var o = (e = we(e.g)).next(); !o.done; o = e.next())
                    r(o.value);
                return a.Fa(void 0, function(e) {
                    if (e instanceof ke && 7001 == e.code)
                        throw e;
                    throw new ke(2,1,1006,e)
                })
            }(this, u, i, l)).Fa(function() {
                return function i(r, a, o, s, u, l, c, h) {
                    r.s && (o.uris[l] = o.uris[l].replace("http://", "https://"));
                    0 < l && r.D && r.D(a, s, o.uris[l], o.uris[l - 1]);
                    var e = new ge(o.uris[l])
                      , t = e.wb
                      , d = !1;
                    t || (t = location.protocol,
                    t = t.slice(0, -1),
                    te(e, t),
                    o.uris[l] = e.toString());
                    t = t.toLowerCase();
                    var n = (t = er[t]) ? t.Ge : null;
                    if (!n)
                        return Bi(new ke(2,1,1e3,e));
                    var f, p = t.$i, g = null, m = null, v = !1, y = !1;
                    return Vi(_i(u)).Fa(function() {
                        if (r.i)
                            return Fi();
                        f = Date.now();
                        var e = n(o.uris[l], o, a, function(e, t, n) {
                            g && g.stop(),
                            m && m.S(i / 1e3),
                            r.l && a == $i && (r.l(e, t, Yi(s)),
                            d = !0,
                            h.g = n)
                        }, function(e) {
                            r.j && r.j(e, o, a),
                            y = !0
                        });
                        if (!p)
                            return e;
                        var t = o.retryParameters.connectionTimeout
                          , i = (t && (g = new I(function() {
                            v = !0,
                            e.abort()
                        }
                        )).S(t / 1e3),
                        o.retryParameters.stallTimeout);
                        return i && (m = new I(function() {
                            v = !0,
                            e.abort()
                        }
                        )),
                        e
                    }).Fa(function(e) {
                        g && g.stop(),
                        m && m.stop(),
                        null == e.timeMs && (e.timeMs = Date.now() - f);
                        var t = {
                            response: e,
                            Gi: d
                        };
                        return !y && r.j && r.j(e.headers, o, a),
                        t
                    }, function(e) {
                        var t, n;
                        if (g && g.stop(),
                        m && m.stop(),
                        r.u && (t = null,
                        n = 0,
                        e instanceof ke && (1001 == (t = e).code && (n = e.data[1])),
                        r.u(o, t, n, v)),
                        r.i)
                            return Fi();
                        if ((e = v ? new ke(1,1,1003,o.uris[l],a) : e)instanceof ke) {
                            if (7001 == e.code)
                                throw e;
                            if (1010 == e.code)
                                throw c;
                            if (1 == e.severity)
                                return t = new ce("retry",t = (new Map).set("error", e)),
                                r.dispatchEvent(t),
                                l = (l + 1) % o.uris.length,
                                i(r, a, o, s, u, l, e, h)
                        }
                        throw e
                    })
                }(c, u, i, l, new Di(i.retryParameters,!1), 0, null, e)
            }), r = n.Fa(function(e) {
                for (var t = c, n = u, i = e, r = l, a = Gi(void 0), o = {}, s = (t = we(t.h)).next(); !s.done; o = {
                    Ye: o.Ye
                },
                s = t.next())
                    o.Ye = s.value,
                    a = a.Fa(function(t) {
                        return function() {
                            var e = i.response;
                            return e.data && (e.data = mt(e.data)),
                            t.Ye(n, e, r)
                        }
                    }(o));
                return a.Fa(function() {
                    return i
                }, function(e) {
                    var t = 2;
                    if (e instanceof ke) {
                        if (7001 == e.code)
                            throw e;
                        t = e.severity
                    }
                    throw new ke(t,1,1007,e)
                })
            }), a = Date.now(), o = 0, s = (t.promise.then(function() {
                o = Date.now() - a
            }, function() {}),
            0), h = (n.promise.then(function() {
                s = Date.now()
            }, function() {}),
            r.Fa(function(e) {
                var t = Date.now() - s
                  , n = e.response;
                return n.timeMs += o,
                n.timeMs += t,
                e.Gi || !c.l || n.fromCache || "HEAD" == i.method || u != $i || c.l(n.timeMs, n.data.byteLength, Yi(l)),
                n
            }, function(e) {
                throw e && (e.severity = 2),
                e
            }));
            return t = new Qi(h.promise,function() {
                return h.abort()
            }
            ,e),
            zi(this.m, t),
            t
        }
        ,
        n("shaka.net.NetworkingEngine", Xi),
        Xi.makeRequest = qi,
        Xi.defaultRetryParameters = Ui,
        Xi.prototype.clearAllResponseFilters = Xi.prototype.Mh,
        Xi.prototype.unregisterResponseFilter = Xi.prototype.vj,
        Xi.prototype.registerResponseFilter = Xi.prototype.bj,
        Xi.prototype.clearAllRequestFilters = Xi.prototype.Lh,
        Xi.prototype.unregisterRequestFilter = Xi.prototype.uj,
        Xi.prototype.registerRequestFilter = Xi.prototype.aj,
        Xi.unregisterScheme = function(e) {
            delete er[e]
        }
        ,
        Xi.registerScheme = Wi,
        Xi.prototype.setForceHTTPS = Xi.prototype.mg,
        Xi.NumBytesRemainingClass = Ji,
        t(Qi, ji),
        Xi.PendingRequest = Qi;
        var $i = 1
          , Zi = (Xi.RequestType = {
            MANIFEST: 0,
            SEGMENT: $i,
            LICENSE: 2,
            APP: 3,
            TIMING: 4,
            SERVER_CERTIFICATE: 5,
            KEY: 6,
            ADS: 7,
            CONTENT_STEERING: 8
        },
        Xi.AdvancedRequestType = {
            INIT_SEGMENT: 0,
            MEDIA_SEGMENT: 1,
            MEDIA_PLAYLIST: 2,
            MASTER_PLAYLIST: 3,
            MPD: 4,
            MSS: 5
        },
        3)
          , er = (Xi.PluginPriority = {
            FALLBACK: 1,
            PREFERRED: 2,
            APPLICATION: Zi
        },
        {});
        function tr(e) {
            this.g = !1,
            this.h = new Oi,
            this.i = e
        }
        function j(e, t) {
            if (e.g) {
                if (t instanceof ke && 7003 == t.code)
                    throw t;
                throw new ke(2,7,7003,t)
            }
        }
        function nr() {
            this.g = new Q
        }
        function ir(e, t, n, i) {
            this.target = e,
            this.type = t,
            this.listener = n,
            this.g = function(e, t) {
                if (null == t)
                    return !1;
                if ("boolean" == typeof t)
                    return t;
                var n = new Set(["passive", "capture"]);
                return Object.keys(t).filter(function(e) {
                    return !n.has(e)
                }),
                function(e) {
                    var t = rr;
                    if (null == t) {
                        t = !1;
                        try {
                            var n = {}
                              , i = {
                                get: function() {
                                    return !(t = !0)
                                }
                            };
                            Object.defineProperty(n, "passive", i),
                            Object.defineProperty(n, "capture", i),
                            i = function() {}
                            ,
                            e.addEventListener("test", i, n),
                            e.removeEventListener("test", i, n)
                        } catch (e) {
                            t = !1
                        }
                        rr = t
                    }
                    return t
                }(e) ? t : t.capture || !1
            }(e, i),
            this.target.addEventListener(t, n, this.g)
        }
        tr.prototype.destroy = function() {
            var e = this;
            return this.g ? this.h : (this.g = !0,
            this.i().then(function() {
                e.h.resolve()
            }, function() {
                e.h.resolve()
            }))
        }
        ,
        (e = nr.prototype).release = function() {
            this.ub(),
            this.g = null
        }
        ,
        e.o = function(e, t, n, i) {
            this.g && (e = new ir(e,t,n,i),
            this.g.push(t, e))
        }
        ,
        e.na = function(n, i, r, e) {
            var a = this;
            this.o(n, i, function e(t) {
                a.hc(n, i, e),
                r(t)
            }, e)
        }
        ,
        e.hc = function(e, t, n) {
            if (this.g)
                for (var i = this.g.get(t) || [], r = (i = we(i)).next(); !r.done; r = i.next())
                    (r = r.value).target != e || n != r.listener && n || (r.hc(),
                    this.g.remove(t, r))
        }
        ,
        e.ub = function() {
            if (this.g) {
                var e, t = this.g, n = [];
                for (e in t.g)
                    n.push.apply(n, le(t.g[e]));
                for (n = (t = we(n)).next(); !n.done; n = t.next())
                    n.value.hc();
                this.g.g = {}
            }
        }
        ,
        n("shaka.util.EventManager", nr),
        nr.prototype.removeAll = nr.prototype.ub,
        nr.prototype.unlisten = nr.prototype.hc,
        nr.prototype.listenOnce = nr.prototype.na,
        nr.prototype.listen = nr.prototype.o,
        ir.prototype.hc = function() {
            this.target.removeEventListener(this.type, this.listener, this.g),
            this.listener = this.target = null,
            this.g = !1
        }
        ;
        var rr = void 0;
        function ar(e) {
            this.h = e,
            this.g = void 0
        }
        function or(e) {
            for (var t = new Map, n = we(Object.keys(e)), i = n.next(); !i.done; i = n.next())
                i = i.value,
                t.set(i, e[i]);
            return t
        }
        function sr(e) {
            var n = {};
            return e.forEach(function(e, t) {
                n[t] = e
            }),
            n
        }
        function ur() {}
        function lr(e) {
            if (!e)
                return "";
            if (239 == (e = ne(e))[0] && 187 == e[1] && 191 == e[2] && (e = e.subarray(3)),
            z.TextDecoder && !_n())
                return (e = (new TextDecoder).decode(e)).includes("�") && H('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),
                e;
            for (var t = "", n = 0; n < e.length; ++n) {
                var i, r = 65533;
                0 == (128 & e[n]) ? r = e[n] : e.length >= n + 2 && 192 == (224 & e[n]) && 128 == (192 & e[n + 1]) ? (r = (31 & e[n]) << 6 | 63 & e[n + 1],
                n += 1) : e.length >= n + 3 && 224 == (240 & e[n]) && 128 == (192 & e[n + 1]) && 128 == (192 & e[n + 2]) ? (r = (15 & e[n]) << 12 | (63 & e[n + 1]) << 6 | 63 & e[n + 2],
                n += 2) : e.length >= n + 4 && 240 == (241 & e[n]) && 128 == (192 & e[n + 1]) && 128 == (192 & e[n + 2]) && 128 == (192 & e[n + 3]) && (r = (7 & e[n]) << 18 | (63 & e[n + 1]) << 12 | (63 & e[n + 2]) << 6 | 63 & e[n + 3],
                n += 3),
                r <= 65535 ? t += String.fromCharCode(r) : (i = 1023 & (r -= 65536),
                t = (t += String.fromCharCode(55296 + (r >> 10))) + String.fromCharCode(56320 + i))
            }
            return t
        }
        function cr(e, t, n) {
            if (!e)
                return "";
            if (!n && 0 != e.byteLength % 2)
                throw new ke(2,2,2004);
            n = Math.floor(e.byteLength / 2);
            var i = new Uint16Array(n);
            e = yt(e);
            for (var r = 0; r < n; r++)
                i[r] = e.getUint16(2 * r, t);
            return pr.value()(i)
        }
        function hr(e) {
            function t(e) {
                return n.byteLength <= e || 32 <= n[e] && n[e] <= 126
            }
            if (!e)
                return "";
            var n = ne(e);
            if (239 == n[0] && 187 == n[1] && 191 == n[2])
                return lr(n);
            if (254 == n[0] && 255 == n[1])
                return cr(n.subarray(2), !1);
            if (255 == n[0] && 254 == n[1])
                return cr(n.subarray(2), !0);
            if (0 == n[0] && 0 == n[2])
                return cr(e, !1);
            if (0 == n[1] && 0 == n[3])
                return cr(e, !0);
            if (t(0) && t(1) && t(2) && t(3))
                return lr(e);
            throw new ke(2,2,2003)
        }
        function dr(e) {
            if (z.TextEncoder && !_n())
                return mt((t = new TextEncoder).encode(e));
            e = encodeURIComponent(e),
            e = unescape(e);
            for (var t = new Uint8Array(e.length), n = 0; n < e.length; n++)
                t[n] = e[n].charCodeAt(0);
            return mt(t)
        }
        function fr(e, t) {
            for (var n = new ArrayBuffer(2 * e.length), i = new DataView(n), r = 0; r < e.length; ++r)
                i.setUint16(2 * r, e.charCodeAt(r), t);
            return n
        }
        ar.prototype.value = function() {
            return null == this.g && (this.g = this.h()),
            this.g
        }
        ,
        n("shaka.util.StringUtils", ur),
        ur.resetFromCharCode = function() {
            pr.g = void 0
        }
        ,
        ur.toUTF16 = fr,
        ur.toUTF8 = dr,
        ur.fromBytesAutoDetect = hr,
        ur.fromUTF16 = cr,
        ur.fromUTF8 = lr;
        var pr = new ar(function() {
            for (var e = {
                Wb: 65536
            }; 0 < e.Wb; (e = {
                Wb: e.Wb
            }).Wb /= 2)
                if (function(e) {
                    try {
                        var t = new Uint8Array(e);
                        return 0 < String.fromCharCode.apply(null, t).length
                    } catch (e) {
                        return
                    }
                }(e.Wb)) {
                    var i = e;
                    return function(e) {
                        for (var t = "", n = 0; n < e.length; n += i.Wb)
                            t += String.fromCharCode.apply(null, e.subarray(n, n + i.Wb));
                        return t
                    }
                    ;
                    return
                }
            return null
        }
        );
        function gr(e, t) {
            this.h = yt(e),
            this.i = t == vr,
            this.g = 0
        }
        function mr() {
            return new ke(2,3,3e3)
        }
        (e = gr.prototype).xa = function() {
            return this.g < this.h.byteLength
        }
        ,
        e.Ga = function() {
            return this.g
        }
        ,
        e.getLength = function() {
            return this.h.byteLength
        }
        ,
        e.ra = function() {
            try {
                var e = this.h.getUint8(this.g);
                return this.g += 1,
                e
            } catch (e) {
                throw mr()
            }
        }
        ,
        e.Ua = function() {
            try {
                var e = this.h.getUint16(this.g, this.i);
                return this.g += 2,
                e
            } catch (e) {
                throw mr()
            }
        }
        ,
        e.O = function() {
            try {
                var e = this.h.getUint32(this.g, this.i);
                return this.g += 4,
                e
            } catch (e) {
                throw mr()
            }
        }
        ,
        e.ih = function() {
            try {
                var e = this.h.getInt32(this.g, this.i);
                return this.g += 4,
                e
            } catch (e) {
                throw mr()
            }
        }
        ,
        e.Uc = function() {
            try {
                var e, t;
                this.i ? (e = this.h.getUint32(this.g, !0),
                t = this.h.getUint32(this.g + 4, !0)) : (t = this.h.getUint32(this.g, !1),
                e = this.h.getUint32(this.g + 4, !1))
            } catch (e) {
                throw mr()
            }
            if (2097151 < t)
                throw new ke(2,3,3001);
            return this.g += 8,
            t * Math.pow(2, 32) + e
        }
        ,
        e.Sb = function(e) {
            if (this.g + e > this.h.byteLength)
                throw mr();
            var t = ne(this.h, this.g, e);
            return this.g += e,
            t
        }
        ,
        e.skip = function(e) {
            if (this.g + e > this.h.byteLength)
                throw mr();
            this.g += e
        }
        ,
        e.jj = function(e) {
            if (this.g < e)
                throw mr();
            this.g -= e
        }
        ,
        e.seek = function(e) {
            if (e < 0 || e > this.h.byteLength)
                throw mr();
            this.g = e
        }
        ,
        e.Hd = function() {
            for (var e = this.g; this.xa() && 0 != this.h.getUint8(this.g); )
                this.g += 1;
            return e = ne(this.h, e, this.g - e),
            this.g += 1,
            lr(e)
        }
        ,
        n("shaka.util.DataViewReader", gr),
        gr.prototype.readTerminatedString = gr.prototype.Hd,
        gr.prototype.rewind = gr.prototype.jj,
        gr.prototype.readBytes = gr.prototype.Sb,
        gr.prototype.readUint64 = gr.prototype.Uc,
        gr.prototype.readInt32 = gr.prototype.ih,
        gr.prototype.readUint32 = gr.prototype.O,
        gr.prototype.readUint16 = gr.prototype.Ua,
        gr.prototype.readUint8 = gr.prototype.ra,
        gr.prototype.getPosition = gr.prototype.Ga,
        gr.prototype.hasMoreData = gr.prototype.xa;
        var vr = 1;
        function yr() {
            this.i = [],
            this.h = [],
            this.g = !1
        }
        function D(e) {
            for (var t = Sr(e); e.reader.xa() && !e.parser.g; )
                e.parser.Ed(e.start + t, e.reader, e.partialOkay)
        }
        function br(e) {
            for (var t = Sr(e), n = e.reader.O(), i = 0; i < n && (e.parser.Ed(e.start + t, e.reader, e.partialOkay),
            !e.parser.g); i++)
                ;
        }
        function wr(e) {
            var t = Sr(e);
            for (e.reader.skip(78); e.reader.xa() && !e.parser.g; )
                e.parser.Ed(e.start + t, e.reader, e.partialOkay)
        }
        function Tr(t) {
            return function(e) {
                t(e.reader.Sb(e.reader.getLength() - e.reader.Ga()))
            }
        }
        function Ar(e) {
            for (var t = 0, n = (e = we(e)).next(); !n.done; n = e.next())
                t = t << 8 | n.value.charCodeAt(0);
            return t
        }
        function Er(e) {
            return String.fromCharCode(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e)
        }
        function Sr(e) {
            return 8 + (e.has64BitSize ? 8 : 0) + (null != e.flags ? 4 : 0)
        }
        gr.Endianness = {
            BIG_ENDIAN: 0,
            LITTLE_ENDIAN: vr
        },
        (e = yr.prototype).box = function(e, t) {
            return e = Ar(e),
            this.i[e] = xr,
            this.h[e] = t,
            this
        }
        ,
        e.T = function(e, t) {
            return e = Ar(e),
            this.i[e] = Ir,
            this.h[e] = t,
            this
        }
        ,
        e.stop = function() {
            this.g = !0
        }
        ,
        e.parse = function(e, t, n) {
            for (e = new gr(e,0),
            this.g = !1; e.xa() && !this.g; )
                this.Ed(0, e, t, n)
        }
        ,
        e.Ed = function(e, t, n, i) {
            var r = t.Ga();
            if (i && r + 8 > t.getLength())
                this.g = !0;
            else {
                var a = t.O()
                  , o = t.O()
                  , s = Er(o)
                  , u = !1;
                switch (a) {
                case 0:
                    a = t.getLength() - r;
                    break;
                case 1:
                    if (i && t.Ga() + 8 > t.getLength())
                        return void (this.g = !0);
                    a = t.Uc(),
                    u = !0
                }
                var l = this.h[o];
                if (l) {
                    var c = null
                      , h = null;
                    if (this.i[o] == Ir) {
                        if (i && t.Ga() + 4 > t.getLength())
                            return void (this.g = !0);
                        c = (h = t.O()) >>> 24,
                        h &= 16777215
                    }
                    o = r + a,
                    n && o > t.getLength() && (o = t.getLength()),
                    i && o > t.getLength() ? this.g = !0 : l({
                        name: s,
                        parser: this,
                        partialOkay: n || !1,
                        version: c,
                        flags: h,
                        reader: t = new gr(t = 0 < (i = o - t.Ga()) ? t.Sb(i) : new Uint8Array(0),0),
                        size: a,
                        start: r + e,
                        has64BitSize: u
                    })
                } else
                    t.skip(Math.min(r + a - t.Ga(), t.getLength() - t.Ga()))
            }
        }
        ,
        n("shaka.util.Mp4Parser", yr),
        yr.headerSize = Sr,
        yr.typeToString = Er,
        yr.allData = Tr,
        yr.visualSampleEntry = wr,
        yr.sampleDescription = br,
        yr.children = D,
        yr.prototype.parseNext = yr.prototype.Ed,
        yr.prototype.fullBox = yr.prototype.T;
        var xr = 0
          , Ir = 1;
        function kr() {}
        function Cr(e) {
            return e = ne(e),
            e = pr.value()(e),
            btoa(e)
        }
        function Mr(e, t) {
            return t = null == t || t,
            e = Cr(e).replace(/\+/g, "-").replace(/\//g, "_"),
            t ? e : e.replace(/[=]*$/, "")
        }
        function Lr(e) {
            e = z.atob(e.replace(/-/g, "+").replace(/_/g, "/"));
            for (var t = new Uint8Array(e.length), n = 0; n < e.length; ++n)
                t[n] = e.charCodeAt(n);
            return t
        }
        function Rr(e) {
            for (var t = e.length / 2, n = new Uint8Array(t), i = 0; i < t; i++)
                n[i] = z.parseInt(e.substr(2 * i, 2), 16);
            return n
        }
        function Nr(e) {
            var t = ne(e);
            e = "";
            for (var n = (t = we(t)).next(); !n.done; n = t.next())
                e += n = 1 == (n = (n = n.value).toString(16)).length ? "0" + n : n;
            return e
        }
        function Pr() {
            for (var e = R.apply(0, arguments), t = 0, n = 0; n < e.length; ++n)
                t += e[n].byteLength;
            for (var t = new Uint8Array(t), i = n = 0; i < e.length; ++i) {
                var r = e[i];
                r instanceof Uint8Array ? t.set(r, n) : t.set(ne(r), n),
                n += r.byteLength
            }
            return t
        }
        function Dr(e) {
            var r = this;
            this.g = [],
            this.h = [],
            this.data = [],
            (new yr).box("moov", D).box("moof", D).T("pssh", function(e) {
                if (!(1 < e.version)) {
                    var t = ne(e.reader.h, -12, e.size);
                    if (r.data.push(t),
                    r.g.push(Nr(e.reader.Sb(16))),
                    0 < e.version)
                        for (var t = e.reader.O(), n = 0; n < t; n++) {
                            var i = Nr(e.reader.Sb(16));
                            r.h.push(i)
                        }
                }
            }).parse(e)
        }
        function _r(e, t, n, i) {
            var r = e.length
              , a = t.length + 16 + r
              , o = (0 < i && (a += 4 + 16 * n.size),
            new Uint8Array(a))
              , s = yt(o)
              , u = 0;
            if (s.setUint32(u, a),
            s.setUint32(u += 4, 1886614376),
            u += 4,
            i < 1 ? s.setUint32(u, 0) : s.setUint32(u, 16777216),
            o.set(t, u += 4),
            u += t.length,
            0 < i)
                for (s.setUint32(u, n.size),
                u += 4,
                n = (t = we(n)).next(); !n.done; n = t.next())
                    n = Rr(n.value),
                    o.set(n, u),
                    u += n.length;
            return s.setUint32(u, r),
            o.set(e, u + 4),
            o
        }
        function Ur(e, t) {
            return 1 != (e = jr(e, t)).length ? null : e[0]
        }
        function Or(e, t, n) {
            return 1 != (e = Br(e, t, n)).length ? null : e[0]
        }
        function jr(e, t) {
            for (var n = [], i = (e = we(e.childNodes)).next(); !i.done; i = e.next())
                (i = i.value)instanceof Element && i.tagName == t && n.push(i);
            return n
        }
        function Br(e, t, n) {
            for (var i = [], r = (e = we(e.childNodes)).next(); !r.done; r = e.next())
                (r = r.value)instanceof Element && r.localName == n && r.namespaceURI == t && i.push(r);
            return i
        }
        function Fr(e, t, n) {
            return e.hasAttributeNS(t, n) ? e.getAttributeNS(t, n) : null
        }
        function Gr(e, t, n) {
            for (var i = (t = we(t)).next(); !i.done; i = t.next())
                if (i = i.value,
                e.hasAttributeNS(i, n))
                    return e.getAttributeNS(i, n);
            return null
        }
        function Vr(e) {
            return Array.from(e.childNodes).every(Kr) ? e.textContent.trim() : null
        }
        function Kr(e) {
            return e.nodeType == Node.TEXT_NODE || e.nodeType == Node.CDATA_SECTION_NODE
        }
        function W(e, t, n, i) {
            i = void 0 === i ? null : i;
            var r = null;
            return null == (r = null != (e = e.getAttribute(t)) ? n(e) : r) ? i : r
        }
        function Hr(e) {
            return e ? (/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e) && (e += "Z"),
            e = Date.parse(e),
            isNaN(e) ? null : e / 1e3) : null
        }
        function zr(e) {
            return (e = e && RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e)) ? (e = 31536e3 * Number(e[1] || null) + 2592e3 * Number(e[2] || null) + 86400 * Number(e[3] || null) + 3600 * Number(e[4] || null) + 60 * Number(e[5] || null) + Number(e[6] || null),
            isFinite(e) ? e : null) : null
        }
        function Xr(e) {
            var t = /([0-9]+)-([0-9]+)/.exec(e);
            return t ? (e = Number(t[1]),
            isFinite(e) ? (t = Number(t[2]),
            isFinite(t) ? {
                start: e,
                end: t
            } : null) : null) : null
        }
        function Wr(e) {
            return 0 == (e = Number(e)) % 1 ? e : null
        }
        function qr(e) {
            return 0 == (e = Number(e)) % 1 && 0 < e ? e : null
        }
        function Yr(e) {
            return 0 == (e = Number(e)) % 1 && 0 <= e ? e : null
        }
        function Jr(e) {
            return e = Number(e),
            isNaN(e) ? null : e
        }
        function Qr(e) {
            return !!e && "true" === e.toLowerCase()
        }
        function $r(e) {
            var t = (t = e.match(/^(\d+)\/(\d+)$/)) ? Number(t[1]) / Number(t[2]) : Number(e);
            return isNaN(t) ? null : t
        }
        function Zr(e, t) {
            var n = new DOMParser
              , i = ta.value()(e);
            e = null;
            try {
                e = n.parseFromString(i, "text/xml")
            } catch (e) {
                return null
            }
            if (!(n = e.documentElement) || n.getElementsByTagName("parsererror").length || n.tagName != t)
                return null;
            if (!("createNodeIterator"in document))
                return n;
            for (t = document.createNodeIterator(e, NodeFilter.SHOW_ALL); e = t.nextNode(); )
                if (e instanceof HTMLElement || e instanceof SVGElement)
                    return null;
            return n
        }
        function ea(e, t) {
            try {
                return Zr(hr(e), t)
            } catch (e) {
                return null
            }
        }
        n("shaka.util.Uint8ArrayUtils", kr),
        kr.concat = Pr,
        kr.toHex = Nr,
        kr.fromHex = Rr,
        kr.fromBase64 = Lr,
        kr.toBase64 = Mr,
        kr.toStandardBase64 = Cr;
        var ta = new ar(function() {
            var t;
            return "undefined" != typeof trustedTypes ? (t = trustedTypes.createPolicy("shaka-player#xml", {
                createHTML: function(e) {
                    return e
                }
            }),
            function(e) {
                return t.createHTML(e)
            }
            ) : function(e) {
                return e
            }
        }
        );
        function na(t, e) {
            var i = this;
            e = void 0 === e ? 1 : e,
            this.G = t,
            this.J = new Set,
            this.m = this.u = null,
            this.ha = this.$ = !1,
            this.K = 0,
            this.g = null,
            this.D = new nr,
            this.i = new Map,
            this.C = new Map,
            this.l = new Oi,
            this.h = null,
            this.s = function(e) {
                2 == e.severity && i.l.reject(e),
                t.onError(e)
            }
            ,
            this.V = new Map,
            this.aa = new Map,
            this.W = new I(function() {
                return t = (e = i).V,
                (n = e.aa).clear(),
                t.forEach(function(e, t) {
                    return n.set(t, e)
                }),
                (t = Array.from(n.values())).length && t.every(function(e) {
                    return "expired" == e
                }) && e.s(new ke(2,6,6014)),
                void e.G.Fe(sr(n));
                var e, t, n
            }
            ),
            this.M = !1,
            this.L = [],
            this.N = !1,
            this.Aa = new I(function() {
                var r;
                (r = i).i.forEach(function(e, t) {
                    var n = e.Yf
                      , i = t.expiration;
                    (i = isNaN(i) ? 1 / 0 : i) != n && (r.G.onExpirationUpdated(t.sessionId, i),
                    e.Yf = i)
                })
            }
            ).za(e),
            this.l.catch(function() {}),
            this.j = new tr(function() {
                return t = i,
                Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        return t.D.release(),
                        t.D = null,
                        t.l.reject(),
                        t.Aa.stop(),
                        t.Aa = null,
                        t.W.stop(),
                        t.W = null,
                        Te(e, ma(t), 2);
                    case 2:
                        if (t.m)
                            return Ee(e, 4),
                            Te(e, t.m.setMediaKeys(null), 6);
                        e.F(3);
                        break;
                    case 6:
                        Se(e, 5);
                        break;
                    case 4:
                        xe(e);
                    case 5:
                        t.m = null;
                    case 3:
                        t.g = null,
                        t.J.clear(),
                        t.u = null,
                        t.C = new Map,
                        t.h = null,
                        t.s = function() {}
                        ,
                        t.G = null,
                        t.Z = !1,
                        t.I = null,
                        Ae(e)
                    }
                });
                var t
            }
            ),
            this.Z = !1,
            this.H = this.I = null
        }
        function ia(e, t, n) {
            e.C = new Map;
            for (var i = (n = we(n)).next(); !i.done; i = n.next())
                e.C.set(i.value, {
                    initData: null,
                    initDataType: null
                });
            for (i = (n = we(e.h.persistentSessionsMetadata)).next(); !i.done; i = n.next())
                i = i.value,
                e.C.set(i.sessionId, {
                    initData: i.initData,
                    initDataType: i.initDataType
                });
            return e.M = 0 < e.C.size,
            ra(e, t)
        }
        function ra(l, c) {
            var h, d, f, p, g, m, v, y, b, w, T, A, E, S;
            return Ie(function(e) {
                if (1 != e.g)
                    return g || Object.keys(l.h.servers).length ? (S = ca(l, void 0, c),
                    e.return(g ? S : S.catch(function() {}))) : (l.$ = !0,
                    e.return(Promise.resolve()));
                var t, n, i, r, a;
                if (h = function(e) {
                    if (0 == (e = or(e.h.clearKeys)).size)
                        return null;
                    var t, i = [], r = [];
                    return e.forEach(function(e, t) {
                        var n = t;
                        22 != n.length && (n = Mr(Rr(t), !1)),
                        22 != (t = e).length && (t = Mr(Rr(e), !1)),
                        i.push(e = {
                            kty: "oct",
                            kid: n,
                            k: t
                        }),
                        r.push(e.kid)
                    }),
                    e = JSON.stringify({
                        keys: i
                    }),
                    t = [{
                        initData: ne(dr(t = JSON.stringify({
                            kids: r
                        }))),
                        initDataType: "keyids"
                    }],
                    {
                        keySystem: "org.w3.clearkey",
                        licenseServerUri: "data:application/json;base64," + z.btoa(e),
                        distinctiveIdentifierRequired: !1,
                        persistentStateRequired: !1,
                        audioRobustness: "",
                        videoRobustness: "",
                        serverCertificate: null,
                        serverCertificateUri: "",
                        sessionType: "",
                        initData: t,
                        keyIds: new Set(r)
                    }
                }(l))
                    for (d = we(c),
                    f = d.next(); !f.done; f = d.next())
                        (p = f.value).video && (p.video.drmInfos = [h]),
                        p.audio && (p.audio.drmInfos = [h]);
                if (!(g = c.some(function(e) {
                    return !!(e.video && e.video.drmInfos.length || e.audio && e.audio.drmInfos.length)
                }))) {
                    S = or(l.h.servers);
                    var o = c
                      , s = S
                      , u = [];
                    for (s.forEach(function(e, t) {
                        u.push({
                            keySystem: t,
                            licenseServerUri: e,
                            distinctiveIdentifierRequired: !1,
                            persistentStateRequired: !1,
                            audioRobustness: "",
                            videoRobustness: "",
                            serverCertificate: null,
                            serverCertificateUri: "",
                            initData: [],
                            keyIds: new Set
                        })
                    }),
                    o = we(o),
                    s = o.next(); !s.done; s = o.next())
                        (s = s.value).video && (s.video.drmInfos = u),
                        s.audio && (s.audio.drmInfos = u)
                }
                for (m = new Set,
                v = we(c),
                f = v.next(); !f.done; f = v.next())
                    for (y = f.value,
                    y = ba(y),
                    b = we(y),
                    w = b.next(); !w.done; w = b.next())
                        T = w.value,
                        m.add(T);
                for (A = we(m),
                w = A.next(); !w.done; w = A.next())
                    E = w.value,
                    t = E,
                    n = or(l.h.servers),
                    i = or(l.h.advanced || {}),
                    r = l.h.keySystemsMapping,
                    a = void 0,
                    !(a = t.keySystem) || "org.w3.clearkey" == a && t.licenseServerUri || (n.size && (n = n.get(a) || "",
                    t.licenseServerUri = n),
                    t.keyIds || (t.keyIds = new Set),
                    (i = i.get(a)) && (t.distinctiveIdentifierRequired || (t.distinctiveIdentifierRequired = i.distinctiveIdentifierRequired),
                    t.persistentStateRequired || (t.persistentStateRequired = i.persistentStateRequired),
                    t.videoRobustness || (t.videoRobustness = i.videoRobustness),
                    t.audioRobustness || (t.audioRobustness = i.audioRobustness),
                    t.serverCertificate || (t.serverCertificate = i.serverCertificate),
                    i.sessionType && (t.sessionType = i.sessionType),
                    t.serverCertificateUri || (t.serverCertificateUri = i.serverCertificateUri)),
                    r[a] && (t.keySystem = r[a]),
                    z.cast && z.cast.__platform__ && "com.microsoft.playready" == a && (t.keySystem = "com.chromecast.playready"));
                return Te(e, qn(c, l.M, l.Z, l.h.preferredKeySystems), 2)
            })
        }
        function aa(t) {
            var n;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (t.m.mediaKeys)
                        return e.return();
                    if (t.I)
                        return Te(e, t.I, 3);
                    e.F(2);
                    break;
                case 3:
                    return j(t.j),
                    e.return();
                case 2:
                    return Ee(e, 4),
                    t.I = t.m.setMediaKeys(t.u),
                    Te(e, t.I, 6);
                case 6:
                    Se(e, 5);
                    break;
                case 4:
                    n = xe(e),
                    t.s(new ke(2,6,6003,n.message));
                case 5:
                    j(t.j),
                    Ae(e)
                }
            })
        }
        function oa(n) {
            var t, i, r, a;
            return Ie(function(e) {
                if (1 == e.g)
                    return n.C.size ? (n.C.forEach(function(e, t) {
                        fa(n, t, e)
                    }),
                    Te(e, n.l, 3)) : e.F(2);
                if (2 != e.g) {
                    if (0 < (n.g && n.g.keyIds || new Set([])).size && function(e) {
                        for (var t = we(e.g && e.g.keyIds || new Set([])), n = t.next(); !n.done; n = t.next())
                            if ("usable" !== e.V.get(n.value))
                                return;
                        return 1
                    }(n))
                        return e.return(n.l);
                    n.l = new Oi,
                    n.l.catch(function() {})
                }
                for (t = (n.g ? n.g.initData : []) || [],
                i = we(t),
                r = i.next(); !r.done; r = i.next())
                    a = r.value,
                    sa(n, a.initDataType, a.initData);
                return t.length || n.l.resolve(),
                e.return(n.l)
            })
        }
        function sa(e, t, n) {
            if (n.length) {
                for (var i = e.i.values(), r = (i = we(i)).next(); !r.done; r = i.next())
                    if (pt(n, r.value.initData) && e.h.ignoreDuplicateInitData)
                        return;
                0 < e.i.size && wa(e) && (e.l.resolve(),
                e.l = new Oi,
                e.l.catch(function() {}));
                var a = e
                  , o = n
                  , s = e.g.sessionType;
                try {
                    var u = a.u.createSession(s)
                } catch (e) {
                    return void a.s(new ke(2,6,6005,e.message))
                }
                a.D.o(u, "message", function(e) {
                    a.m && a.h.delayLicenseRequestUntilPlayed && a.m.paused && !a.N ? a.L.push(e) : pa(a, e)
                }),
                a.D.o(u, "keystatuseschange", function(e) {
                    return ga(a, e)
                }),
                a.i.set(u, {
                    initData: o,
                    initDataType: t,
                    loaded: !1,
                    Yf: 1 / 0,
                    Db: null,
                    type: s
                });
                try {
                    o = a.h.initDataTransform(o, t, a.g)
                } catch (e) {
                    return void ((t = e)instanceof ke || (t = new ke(2,6,6016,e)),
                    a.s(t))
                }
                a.h.logLicenseExchange && Mr(o),
                u.generateRequest(t, o).catch(function(e) {
                    var t, n;
                    a.j.g || (a.i.delete(u),
                    (t = e.errorCode) && t.systemCode && ((n = t.systemCode) < 0 && (n += Math.pow(2, 32)),
                    n = "0x" + n.toString(16)),
                    a.s(new ke(2,6,6006,e.message,e,n)))
                })
            }
        }
        function ua(e) {
            return e && e.match(/^com\.(microsoft|chromecast)\.playready/)
        }
        function la(e) {
            return e = Le(e = e.i.keys(), function(e) {
                return e.sessionId
            }),
            Array.from(e)
        }
        function ca(x, I, k) {
            var C, M, L, R, N, P, D, _, U, O;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (C = new Map,
                    k.length) {
                        M = function(e, t, n) {
                            for (var i = we(t), r = i.next(); !r.done; r = i.next()) {
                                var a = we(ba(r.value));
                                for (r = a.next(); !r.done; r = a.next())
                                    r = r.value,
                                    n.has(r.keySystem) || n.set(r.keySystem, []),
                                    n.get(r.keySystem).push(r)
                            }
                            if (1 == n.size && n.has(""))
                                throw new ke(2,6,6e3);
                            for (i = {},
                            e = we(e.h.preferredKeySystems),
                            r = e.next(); !r.done; i = {
                                Xe: i.Xe
                            },
                            r = e.next())
                                for (i.Xe = r.value,
                                a = we(t),
                                r = a.next(); !r.done; r = a.next())
                                    if (r = r.value.decodingInfos.find(function(t) {
                                        return function(e) {
                                            return e.supported && null != e.keySystemAccess && e.keySystemAccess.keySystem == t.Xe
                                        }
                                    }(i)))
                                        return r.keySystemAccess;
                            for (e = we([!0, !1]),
                            r = e.next(); !r.done; r = e.next())
                                for (i = r.value,
                                a = we(t),
                                r = a.next(); !r.done; r = a.next()) {
                                    var o = we(r.value.decodingInfos);
                                    for (r = o.next(); !r.done; r = o.next()) {
                                        var s = r.value;
                                        if (s.supported && s.keySystemAccess) {
                                            var u = we(r = n.get(s.keySystemAccess.keySystem));
                                            for (r = u.next(); !r.done; r = u.next())
                                                if (!!r.value.licenseServerUri == i)
                                                    return s.keySystemAccess
                                        }
                                    }
                                }
                            return null
                        }(x, k, C),
                        e.F(2);
                        break
                    }
                    return Te(e, (h = x,
                    d = I,
                    Ie(function(e) {
                        switch (e.g) {
                        case 1:
                            if (1 == d.size && d.has(""))
                                throw new ke(2,6,6e3);
                            for (p = we(d.values()),
                            g = p.next(); !g.done; g = p.next())
                                0 == (m = g.value).audioCapabilities.length && delete m.audioCapabilities,
                                0 == m.videoCapabilities.length && delete m.videoCapabilities;
                            v = we(h.h.preferredKeySystems),
                            y = v.next();
                        case 2:
                            if (y.done) {
                                e.F(4);
                                break
                            }
                            if (E = y.value,
                            d.has(E))
                                return S = d.get(E),
                                Ee(e, 6),
                                Te(e, navigator.requestMediaKeySystemAccess(E, [S]), 8);
                            e.F(3);
                            break;
                        case 8:
                            return f = e.h,
                            e.return(f);
                        case 6:
                            xe(e);
                        case 7:
                            j(h.j);
                        case 3:
                            y = v.next(),
                            e.F(2);
                            break;
                        case 4:
                            b = we([!0, !1]),
                            w = b.next();
                        case 9:
                            if (w.done) {
                                e.F(11);
                                break
                            }
                            T = w.value,
                            A = we(d.keys()),
                            y = A.next();
                        case 12:
                            if (y.done) {
                                w = b.next(),
                                e.F(9);
                                break
                            }
                            if (E = y.value,
                            S = d.get(E),
                            S.drmInfos.some(function(e) {
                                return !!e.licenseServerUri
                            }) == T)
                                return Ee(e, 15),
                                Te(e, navigator.requestMediaKeySystemAccess(E, [S]), 17);
                            e.F(13);
                            break;
                        case 17:
                            return f = e.h,
                            e.return(f);
                        case 15:
                            xe(e);
                        case 16:
                            j(h.j);
                        case 13:
                            y = A.next(),
                            e.F(12);
                            break;
                        case 11:
                            return e.return(f)
                        }
                    })), 3);
                case 3:
                    M = e.h;
                case 2:
                    if (!(O = M))
                        throw new ke(2,6,6001);
                    for (j(x.j),
                    Ee(e, 4),
                    x.J.clear(),
                    U = O.getConfiguration(),
                    _ = U.audioCapabilities || [],
                    U = U.videoCapabilities || [],
                    L = we(_),
                    R = L.next(); !R.done; R = L.next())
                        N = R.value,
                        x.J.add(N.contentType.toLowerCase());
                    for (P = we(U),
                    R = P.next(); !R.done; R = P.next())
                        D = R.value,
                        x.J.add(D.contentType.toLowerCase());
                    if (k.length) {
                        for (var t = O.keySystem, n = C.get(O.keySystem), i = [], r = [], a = [], o = [], s = new Set, u = (Ta(n, i, a, r, o, s),
                        x.M ? "persistent-license" : "temporary"), t = {
                            keySystem: t,
                            licenseServerUri: i[0],
                            distinctiveIdentifierRequired: n[0].distinctiveIdentifierRequired,
                            persistentStateRequired: n[0].persistentStateRequired,
                            sessionType: n[0].sessionType || u,
                            audioRobustness: n[0].audioRobustness || "",
                            videoRobustness: n[0].videoRobustness || "",
                            serverCertificate: a[0],
                            serverCertificateUri: r[0],
                            initData: o,
                            keyIds: s
                        }, i = (n = we(n)).next(); !i.done; i = n.next())
                            (i = i.value).distinctiveIdentifierRequired && (t.distinctiveIdentifierRequired = i.distinctiveIdentifierRequired),
                            i.persistentStateRequired && (t.persistentStateRequired = i.persistentStateRequired);
                        n = t
                    } else
                        n = O.keySystem,
                        t = I.get(O.keySystem),
                        i = [],
                        r = [],
                        a = [],
                        o = [],
                        s = new Set,
                        Ta(t.drmInfos, i, a, r, o, s),
                        n = {
                            keySystem: n,
                            licenseServerUri: i[0],
                            distinctiveIdentifierRequired: "required" == t.distinctiveIdentifier,
                            persistentStateRequired: "required" == t.persistentState,
                            sessionType: t.sessionTypes[0] || "temporary",
                            audioRobustness: (t.audioCapabilities ? t.audioCapabilities[0].robustness : "") || "",
                            videoRobustness: (t.videoCapabilities ? t.videoCapabilities[0].robustness : "") || "",
                            serverCertificate: a[0],
                            serverCertificateUri: r[0],
                            initData: o,
                            keyIds: s
                        };
                    if (x.g = n,
                    x.g.licenseServerUri)
                        return Te(e, O.createMediaKeys(), 6);
                    throw new ke(2,6,6012,x.g.keySystem);
                case 6:
                    if (_ = e.h,
                    j(x.j),
                    x.u = _,
                    "" != x.h.minHdcpVersion && "getStatusForPolicy"in x.u)
                        return Ee(e, 8),
                        Te(e, x.u.getStatusForPolicy({
                            minHdcpVersion: x.h.minHdcpVersion
                        }), 10);
                    e.F(7);
                    break;
                case 10:
                    if ("usable" != e.h)
                        throw new ke(2,6,6018);
                    j(x.j),
                    Se(e, 7, 4);
                    break;
                case 8:
                    if ((U = xe(e, 4))instanceof ke)
                        throw U;
                    throw new ke(2,6,6019,U.message);
                case 7:
                    return x.$ = !0,
                    Te(e, (l = x,
                    Ie(function(e) {
                        switch (e.g) {
                        case 1:
                            if (!l.u || !l.g)
                                return e.return();
                            if (!l.g.serverCertificateUri || l.g.serverCertificate && l.g.serverCertificate.length) {
                                e.F(2);
                                break
                            }
                            return c = qi([l.g.serverCertificateUri], l.h.retryParameters),
                            Ee(e, 3),
                            Te(e, l.G.zc.request(5, c).promise, 5);
                        case 5:
                            c = e.h,
                            l.g.serverCertificate = ne(c.data),
                            Se(e, 4);
                            break;
                        case 3:
                            throw new ke(2,6,6017,xe(e));
                        case 4:
                            if (l.j.g)
                                return e.return();
                        case 2:
                            return l.g.serverCertificate && l.g.serverCertificate.length ? (Ee(e, 6),
                            Te(e, l.u.setServerCertificate(l.g.serverCertificate), 8)) : e.return();
                        case 8:
                            Se(e, 0);
                            break;
                        case 6:
                            throw new ke(2,6,6004,xe(e).message)
                        }
                    })), 11);
                case 11:
                    j(x.j),
                    Se(e, 0);
                    break;
                case 4:
                    if (O = xe(e),
                    j(x.j, O),
                    x.g = null,
                    x.J.clear(),
                    O instanceof ke)
                        throw O;
                    throw new ke(2,6,6002,O.message)
                }
                var l, c, h, d, f, p, g, m, v, y, b, w, T, A, E, S
            })
        }
        function ha(e) {
            wa(e) && e.l.resolve()
        }
        function da(e, t) {
            new I(function() {
                t.loaded = !0,
                ha(e)
            }
            ).S(Ea)
        }
        function fa(n, e, i) {
            var r, a, o, s;
            return Ie(function(t) {
                switch (t.g) {
                case 1:
                    try {
                        r = n.u.createSession("persistent-license")
                    } catch (e) {
                        return a = new ke(2,6,6005,e.message),
                        n.s(a),
                        t.return(Promise.reject(a))
                    }
                    return n.D.o(r, "message", function(e) {
                        n.m && n.h.delayLicenseRequestUntilPlayed && n.m.paused && !n.N ? n.L.push(e) : pa(n, e)
                    }),
                    n.D.o(r, "keystatuseschange", function(e) {
                        return ga(n, e)
                    }),
                    a = {
                        initData: i.initData,
                        initDataType: i.initDataType,
                        loaded: !1,
                        Yf: 1 / 0,
                        Db: null,
                        type: "persistent-license"
                    },
                    n.i.set(r, a),
                    Ee(t, 2),
                    Te(t, r.load(e), 4);
                case 4:
                    return o = t.h,
                    j(n.j),
                    o || (n.i.delete(r),
                    o = n.h.persistentSessionOnlinePlayback ? 1 : 2,
                    n.s(new ke(o,6,6013)),
                    a.loaded = !0),
                    da(n, a),
                    ha(n),
                    t.return(r);
                case 2:
                    o = xe(t),
                    j(n.j, o),
                    n.i.delete(r),
                    s = n.h.persistentSessionOnlinePlayback ? 1 : 2,
                    n.s(new ke(s,6,6005,o.message)),
                    a.loaded = !0,
                    ha(n);
                case 3:
                    return t.return(Promise.resolve())
                }
            })
        }
        function pa(r, a) {
            var o, s, u, l, c, h, d, f;
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (o = a.target,
                    r.h.logLicenseExchange && Mr(a.message),
                    s = r.i.get(o),
                    h = r.g.licenseServerUri,
                    l = r.h.advanced[r.g.keySystem],
                    "individualization-request" == a.messageType && l && l.individualizationServer && (h = l.individualizationServer),
                    (u = qi([h], r.h.retryParameters)).body = a.message,
                    u.method = "POST",
                    u.licenseRequestType = a.messageType,
                    u.sessionId = o.sessionId,
                    u.drmInfo = r.g,
                    s && (u.initData = s.initData,
                    u.initDataType = s.initDataType),
                    ua(r.g.keySystem))
                        if ((t = cr(u.body, !0, !0)).includes("PlayReadyKeyMessage")) {
                            for (var t, n = we((t = Zr(t, "PlayReadyKeyMessage")).getElementsByTagName("HttpHeader")), i = n.next(); !i.done; i = n.next())
                                i = i.value,
                                u.headers[i.getElementsByTagName("name")[0].textContent] = i.getElementsByTagName("value")[0].textContent;
                            u.body = Lr(t.getElementsByTagName("Challenge")[0].textContent)
                        } else
                            u.headers["Content-Type"] = "text/xml; charset=utf-8";
                    return l = Date.now(),
                    Ee(e, 2),
                    Te(e, r.G.zc.request(2, u).promise, 4);
                case 4:
                    c = e.h,
                    Se(e, 3);
                    break;
                case 2:
                    return h = xe(e),
                    d = new ke(2,6,6007,h),
                    r.s(d),
                    s && s.Db && s.Db.reject(d),
                    e.return();
                case 3:
                    return r.j.g ? e.return() : (r.K += (Date.now() - l) / 1e3,
                    r.h.logLicenseExchange && Mr(c.data),
                    Ee(e, 5),
                    Te(e, o.update(c.data), 7));
                case 7:
                    Se(e, 6);
                    break;
                case 5:
                    return d = xe(e),
                    f = new ke(2,6,6008,d.message),
                    r.s(f),
                    s && s.Db && s.Db.reject(f),
                    e.return();
                case 6:
                    if (r.j.g)
                        return e.return();
                    f = new ce("drmsessionupdate"),
                    r.G.onEvent(f),
                    s && (s.Db && s.Db.resolve(),
                    da(r, s)),
                    Ae(e)
                }
            })
        }
        function ga(o, e) {
            e = e.target;
            var s = o.i.get(e)
              , u = !1
              , t = (e.keyStatuses.forEach(function(e, t) {
                var n, i, r, a;
                "string" == typeof t && (n = t,
                t = e,
                e = n),
                ua(o.g.keySystem) && 16 == t.byteLength && (kn() || _n()) && (i = (n = yt(t)).getUint32(0, !0),
                r = n.getUint16(4, !0),
                a = n.getUint16(6, !0),
                n.setUint32(0, i, !1),
                n.setUint16(4, r, !1),
                n.setUint16(6, a, !1)),
                "status-pending" != e && (s.loaded = !0),
                "expired" == e && (u = !0),
                t = Nr(t).slice(0, 32),
                o.V.set(t, e)
            }),
            e.expiration - Date.now());
            (t < 0 || u && t < 1e3) && s && !s.Db && (o.i.delete(e),
            e.close().catch(function() {})),
            wa(o) && (o.l.resolve(),
            o.W.S(Sa))
        }
        function ma(a) {
            var t;
            return Ie(function(e) {
                return t = Array.from(a.i.entries()),
                a.i.clear(),
                Te(e, Promise.all(t.map(function(e) {
                    var i = (e = we(e)).next().value
                      , r = e.next().value;
                    return Ie(function(e) {
                        return 1 == e.g ? (Ee(e, 2),
                        a.ha || a.C.has(i.sessionId) || "persistent-license" !== r.type || a.h.persistentSessionOnlinePlayback ? Te(e, (t = i,
                        Ie(function(e) {
                            return 1 == e.g ? (n = new Promise(function(e, t) {
                                new I(t).S(Aa)
                            }
                            ),
                            Ee(e, 2),
                            Te(e, Promise.race([Promise.all([t.close(), t.closed]), n]), 4)) : 2 != e.g ? Se(e, 0) : (xe(e),
                            void Ae(e))
                        })), 5) : Te(e, i.remove(), 5)) : 2 != e.g ? Se(e, 0) : (xe(e),
                        void Ae(e));
                        var t, n
                    })
                })), 0)
            })
        }
        function va(e, t) {
            return !e.length || !t.length || e === t || 0 < ya(e, t).length
        }
        function ya(e, t) {
            if (!e.length)
                return t;
            if (!t.length)
                return e;
            for (var n = [], i = (e = we(e)).next(); !i.done; i = e.next())
                for (var i = i.value, r = (a = we(t)).next(); !r.done; r = a.next())
                    if (r = r.value,
                    i.keySystem == r.keySystem) {
                        for (var a = new Map, o = we((i.initData || []).concat(r.initData || [])), s = o.next(); !s.done; s = o.next())
                            s = s.value,
                            a.set(s.keyId, s);
                        a = Array.from(a.values()),
                        o = i.keyIds && r.keyIds ? new Set([].concat(le(i.keyIds), le(r.keyIds))) : i.keyIds || r.keyIds,
                        n.push({
                            keySystem: i.keySystem,
                            licenseServerUri: i.licenseServerUri || r.licenseServerUri,
                            distinctiveIdentifierRequired: i.distinctiveIdentifierRequired || r.distinctiveIdentifierRequired,
                            persistentStateRequired: i.persistentStateRequired || r.persistentStateRequired,
                            videoRobustness: i.videoRobustness || r.videoRobustness,
                            audioRobustness: i.audioRobustness || r.audioRobustness,
                            serverCertificate: i.serverCertificate || r.serverCertificate,
                            serverCertificateUri: i.serverCertificateUri || r.serverCertificateUri,
                            initData: a,
                            keyIds: o
                        });
                        break
                    }
            return n
        }
        function ba(e) {
            return (e.video ? e.video.drmInfos : []).concat(e.audio ? e.audio.drmInfos : [])
        }
        function wa(e) {
            for (var t = e = e.i.values(), n = function(e) {
                return e.loaded
            }, i = (t = we(t)).next(); !i.done; i = t.next())
                if (!n(i.value))
                    return;
            return 1
        }
        function Ta(e, t, n, i, r, a) {
            for (var o = {}, s = (e = we(e)).next(); !s.done; o = {
                Va: o.Va
            },
            s = e.next()) {
                if (o.Va = s.value,
                t.includes(o.Va.licenseServerUri) || t.push(o.Va.licenseServerUri),
                i.includes(o.Va.serverCertificateUri) || i.push(o.Va.serverCertificateUri),
                !o.Va.serverCertificate || n.some(function(t) {
                    return function(e) {
                        return pt(e, t.Va.serverCertificate)
                    }
                }(o)) || n.push(o.Va.serverCertificate),
                o.Va.initData)
                    for (var s = {}, u = we(o.Va.initData), l = u.next(); !l.done; s = {
                        Sd: s.Sd
                    },
                    l = u.next())
                        s.Sd = l.value,
                        r.some(function(n) {
                            return function(e) {
                                var t = n.Sd;
                                return !(!e.keyId || e.keyId != t.keyId) || e.initDataType == t.initDataType && pt(e.initData, t.initData)
                            }
                        }(s)) || r.push(s.Sd);
                if (o.Va.keyIds)
                    for (u = (s = we(o.Va.keyIds)).next(); !u.done; u = s.next())
                        a.add(u.value)
            }
        }
        (e = na.prototype).destroy = function() {
            return this.j.destroy()
        }
        ,
        e.configure = function(e) {
            this.h = e
        }
        ,
        e.Gc = function(t) {
            var i = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return i.u ? (i.m = t,
                    i.D.na(i.m, "play", function() {
                        for (var e = we(i.L), t = e.next(); !t.done; t = e.next())
                            pa(i, t.value);
                        i.N = !0,
                        i.L = []
                    }),
                    "webkitCurrentPlaybackTargetIsWireless"in i.m && i.D.o(i.m, "webkitcurrentplaybacktargetiswirelesschanged", function() {
                        return ma(i)
                    }),
                    i.H = i.g && i.g.initData.find(function(e) {
                        return 0 < e.initData.length
                    }) || null,
                    i.H || "com.apple.fps" !== i.g.keySystem || i.C.size ? Te(e, aa(i), 2) : e.F(2)) : (i.D.na(t, "encrypted", function() {
                        i.s(new ke(2,6,6010))
                    }),
                    e.return());
                oa(i).catch(function() {}),
                i.H || i.C.size || i.h.parseInbandPsshEnabled || i.D.o(i.m, "encrypted", function(e) {
                    return t = i,
                    n = e,
                    Ie(function(e) {
                        if (1 == e.g)
                            return Te(e, aa(t), 2);
                        sa(t, n.initDataType, ne(n.initData)),
                        Ae(e)
                    });
                    var t, n
                }),
                Ae(e)
            })
        }
        ,
        e.Ff = function() {
            var n = this
              , e = Le(this.i.keys(), function(e) {
                var t = n.i.get(e);
                return {
                    sessionId: e.sessionId,
                    sessionType: t.type,
                    initData: t.initData,
                    initDataType: t.initDataType
                }
            });
            return Array.from(e)
        }
        ,
        e.td = function() {
            for (var e = 1 / 0, t = this.i.keys(), n = (t = we(t)).next(); !n.done; n = t.next())
                n = n.value,
                isNaN(n.expiration) || (e = Math.min(e, n.expiration));
            return e
        }
        ,
        e.ge = function() {
            return sr(this.aa)
        }
        ;
        var Aa = 1
          , Ea = 5
          , Sa = .5
          , xa = new ar(function() {
            return mt(new Uint8Array([0]))
        }
        );
        function Ia() {}
        function ka(e, t) {
            if (t) {
                var n = Ca[t.toLowerCase()];
                if (n)
                    return n
            }
            throw new ke(2,4,4e3,e,t)
        }
        n("shaka.media.ManifestParser", Ia),
        Ia.unregisterParserByMime = function(e) {
            delete Ca[e]
        }
        ,
        Ia.registerParserByMime = function(e, t) {
            Ca[e] = t
        }
        ,
        Ia.registerParserByExtension = function() {
            wi("ManifestParser.registerParserByExtension", "Please use an ManifestParser with registerParserByMime function.")
        }
        ,
        Ia.AccessibilityPurpose = {
            tk: "visually impaired",
            Mj: "hard of hearing"
        };
        var Ca = {};
        function Ma(e) {
            function t() {
                r = !0
            }
            function n(e) {
                a.push(e),
                D(e)
            }
            e = ne(e);
            var i, r = !1, a = [], o = [];
            if ((new yr).box("moov", n).box("trak", n).box("mdia", n).box("minf", n).box("stbl", n).T("stsd", function(e) {
                i = e,
                a.push(e),
                br(e)
            }).T("encv", t).T("enca", t).T("dvav", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("dva1", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("dvh1", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("dvhe", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("hev1", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("hvc1", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("avc1", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("avc3", function(e) {
                o.push({
                    box: e,
                    cb: 1701733238
                })
            }).T("ac-3", function(e) {
                o.push({
                    box: e,
                    cb: 1701733217
                })
            }).T("ec-3", function(e) {
                o.push({
                    box: e,
                    cb: 1701733217
                })
            }).T("ac-4", function(e) {
                o.push({
                    box: e,
                    cb: 1701733217
                })
            }).T("mp4a", function(e) {
                o.push({
                    box: e,
                    cb: 1701733217
                })
            }).parse(e),
            r)
                return e;
            if (0 == o.length || !i)
                throw Nr(e),
                new ke(2,3,3019);
            o.reverse();
            for (var s = we(o), u = s.next(); !u.done; u = s.next())
                u = u.value,
                e = function(e, t, n, i, r) {
                    var a = Ra.value()
                      , o = e.subarray(n.start, n.start + n.size)
                      , s = yt(o)
                      , u = new Uint8Array(n.size + a.byteLength);
                    for (u.set(o, 0),
                    (o = yt(u)).setUint32(4, r),
                    u.set(a, n.size),
                    r = s.getUint32(4),
                    o.setUint32(n.size + 16, r),
                    La(u, 0, u.byteLength),
                    r = new Uint8Array(e.byteLength + u.byteLength),
                    n = Cn() ? n.start : n.start + n.size,
                    a = e.subarray(n),
                    r.set(e.subarray(0, n)),
                    r.set(u, n),
                    r.set(a, n + u.byteLength),
                    e = we(i),
                    i = e.next(); !i.done; i = e.next())
                        i = i.value,
                        La(r, i.start, i.size + u.byteLength);
                    return u = yt(r, t.start),
                    t = Sr(t),
                    e = u.getUint32(t),
                    u.setUint32(t, e + 1),
                    r
                }(e, i, u.box, a, u.cb);
            return e
        }
        function La(e, t, n) {
            0 != (t = (e = yt(e, t)).getUint32(0)) && (1 == t ? (e.setUint32(8, n >> 32),
            e.setUint32(12, 4294967295 & n)) : e.setUint32(0, n))
        }
        var Ra = new ar(function() {
            return new Uint8Array([0, 0, 0, 80, 115, 105, 110, 102, 0, 0, 0, 12, 102, 114, 109, 97, 0, 0, 0, 0, 0, 0, 0, 20, 115, 99, 104, 109, 0, 0, 0, 0, 99, 101, 110, 99, 0, 1, 0, 0, 0, 0, 0, 40, 115, 99, 104, 105, 0, 0, 0, 32, 116, 101, 110, 99, 0, 0, 0, 0, 0, 0, 1, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
        }
        );
        function Na(e, t, n, i, r, a, o) {
            this.ba = e,
            this.hb = t,
            this.Na = n,
            this.Uf = void 0 === i ? null : i,
            this.timescale = void 0 === r ? null : r,
            this.g = void 0 === a ? null : a,
            this.aes128Key = void 0 === o ? null : o,
            this.mimeType = this.codecs = null
        }
        function Pa(e, t) {
            return e === t || (e && t ? e.Pb() == t.Pb() && e.Mb() == t.Mb() && kt(e.ba().sort(), t.ba().sort()) && pt(e.g, t.g) : e == t)
        }
        function P(e, t, n, i, r, a, o, s, u, l, c, h, d, f, p, g) {
            for (l = void 0 === l ? [] : l,
            f = void 0 === f ? Da : f,
            this.startTime = e,
            this.h = this.endTime = t,
            this.D = n,
            this.hb = i,
            this.Na = r,
            this.ka = a,
            this.timestampOffset = o,
            this.appendWindowStart = s,
            this.appendWindowEnd = u,
            this.g = l,
            this.tilesLayout = void 0 === c ? "" : c,
            this.C = void 0 === h ? null : h,
            this.oa = void 0 === d ? null : d,
            this.status = f,
            this.l = !1,
            this.j = !0,
            this.m = !1,
            this.aes128Key = void 0 === p ? null : p,
            this.u = null,
            this.i = 0,
            this.s = void 0 !== g && g,
            this.ue = this.Fd = !1,
            t = (e = we(this.g)).next(); !t.done; t = e.next())
                t.value.eh();
            this.s && this.g.length && this.g[this.g.length - 1].dh(),
            this.mimeType = this.codecs = null
        }
        Na.prototype.Pb = function() {
            return this.hb
        }
        ,
        Na.prototype.Mb = function() {
            return this.Na
        }
        ,
        n("shaka.media.InitSegmentReference", Na),
        Na.prototype.getEndByte = Na.prototype.Mb,
        Na.prototype.getStartByte = Na.prototype.Pb,
        (e = P.prototype).ba = function() {
            return this.D()
        }
        ,
        e.getStartTime = function() {
            return this.startTime
        }
        ,
        e.di = function() {
            return this.endTime
        }
        ,
        e.Pb = function() {
            return this.hb
        }
        ,
        e.Mb = function() {
            return this.Na
        }
        ,
        e.Bi = function() {
            return this.tilesLayout
        }
        ,
        e.Ai = function() {
            return this.C
        }
        ,
        e.sc = function() {
            return this.status
        }
        ,
        e.Ti = function() {
            this.status = _a
        }
        ,
        e.Tf = function() {
            this.l = !0
        }
        ,
        e.Ni = function() {
            return this.l
        }
        ,
        e.xe = function() {
            this.j = !1
        }
        ,
        e.Ki = function() {
            return this.j
        }
        ,
        e.eh = function() {
            this.Fd = !0
        }
        ,
        e.Mi = function() {
            return this.Fd
        }
        ,
        e.dh = function() {
            this.ue = !0
        }
        ,
        e.Li = function() {
            return this.ue
        }
        ,
        e.bh = function() {
            this.m = !0
        }
        ,
        e.Hi = function() {
            return this.m
        }
        ,
        e.rh = function(e) {
            this.u = e
        }
        ,
        e.zi = function() {
            return this.u
        }
        ,
        e.offset = function(e) {
            this.startTime += e,
            this.endTime += e,
            this.h += e;
            for (var t = we(this.g), n = t.next(); !n.done; n = t.next())
                (n = n.value).startTime += e,
                n.endTime += e,
                n.h += e
        }
        ,
        e.sg = function(e) {
            null == this.oa ? H("Sync attempted without sync time!") : (e = this.oa - e - this.startTime,
            .001 <= Math.abs(e) && this.offset(e))
        }
        ,
        n("shaka.media.SegmentReference", P),
        P.prototype.syncAgainst = P.prototype.sg,
        P.prototype.getThumbnailSprite = P.prototype.zi,
        P.prototype.setThumbnailSprite = P.prototype.rh,
        P.prototype.hasByterangeOptimization = P.prototype.Hi,
        P.prototype.markAsByterangeOptimization = P.prototype.bh,
        P.prototype.isLastPartial = P.prototype.Li,
        P.prototype.markAsLastPartial = P.prototype.dh,
        P.prototype.isPartial = P.prototype.Mi,
        P.prototype.markAsPartial = P.prototype.eh,
        P.prototype.isIndependent = P.prototype.Ki,
        P.prototype.markAsNonIndependent = P.prototype.xe,
        P.prototype.isPreload = P.prototype.Ni,
        P.prototype.markAsPreload = P.prototype.Tf,
        P.prototype.markAsUnavailable = P.prototype.Ti,
        P.prototype.getStatus = P.prototype.sc,
        P.prototype.getTileDuration = P.prototype.Ai,
        P.prototype.getTilesLayout = P.prototype.Bi,
        P.prototype.getEndByte = P.prototype.Mb,
        P.prototype.getStartByte = P.prototype.Pb,
        P.prototype.getEndTime = P.prototype.di,
        P.prototype.getUris = P.prototype.ba;
        var Da = 0
          , _a = 1;
        function Ua(e) {
            return e && !(1 == e.length && e.end(0) - e.start(0) < 1e-6) && e.length ? e.end(e.length - 1) : null
        }
        function Oa(e, t) {
            return !(!e || !e.length || 1 == e.length && e.end(0) - e.start(0) < 1e-6 || t > e.end(e.length - 1)) && t >= e.start(0)
        }
        function ja(e, t) {
            if (!e || !e.length || 1 == e.length && e.end(0) - e.start(0) < 1e-6)
                return 0;
            for (var n = 0, i = (e = we(Ba(e))).next(); !i.done; i = e.next()) {
                var r = i.value
                  , i = r.start;
                t < (r = r.end) && (n += r - Math.max(i, t))
            }
            return n
        }
        function Ba(e) {
            if (!e)
                return [];
            for (var t = [], n = 0; n < e.length; n++)
                t.push({
                    start: e.start(n),
                    end: e.end(n)
                });
            return t
        }
        function Fa() {}
        function Ga(e, t) {
            return t + 10 <= e.length && 73 === e[t] && 68 === e[t + 1] && 51 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
        }
        function Va(e, t) {
            return t + 10 <= e.length && 51 === e[t] && 68 === e[t + 1] && 73 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
        }
        function Ka(e, t) {
            var n = (127 & e[t]) << 21;
            return (n = (n |= (127 & e[t + 1]) << 14) | (127 & e[t + 2]) << 7) | 127 & e[t + 3]
        }
        function Ha(e) {
            for (var t = 0, n = []; Ga(e, t); ) {
                var i = Ka(e, t + 6);
                for (e[t + 5] >> 6 & 1 && (t += 10),
                i = (t += 10) + i; t + 10 < i; ) {
                    var r = e.subarray(t)
                      , a = Ka(r, 4);
                    (a = function(e) {
                        var t = {
                            key: e.type,
                            description: "",
                            data: "",
                            mimeType: null,
                            pictureType: null
                        };
                        if ("APIC" !== e.type)
                            return "TXXX" === e.type || "WXXX" === e.type ? e.size < 2 || 3 !== e.data[0] || -1 === (i = e.data.subarray(1).indexOf(0)) ? null : (n = lr(ne(e.data, 1, i)),
                            e = lr(ne(e.data, 2 + i)).replace(/\0*$/, ""),
                            t.description = n,
                            t.data = e,
                            t) : "PRIV" === e.type ? e.size < 2 || -1 === (n = e.data.indexOf(0)) ? null : (n = lr(ne(e.data, 0, n)),
                            "com.apple.streaming.transportStreamTimestamp" == (t.description = n) ? (e = 1 & (n = e.data.subarray(n.length + 1))[3],
                            n = (n[4] << 23) + (n[5] << 15) + (n[6] << 7) + n[7],
                            n /= 45,
                            e && (n += 47721858.84),
                            t.data = n) : (e = mt(e.data.subarray(n.length + 1)),
                            t.data = e),
                            t) : "T" === e.type[0] ? e.size < 2 || 3 !== e.data[0] ? null : (e = lr(e.data.subarray(1)).replace(/\0*$/, ""),
                            t.data = e,
                            t) : "W" === e.type[0] ? (e = lr(e.data).replace(/\0*$/, ""),
                            t.data = e,
                            t) : e.data ? (t.data = mt(e.data),
                            t) : null;
                        if (e.size < 2 || 3 !== e.data[0])
                            return null;
                        var n = e.data.subarray(1).indexOf(0);
                        if (-1 === n)
                            return null;
                        var i = lr(ne(e.data, 1, n))
                          , r = e.data[2 + n]
                          , a = e.data.subarray(3 + n).indexOf(0);
                        if (-1 === a)
                            return null;
                        var o = lr(ne(e.data, 3 + n, a))
                          , e = "--\x3e" === i ? lr(ne(e.data, 4 + n + a)) : mt(e.data.subarray(4 + n + a));
                        return t.mimeType = i,
                        t.pictureType = r,
                        t.description = o,
                        t.data = e,
                        t
                    }(r = {
                        type: String.fromCharCode(r[0], r[1], r[2], r[3]),
                        size: a,
                        data: r.subarray(10, 10 + a)
                    })) && n.push(a),
                    t += r.size + 10
                }
                Va(e, t) && (t += 10)
            }
            return n
        }
        function za(e, t) {
            for (var n = t = void 0 === t ? 0 : t, i = 0; Ga(e, t); )
                e[t + 5] >> 6 & 1 && (i += 10),
                i = i + 10 + Ka(e, t + 6),
                Va(e, t + 10) && (i += 10),
                t += i;
            return 0 < i ? e.subarray(n, n + i) : new Uint8Array([])
        }
        function Xa(e, t) {
            var n = null
              , i = null
              , r = null
              , a = e.O();
            return 1 & t && (r = e.Uc()),
            2 & t && e.skip(4),
            {
                trackId: a,
                Og: n = 8 & t ? e.O() : n,
                Qh: i = 16 & t ? e.O() : i,
                wk: r
            }
        }
        function Wa(e, t) {
            return 1 == t ? (t = e.O(),
            e = e.O(),
            {
                baseMediaDecodeTime: t * Math.pow(2, 32) + e
            }) : {
                baseMediaDecodeTime: e.O()
            }
        }
        function qa(e, t) {
            return 1 == t ? (e.skip(8),
            e.skip(8)) : (e.skip(4),
            e.skip(4)),
            t = e.O(),
            e.skip(4),
            e = e.Ua(),
            {
                timescale: t,
                language: String.fromCharCode(96 + (e >> 10)) + String.fromCharCode(96 + ((960 & e) >> 5)) + String.fromCharCode(96 + (31 & e))
            }
        }
        function Ya(e, t, n) {
            var i = e.O()
              , r = []
              , a = null;
            1 & n && (a = e.O()),
            4 & n && e.skip(4);
            for (var o = 0; o < i; o++) {
                var s = {
                    gg: null,
                    sampleSize: null,
                    Ke: null
                };
                256 & n && (s.gg = e.O()),
                512 & n && (s.sampleSize = e.O()),
                1024 & n && e.skip(4),
                2048 & n && (s.Ke = 0 == t ? e.O() : e.ih()),
                r.push(s)
            }
            return {
                Ak: i,
                lh: r,
                Ph: a
            }
        }
        function Ja(e, t) {
            1 == t ? (e.skip(8),
            e.skip(8)) : (e.skip(4),
            e.skip(4));
            var n = e.O();
            return 1 == t ? e.skip(8) : e.skip(4),
            e.skip(4),
            e.skip(8),
            e.skip(2),
            e.skip(2),
            e.skip(2),
            e.skip(2),
            e.skip(36),
            {
                trackId: n,
                width: t = e.Ua() + e.Ua() / 16,
                height: e = e.Ua() + e.Ua() / 16
            }
        }
        function Qa(e, t) {
            return e.skip(87),
            {
                wa: t + "." + this.g(e.ra()) + this.g(e.ra()) + this.g(e.ra())
            }
        }
        function $a(e) {
            return {
                wa: Er(e = e.O())
            }
        }
        function Za(e, t) {
            if (this.j = e,
            void 0 !== t && t) {
                t = new Uint8Array(e.byteLength);
                for (var n = 0, i = 0; i < e.byteLength; i++)
                    2 <= i && 3 == e[i] && 0 == e[i - 1] && 0 == e[i - 2] || (t[n] = e[i],
                    n++);
                this.j = ne(t, 0, n)
            }
            this.i = this.j.byteLength,
            this.g = this.h = 0
        }
        function eo(e) {
            var t = e.j.byteLength - e.i
              , n = new Uint8Array(4)
              , i = Math.min(4, e.i);
            0 !== i && (n.set(e.j.subarray(t, t + i)),
            e.h = new gr(n,0).O(),
            e.g = 8 * i,
            e.i -= i)
        }
        function to(e, t) {
            var n;
            e.g <= t && (t = (t -= e.g) - 8 * (n = Math.floor(t / 8)),
            e.g -= n,
            eo(e)),
            e.h <<= t,
            e.g -= t
        }
        function ie(e, t) {
            var n = Math.min(e.g, t)
              , i = e.h >>> 32 - n;
            return e.g -= n,
            0 < e.g ? e.h <<= n : 0 < e.i && eo(e),
            0 < (n = t - n) ? i << n | ie(e, n) : i
        }
        function no(e) {
            for (var t = 0; t < e.g; ++t)
                if (0 != (e.h & 2147483648 >>> t))
                    return e.h <<= t,
                    e.g -= t,
                    t;
            return eo(e),
            t + no(e)
        }
        function io(e) {
            to(e, 1 + no(e))
        }
        function re(e) {
            return ie(e, no(e) + 1) - 1
        }
        function ro(e) {
            return 1 & (e = re(e)) ? 1 + e >>> 1 : -1 * (e >>> 1)
        }
        function ae(e) {
            return 1 === ie(e, 1)
        }
        function oe(e) {
            return ie(e, 8)
        }
        function ao(e, t) {
            for (var n = 8, i = 8, r = 0; r < t; r++)
                n = 0 === (i = 0 !== i ? (n + (i = ro(e)) + 256) % 256 : i) ? n : i
        }
        function oo() {
            this.D = null,
            this.G = !1,
            this.m = this.H = null,
            this.j = [],
            this.g = [],
            this.s = this.u = null,
            this.i = [],
            this.h = [],
            this.C = null,
            this.l = []
        }
        function so(e) {
            if (1 != (e[0] << 16 | e[1] << 8 | e[2]))
                return null;
            var t = {
                data: new Uint8Array(0),
                packetLength: e[4] << 8 | e[5],
                pts: null,
                dts: null,
                nalus: []
            };
            if (t.packetLength && t.packetLength > e.byteLength - 6)
                return null;
            var n = e[7];
            return 192 & n && (t.pts = 536870912 * (14 & e[9]) + 4194304 * (255 & e[10]) + 16384 * (254 & e[11]) + 128 * (255 & e[12]) + (254 & e[13]) / 2,
            t.dts = t.pts,
            64 & n && (t.dts = 536870912 * (14 & e[14]) + 4194304 * (255 & e[15]) + 16384 * (254 & e[16]) + 128 * (255 & e[17]) + (254 & e[18]) / 2)),
            n = e[8] + 9,
            e.byteLength <= n ? null : (t.data = e.subarray(n),
            t)
        }
        function uo(e) {
            return !(lo(e) < 0)
        }
        function lo(e) {
            for (var t = Math.min(1e3, e.length - 564), n = 0; n < t; ) {
                if (71 == e[n] && 71 == e[n + 188] && 71 == e[n + 376])
                    return n;
                n++
            }
            return -1
        }
        P.Status = {
            zj: Da,
            qk: _a,
            Sj: 2
        },
        n("shaka.util.Id3Utils", Fa),
        Fa.getID3Data = za,
        Fa.getID3Frames = Ha,
        n("shaka.util.ExpGolomb", Za),
        (e = oo.prototype).clearData = function() {
            this.j = [],
            this.g = [],
            this.i = [],
            this.h = [],
            this.l = []
        }
        ,
        e.parse = function(e) {
            if (e.length < 564)
                return this;
            for (var t = Math.max(0, lo(e)), n = e.length - (e.length + t) % 188, i = !1, r = t; r < n; r += 188)
                if (71 == e[r]) {
                    var a = !!(64 & e[r + 1])
                      , o = ((31 & e[r + 1]) << 8) + e[r + 2];
                    if (1 < (48 & e[r + 3]) >> 4) {
                        var s = r + 5 + e[r + 4];
                        if (s == r + 188)
                            continue
                    } else
                        s = r + 4;
                    switch (o) {
                    case 0:
                        a && (s += e[s] + 1),
                        this.D = (31 & e[s + 10]) << 8 | e[s + 11];
                        break;
                    case 17:
                    case 8191:
                        break;
                    case this.D:
                        a && (s += e[s] + 1);
                        var o = {
                            audio: -1,
                            video: -1,
                            pe: -1,
                            audioCodec: "",
                            videoCodec: ""
                        }
                          , u = s + 3 + ((15 & (a = e)[s + 1]) << 8 | a[s + 2]) - 4;
                        for (s += 12 + ((15 & a[s + 10]) << 8 | a[s + 11]); s < u; ) {
                            var l = (31 & a[s + 1]) << 8 | a[s + 2]
                              , c = (15 & a[s + 3]) << 8 | a[s + 4];
                            switch (a[s]) {
                            case 6:
                                if (-1 == o.audio && 0 < c)
                                    for (var h = s + 5, d = c; 2 < d; ) {
                                        switch (a[h]) {
                                        case 106:
                                            o.audio = l,
                                            o.audioCodec = "ac3";
                                            break;
                                        case 122:
                                            o.audio = l,
                                            o.audioCodec = "ec3"
                                        }
                                        var f = a[h + 1] + 2;
                                        h += f,
                                        d -= f
                                    }
                                break;
                            case 15:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "aac");
                                break;
                            case 21:
                                -1 == o.pe && (o.pe = l);
                                break;
                            case 27:
                                -1 == o.video && (o.video = l,
                                o.videoCodec = "avc");
                                break;
                            case 3:
                            case 4:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "mp3");
                                break;
                            case 36:
                                -1 == o.video && (o.video = l,
                                o.videoCodec = "hvc");
                                break;
                            case 129:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "ac3");
                                break;
                            case 132:
                            case 135:
                                -1 == o.audio && (o.audio = l,
                                o.audioCodec = "ec3")
                            }
                            s += 5 + c
                        }
                        -1 != (a = o).video && (this.H = a.video,
                        this.m = a.videoCodec),
                        -1 != a.audio && (this.u = a.audio,
                        this.s = a.audioCodec),
                        -1 != a.pe && (this.C = a.pe),
                        i && !this.G && (i = !1,
                        r = t - 188),
                        this.G = !0;
                        break;
                    case this.H:
                        s = e.subarray(s, r + 188),
                        a ? this.j.push([s]) : this.j.length && this.j[this.j.length - 1] && this.j[this.j.length - 1].push(s);
                        break;
                    case this.u:
                        s = e.subarray(s, r + 188),
                        a ? this.i.push([s]) : this.i.length && this.i[this.i.length - 1] && this.i[this.i.length - 1].push(s);
                        break;
                    case this.C:
                        s = e.subarray(s, r + 188),
                        a ? this.l.push([s]) : this.l.length && this.l[this.l.length - 1] && this.l[this.l.length - 1].push(s);
                        break;
                    default:
                        i = !0
                    }
                }
            return this
        }
        ,
        e.Zi = function(e) {
            return wi("TsParser.parseAvcNalus", "Please use parseNalus function instead."),
            this.ag(e)
        }
        ,
        e.ag = function(e, t, n) {
            var i = e.pts ? e.pts / 9e4 : null
              , r = (e = e.data).byteLength
              , a = 1;
            "hvc" == this.m && (a = 2);
            for (var o, s = n || 0, u = [], l = -1, c = 0, h = 0; h < r; ++h) {
                var d = e[h];
                if (d) {
                    if (2 <= s && 1 == d) {
                        if (t && !u.length && -1 == l && (d = h - (3 < s ? 3 : s),
                        n && 0 != d && (d = e.subarray(0, d),
                        t.data = Pr(t.data, d),
                        t.fullData = Pr(t.fullData, d))),
                        0 <= l ? u.push({
                            data: e.subarray(l + a, (s = h - ((3 < s ? 3 : s) + 1)) + 1),
                            fullData: e.subarray(l, s + 1),
                            type: c,
                            time: i
                        }) : t && !u.length && (0 < (l = h - s) && (l = e.subarray(0, l),
                        t.data = Pr(t.data, l),
                        t.fullData = Pr(t.fullData, l))),
                        r - a <= h)
                            return u;
                        l = ++h,
                        c = "hvc" == this.m ? e[h] >> 1 & 63 : 31 & e[h]
                    }
                    s = 0
                } else
                    s++;
                r - 1 <= h && 0 <= l && 0 <= s && (o = {
                    data: e.subarray(l + a, r),
                    fullData: e.subarray(l, r),
                    type: c,
                    time: i
                })
            }
            return o && u.push(o),
            !u.length && t && (t.data = Pr(t.data, e),
            t.fullData = Pr(t.fullData, e)),
            u
        }
        ,
        e.getMetadata = function() {
            for (var e = [], t = we(this.l), n = t.next(); !n.done; n = t.next())
                (n = so(n = Pr.apply(kr, le(n.value)))) && e.push({
                    cueTime: n.pts ? n.pts / 9e4 : null,
                    data: n.data,
                    frames: Ha(n.data),
                    dts: n.dts,
                    pts: n.pts
                });
            return e
        }
        ,
        e.qc = function() {
            if (this.i.length && !this.h.length) {
                for (var e = !1, t = we(this.i), n = t.next(); !n.done; n = t.next()) {
                    var i = Pr.apply(kr, le(n.value))
                      , r = so(i)
                      , n = this.h.length ? this.h[this.h.length - 1] : null;
                    r && null != r.pts && null != r.dts && (!n || n.pts != r.pts && n.dts != r.dts) ? (this.h.length && r.dts < (n.dts || 0) && (e = !0),
                    this.h.push(r)) : this.h.length && (i = r ? r.data : i) && ((n = this.h.pop()).data = Pr(n.data, i),
                    this.h.push(n))
                }
                e && (this.h = this.h.sort(function(e, t) {
                    var n = (e.pts || 0) - (t.pts || 0);
                    return (e.dts || 0) - (t.dts || 0) || n
                }))
            }
            return this.h
        }
        ,
        e.Oc = function(e) {
            if (e = void 0 === e || e,
            this.j.length && !this.g.length) {
                for (var t, n = !1, i = we(this.j), r = i.next(); !r.done; r = i.next()) {
                    var a = Pr.apply(kr, le(r.value))
                      , o = so(a)
                      , r = this.g.length ? this.g[this.g.length - 1] : null;
                    o && null != o.pts && null != o.dts && (!r || r.pts != o.pts && r.dts != o.dts) ? (this.g.length && o.dts < (r.dts || 0) && (n = !0),
                    this.g.push(o)) : this.g.length && (a = o ? o.data : a) && ((r = this.g.pop()).data = Pr(r.data, a),
                    this.g.push(r))
                }
                if (e) {
                    for (r = (i = we(this.g)).next(); !r.done; r = i.next())
                        (r = r.value).nalus = this.ag(r, t, void 0),
                        r.nalus.length && (t = r.nalus[r.nalus.length - 1]);
                    this.g = this.g.filter(function(e) {
                        return e.nalus.length
                    })
                }
                n && (this.g = this.g.sort(function(e, t) {
                    var n = (e.pts || 0) - (t.pts || 0);
                    return (e.dts || 0) - (t.dts || 0) || n
                }))
            }
            return e ? this.g : (e = this.g,
            this.g = [],
            e)
        }
        ,
        e.getStartTime = function(e) {
            var t;
            return "audio" == e ? (e = null,
            (t = this.qc()).length && (e = t[0],
            e = Math.min(e.dts, e.pts) / 9e4),
            e) : "video" == e ? (e = null,
            (t = this.Oc(!1)).length && (e = t[0],
            e = Math.min(e.dts, e.pts) / 9e4),
            e) : null
        }
        ,
        e.sd = function() {
            return {
                audio: this.s,
                video: this.m
            }
        }
        ,
        e.le = function() {
            for (var e = [], t = we(this.Oc()), n = t.next(); !n.done; n = t.next())
                e.push.apply(e, le(n.value.nalus));
            return e
        }
        ,
        e.Ei = function() {
            wi("TsParser.getVideoResolution", "Please use getVideoInfo function instead.");
            var e = this.Lf();
            return {
                height: e.height,
                width: e.width
            }
        }
        ,
        e.Lf = function() {
            return ("hvc" == this.m ? function(e) {
                var t = {
                    height: null,
                    width: null,
                    wa: null
                };
                if (!(e = e.le()).length)
                    return t;
                if (!(e = e.find(function(e) {
                    return 33 == e.type
                })))
                    return t;
                var n = new Za(e.fullData,!0)
                  , i = (oe(n),
                oe(n),
                ie(n, 4),
                ie(n, 3))
                  , r = (ae(n),
                ie(n, 2))
                  , a = ie(n, 1)
                  , o = ie(n, 5)
                  , s = ie(n, 32);
                e = oe(n);
                for (var u = oe(n), l = oe(n), c = oe(n), h = oe(n), d = oe(n), f = oe(n), p = [], g = [], m = 0; m < i; m++)
                    p.push(ae(n)),
                    g.push(ae(n));
                if (0 < i)
                    for (m = i; m < 8; m++)
                        ie(n, 2);
                for (m = 0; m < i; m++)
                    p[m] && ie(n, 88),
                    g[m] && oe(n);
                re(n),
                3 == (i = re(n)) && ie(n, 1),
                p = re(n),
                g = re(n);
                var v = m = 0
                  , y = 0
                  , b = 0;
                return ae(n) && (m += re(n),
                v += re(n),
                y += re(n),
                b += re(n)),
                t.width = String(p - (m + v) * (1 === i || 2 === i ? 2 : 1)),
                t.height = String(g - (y + b) * (1 === i ? 2 : 1)),
                n = function(e) {
                    for (var t = 0, n = 0; n < 32; n++)
                        t |= (e >> n & 1) << 31 - n;
                    return t >>> 0
                }(s),
                a = 1 == a ? "H" : "L",
                r = "hvc1." + ["", "A", "B", "C"][r] + o,
                r = (r += "." + n.toString(16).toUpperCase()) + "." + a + f,
                d && (r += "." + d.toString(16).toUpperCase()),
                h && (r += "." + h.toString(16).toUpperCase()),
                c && (r += "." + c.toString(16).toUpperCase()),
                l && (r += "." + l.toString(16).toUpperCase()),
                u && (r += "." + u.toString(16).toUpperCase()),
                e && (r += "." + e.toString(16).toUpperCase()),
                t.wa = r,
                t
            }
            : function(e) {
                var t = {
                    height: null,
                    width: null,
                    wa: null
                };
                if (!(e = e.le()).length)
                    return t;
                if (!(e = e.find(function(e) {
                    return 7 == e.type
                })))
                    return t;
                var n = oe(e = new Za(e.data))
                  , i = oe(e)
                  , r = oe(e);
                if (io(e),
                co.includes(n)) {
                    var a = re(e);
                    if (3 === a && to(e, 1),
                    io(e),
                    io(e),
                    to(e, 1),
                    ae(e)) {
                        a = 3 !== a ? 8 : 12;
                        for (var o = 0; o < a; o++)
                            ae(e) && ao(e, o < 6 ? 16 : 64)
                    }
                }
                if (io(e),
                0 === (a = re(e)))
                    re(e);
                else if (1 === a)
                    for (to(e, 1),
                    io(e),
                    io(e),
                    a = re(e),
                    o = 0; o < a; o++)
                        io(e);
                io(e),
                to(e, 1),
                a = re(e),
                o = re(e);
                var s = ie(e, 1)
                  , u = (0 === s && to(e, 1),
                to(e, 1),
                0)
                  , l = 0
                  , c = 0
                  , h = 0;
                return ae(e) && (u = re(e),
                l = re(e),
                c = re(e),
                h = re(e)),
                t.height = String((2 - s) * (o + 1) * 16 - 2 * c - 2 * h),
                t.width = String(16 * (a + 1) - 2 * u - 2 * l),
                t.wa = "avc1." + ("0" + n.toString(16).toUpperCase()).slice(-2) + ("0" + i.toString(16).toUpperCase()).slice(-2) + ("0" + r.toString(16).toUpperCase()).slice(-2),
                t
            }
            )(this)
        }
        ,
        n("shaka.util.TsParser", oo),
        oo.syncOffset = lo,
        oo.probe = uo,
        oo.prototype.getVideoInfo = oo.prototype.Lf,
        oo.prototype.getVideoResolution = oo.prototype.Ei,
        oo.prototype.getVideoNalus = oo.prototype.le,
        oo.prototype.getCodecs = oo.prototype.sd,
        oo.prototype.getVideoData = oo.prototype.Oc,
        oo.prototype.getAudioData = oo.prototype.qc,
        oo.prototype.parseNalus = oo.prototype.ag,
        oo.prototype.parseAvcNalus = oo.prototype.Zi,
        oo.Timescale = 9e4;
        var co = [100, 110, 122, 244, 44, 83, 86, 118, 128, 138, 139, 134];
        function ho(e, t, n) {
            this.g = null,
            this.s = -1,
            this.l = e,
            this.i = t,
            this.m = n,
            this.j = !1;
            e: {
                if ("undefined" == typeof libDPIModule && X("Could not find LCEVC Library dependencies on this page"),
                "undefined" != typeof LCEVCdec)
                    this.h = LCEVCdec;
                else {
                    if ("undefined" == typeof LcevcDil) {
                        X("Could not find LCEVC Library on this page"),
                        e = !1;
                        break e
                    }
                    this.h = LcevcDil,
                    this.j = !0,
                    wi("LcevcDil", "lcevc_dil.js is deprecated, please use lcevc_dec.js instead")
                }
                e = void 0 === this.h.SupportObject ? (X("Could not find LCEVC Library on this page"),
                !1) : (this.h.SupportObject.SupportStatus || X(this.h.SupportObject.SupportError),
                void 0 !== this.h && "undefined" != typeof libDPIModule && this.i instanceof HTMLCanvasElement && this.h.SupportObject.SupportStatus)
            }
            e && !this.g && this.h.SupportObject.webGLSupport(this.i) && (this.i.classList.remove("shaka-hidden"),
            this.g = new (this.j ? this.h.LcevcDil : this.h.LCEVCdec)(this.l,this.i,this.m))
        }
        function fo(e) {
            e.g && e.i.classList.add("shaka-hidden")
        }
        function po(e, t, n) {
            var i = go
              , r = wo;
            switch (t.mimeType) {
            case "video/webm":
                i = mo;
                break;
            case "video/mp4":
                i = vo
            }
            switch (n) {
            case "DASH":
                r = bo;
                break;
            case "HLS":
                r = yo
            }
            e.g && (e.s = t.id,
            e.g.setLevelSwitching(t.id, !0),
            e.g.setContainerFormat(i),
            e.j || e.g.setStreamingFormat(r))
        }
        ho.prototype.release = function() {
            this.g && (this.g.close(),
            this.g = null)
        }
        ,
        n("shaka.lcevc.Dec", ho);
        var go = 0
          , mo = 1
          , vo = 2
          , yo = 0
          , bo = 1
          , wo = -1;
        function To(e, t, n, i) {
            var c = this;
            this.i = e,
            this.G = null,
            this.H = t,
            this.g = {},
            this.I = {},
            this.ha = {},
            this.h = null,
            this.Z = !1,
            this.ua = n || function() {}
            ,
            this.N = i || null,
            this.j = {},
            this.u = new nr,
            this.m = {},
            this.J = null,
            this.L = new Oi,
            this.M = "",
            this.$ = !1,
            this.l = Ao(this, this.L),
            this.D = !1,
            this.K = new tr(function() {
                return t = c,
                Ie(function(e) {
                    if (1 == e.g) {
                        for (i in n = [],
                        t.j)
                            for (r = t.j[i],
                            a = r[0],
                            t.j[i] = r.slice(0, 1),
                            a && n.push(a.p.catch(wn)),
                            o = we(r.slice(1)),
                            s = o.next(); !s.done; s = o.next())
                                u = s.value,
                                u.p.reject(new ke(2,7,7003,void 0));
                        for (l in t.h && n.push(t.h.destroy()),
                        t.H && n.push(t.H.destroy()),
                        t.m)
                            n.push(t.m[l].destroy());
                        return Te(e, Promise.all(n), 2)
                    }
                    t.u && (t.u.release(),
                    t.u = null),
                    t.i && (t.i.removeAttribute("src"),
                    t.i.load(),
                    t.i = null),
                    t.G = null,
                    t.l = null,
                    t.h = null,
                    t.H = null,
                    t.g = {},
                    t.m = {},
                    t.J = null,
                    t.j = {},
                    t.N = null,
                    Ae(e)
                });
                var t, n, i, r, a, o, s, u, l
            }
            ),
            this.C = !1,
            this.W = "UNKNOWN",
            this.Aa = this.sa = !1,
            this.va = new Oi,
            this.s = !1,
            this.aa = !0,
            this.V = null
        }
        function Ao(e, t) {
            var n;
            return z.ManagedMediaSource ? (e.i.disableRemotePlayback = !0,
            n = new ManagedMediaSource,
            e.u.o(n, "startstreaming", function() {
                e.aa = !0
            }),
            e.u.o(n, "endstreaming", function() {
                e.aa = !1
            })) : n = new MediaSource,
            e.u.na(n, "sourceopen", function() {
                URL.revokeObjectURL(e.M),
                t.resolve()
            }),
            e.u.na(e.i, "playing", function() {
                e.$ = !0
            }),
            e.M = Go(n),
            e.i.src = e.M,
            n
        }
        function Eo(t, e, n, i, r) {
            r = void 0 !== r && r;
            var a = an(n.mimeType, i);
            if (e == he)
                So(t, a, t.C, n.external);
            else {
                var o = t.G.forceTransmux || r;
                if (ut(a) && (t.C || !fn.includes(a)) || (o = !0),
                r = on(n.mimeType, i),
                o) {
                    if (o = Ke("audio", (i || "").split(",")),
                    i = Ke("video", (i || "").split(",")),
                    o && i)
                        return t.s = !0,
                        Eo(t, "audio", n, o, !0),
                        void Eo(t, "video", n, i, !0);
                    (i = Qt(r)) && (a = i(),
                    a = (t.m[e] = a).convertCodecs(e, r))
                }
                r = a + t.G.sourceBufferExtraFeatures,
                j(t.K);
                try {
                    var s = t.l.addSourceBuffer(r)
                } catch (e) {
                    throw new ke(2,3,3015,e,"The mediaSource_ status was " + t.l.readyState + " expected 'open'")
                }
                t.C && (s.mode = Vo),
                t.u.o(s, "error", function() {
                    t.j[e][0].p.reject(new ke(2,3,3014,t.i.error ? t.i.error.code : 0))
                }),
                t.u.o(s, "updateend", function() {
                    return _o(t, e)
                }),
                t.g[e] = s,
                t.I[e] = a,
                t.ha[e] = !!n.drmInfos.length
            }
        }
        function So(e, t, n, i) {
            e.h || (e.h = new pn(e.H));
            var r = e.h;
            i = i || e.Z,
            e = e.W,
            "application/cea-608" == t || "application/cea-708" == t ? r.i = null : (r.i = (0,
            yn[t])(),
            r.i.setSequenceMode ? r.i.setSequenceMode(n) : X('Text parsers should have a "setSequenceMode" method!'),
            r.i.setManifestType ? r.i.setManifestType(e) : X('Text parsers should have a "setManifestType" method!'),
            r.C = i)
        }
        function xo(e) {
            return !e.D && (!e.l || "ended" == e.l.readyState)
        }
        function Io(e, t) {
            return e = e.D || !Object.keys(e.g).length ? null : t == he ? e.h.g : !(e = Co(e, t)) || 1 == e.length && e.end(0) - e.start(0) < 1e-6 ? null : 1 == e.length && e.start(0) < 0 ? 0 : e.length ? e.start(0) : null
        }
        function ko(e, t) {
            return e.D ? null : t == he ? e.h.h : Ua(Co(e, t))
        }
        function Co(e, t) {
            try {
                return e.g[t].buffered
            } catch (e) {
                return null
            }
        }
        function Mo(y, b, w, T, A, E, S, x, I, k) {
            var C, M, L, R, N, P;
            return S = void 0 !== S && S,
            x = void 0 !== x && x,
            I = void 0 !== I && I,
            k = void 0 !== k && k,
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (b != (C = He).Da) {
                        e.F(2);
                        break
                    }
                    if (y.C)
                        return Te(e, y.va, 4);
                    e.F(3);
                    break;
                case 4:
                    L = e.h,
                    y.h.u = L;
                case 3:
                    return Te(e, (d = y.h,
                    f = w,
                    p = T ? T.startTime : null,
                    g = T ? T.endTime : null,
                    m = T ? T.ba()[0] : null,
                    Ie(function(e) {
                        return 1 == e.g ? Te(e, Promise.resolve(), 2) : d.i && d.j ? null == p || null == g ? (d.i.parseInit(ne(f)),
                        e.return()) : (v = d.C ? p : d.u,
                        v = {
                            periodStart: d.u,
                            segmentStart: p,
                            segmentEnd: g,
                            vttOffset: v
                        },
                        v = d.i.parseMedia(ne(f), v, m),
                        v = v.filter(function(e) {
                            return e.startTime >= d.l && e.startTime < d.m
                        }),
                        d.j.append(v),
                        null == d.g && (d.g = Math.max(p, d.l)),
                        d.h = Math.min(g, d.m),
                        void Ae(e)) : e.return()
                    })), 5);
                case 5:
                    return e.return();
                case 2:
                    if (!k && y.s)
                        return Te(e, Mo(y, C.U, w, T, A, E, S, x, I, !0), 7);
                    e.F(6);
                    break;
                case 7:
                    return Te(e, Mo(y, C.ia, w, T, A, E, S, x, I, !0), 8);
                case 8:
                    return e.return();
                case 6:
                    if (!y.g[b])
                        return e.return();
                    if (M = y.g[b].timestampOffset,
                    L = y.I[b],
                    y.m[b] && (L = y.m[b].getOriginalMimeType()),
                    T && (t = y,
                    n = b,
                    r = T,
                    a = L,
                    o = M,
                    c = null,
                    h = ne(i = w),
                    fn.includes(a) ? (o = Ha(h)).length && r && ((n = o.find(function(e) {
                        return "com.apple.streaming.transportStreamTimestamp" === e.description
                    })) && n.data && (c = Math.round(n.data) / 1e3),
                    t.ua([{
                        cueTime: r.startTime,
                        data: h,
                        frames: o,
                        dts: r.startTime,
                        pts: r.startTime
                    }], 0, r.endTime)) : a.includes("/mp4") && r && 0 == r.timestampOffset && r.ka && r.ka.timescale ? (s = r.ka.timescale,
                    isNaN(s) || (u = 0,
                    l = !1,
                    (new yr).box("moof", D).box("traf", D).T("tfdt", function(e) {
                        u = Wa(e.reader, e.version).baseMediaDecodeTime / s,
                        l = !0,
                        e.parser.stop()
                    }).parse(i, !0),
                    l && (c = u))) : a.includes("/mp4") || a.includes("/webm") || !uo(h) || (null != (n = (h = (new oo).parse(h)).getStartTime(n)) && (c = n),
                    (h = h.getMetadata()).length && t.ua(h, o, r ? r.endTime : null)),
                    null != (R = c) && (R = T.startTime - R,
                    (.001 <= Math.abs(M - R) || S || x) && (!I || 0 < R || !M) && (M = R,
                    y.Aa && (Uo(y, b, function() {
                        return Po(y, b)
                    }),
                    Uo(y, b, function() {
                        return Do(y, b, M)
                    }))),
                    R = b == C.ia || !(C.ia in y.g),
                    y.C && R && y.va.resolve(M))),
                    E && b == C.ia && (y.h || So(y, "application/cea-608", y.C, !1),
                    y.J || (R = L.split(";", 1)[0],
                    y.J = new Tt(R)),
                    T ? (N = y.J.i(w)).length && vn(y.h, N, T.startTime, T.endTime, M) : y.J.init(w)),
                    y.m[b])
                        return Te(e, y.m[b].transmux(w, A, T, y.l.duration, b), 10);
                    e.F(9);
                    break;
                case 10:
                    w = e.h;
                case 9:
                    return i = y,
                    a = w,
                    n = T ? T.startTime : null,
                    t = b,
                    h = i.ha[t],
                    w = a = i.G.insertFakeEncryptionInInit && null == n && h && (Mn() || Cn() || On("SOPOpenBrowser")) && "mp4" == i.I[t].split(";")[0].split("/")[1] ? Ma(a) : a,
                    T && y.C && b != C.Da && (S || x) && (P = T.startTime,
                    Uo(y, b, function() {
                        return Po(y, b)
                    }),
                    Uo(y, b, function() {
                        return Do(y, b, P)
                    })),
                    Te(e, Uo(y, b, function() {
                        var e, t = w;
                        "video" == b && y.N && (e = y.N).g && e.g.appendBuffer(t, "video", e.s, -M),
                        y.g[b].appendBuffer(t)
                    }), 11);
                case 11:
                    Ae(e)
                }
                var t, n, i, r, a, o, s, u, l, c, h, d, f, p, g, m, v
            })
        }
        function Lo(t, n) {
            var i;
            return Ie(function(e) {
                return 1 == e.g ? n == (i = He).Da ? t.h ? Te(e, t.h.remove(0, 1 / 0), 0) : e.return() : Te(e, Uo(t, n, function() {
                    return No(t, n, 0, t.l.duration)
                }), 4) : t.s ? Te(e, Uo(t, i.U, function() {
                    return No(t, i.U, 0, t.l.duration)
                }), 0) : e.F(0)
            })
        }
        function Ro(i, r, b, w, T, A, E, S, x) {
            var I, k;
            return Ie(function(e) {
                return 1 == e.g ? r == (I = He).Da ? (A || (i.h.u = b),
                t = i.h,
                n = T,
                t.l = w,
                t.m = n,
                e.return()) : (k = [],
                Te(e, (a = i,
                o = r,
                s = E,
                u = S,
                l = x,
                Ie(function(e) {
                    return 1 == e.g ? o == (m = He).Da ? e.return(!1) : (c = ln(hn(a.I[o])),
                    h = cn(a.I[o]),
                    f = !1,
                    p = an(s, u),
                    g = a.G.forceTransmux,
                    (g = !ut(p) || !a.C && fn.includes(p) || u.includes(",") ? !0 : g) && (g = on(s, u),
                    v = Qt(g)) && (d = v(),
                    v = Ke(m.U, (u || "").split(",")),
                    y = Ke(m.ia, (u || "").split(",")),
                    p = v && y ? (f = !0,
                    y = y,
                    o == m.U && (y = v),
                    d.convertCodecs(o, on(s, y))) : d.convertCodecs(o, g)),
                    m = ln(hn(p)),
                    v = cn(p),
                    c === m && h === v ? e.return(!1) : (y = !0,
                    (y = a.s || f && d && !a.m[o] ? !1 : y) && "smooth" === a.G.codecSwitchingStrategy && lt() ? Te(e, (i = p,
                    r = d,
                    Uo(t = a, n = o, function() {
                        n !== he && (lt() && (t.m[n] && (t.m[n].destroy(),
                        delete t.m[n]),
                        r && (t.m[n] = r),
                        t.g[n].changeType(i + t.G.sourceBufferExtraFeatures),
                        t.I[n] = i),
                        _o(t, n))
                    })), 3) : (d && d.destroy(),
                    Te(e, Fo(a, l), 3)))) : e.return(!0);
                    var t, n, i, r
                })), 2)) : (e.h || (k.push(Uo(i, r, function() {
                    return Po(i, r)
                })),
                i.s && k.push(Uo(i, I.U, function() {
                    return Po(i, I.U)
                }))),
                A || (k.push(Uo(i, r, function() {
                    return Do(i, r, b)
                })),
                i.s && k.push(Uo(i, I.U, function() {
                    return Do(i, I.U, b)
                }))),
                k.push(Uo(i, r, function() {
                    i.g[r].appendWindowStart = 0,
                    i.g[r].appendWindowEnd = T,
                    i.g[r].appendWindowStart = w,
                    _o(i, r)
                })),
                i.s && k.push(Uo(i, I.U, function() {
                    var e = I.U;
                    i.g[e].appendWindowStart = 0,
                    i.g[e].appendWindowEnd = T,
                    i.g[e].appendWindowStart = w,
                    _o(i, e)
                })),
                Te(e, Promise.all(k), 0));
                var a, o, s, u, l, c, h, d, f, p, g, m, v, y, t, n
            })
        }
        function No(e, t, n, i) {
            i <= n ? _o(e, t) : e.g[t].remove(n, i)
        }
        function Po(e, t) {
            var n = e.g[t].appendWindowStart
              , i = e.g[t].appendWindowEnd;
            e.g[t].abort(),
            e.g[t].appendWindowStart = n,
            e.g[t].appendWindowEnd = i,
            _o(e, t)
        }
        function Do(e, t, n) {
            n < 0 && (n += .001),
            e.g[t].timestampOffset = n,
            _o(e, t)
        }
        function _o(e, t) {
            var n;
            e.D || (n = e.j[t][0]) && (n.p.resolve(),
            jo(e, t))
        }
        function Uo(e, t, n) {
            return j(e.K),
            n = {
                start: n,
                p: new Oi
            },
            e.j[t].push(n),
            1 == e.j[t].length && Bo(e, t),
            n.p
        }
        function Oo(t, n) {
            var i, r, a, o, s;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    for (a in j(t.K),
                    i = [],
                    r = {},
                    t.g)
                        r.dd = new Oi,
                        o = {
                            start: function(e) {
                                return function() {
                                    return e.dd.resolve()
                                }
                            }(r),
                            p: r.dd
                        },
                        t.j[a].push(o),
                        i.push(r.dd),
                        1 == t.j[a].length && o.start(),
                        r = {
                            dd: r.dd
                        };
                    return Ee(e, 2),
                    Te(e, Promise.all(i), 4);
                case 4:
                    Se(e, 3);
                    break;
                case 2:
                    throw xe(e);
                case 3:
                    return Ee(e, 5, 6),
                    Te(e, n(), 6);
                case 6:
                    for (s in Ce(e),
                    t.g)
                        jo(t, s);
                    Me(e, 0);
                    break;
                case 5:
                    throw new ke(2,3,3015,xe(e),t.i.error || "No error in the media element")
                }
            })
        }
        function jo(e, t) {
            e.j[t].shift(),
            Bo(e, t)
        }
        function Bo(t, n) {
            var i = t.j[n][0];
            if (i)
                try {
                    i.start()
                } catch (e) {
                    "QuotaExceededError" == e.name ? i.p.reject(new ke(2,3,3017,n)) : i.p.reject(new ke(2,3,3015,e,t.i.error || "No error in the media element")),
                    jo(t, n)
                }
        }
        function Fo(e, I) {
            return Oo(e, function() {
                return t = e,
                n = I,
                Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        for (u in i = He,
                        t.D = !0,
                        t.s = !1,
                        r = t.i.currentTime,
                        a = t.i.autoplay,
                        o = t.i.paused,
                        t.$ && (t.i.autoplay = !1),
                        k(e, 2),
                        t.u.ub(),
                        s = [],
                        t.m)
                            s.push(t.m[u].destroy());
                        for (l in t.j)
                            for (c = t.j[l],
                            h = c[0],
                            t.j[l] = c.slice(0, 1),
                            h && s.push(h.p.catch(wn)),
                            d = we(c.slice(1)),
                            f = d.next(); !f.done; f = d.next())
                                p = f.value,
                                p.p.reject(new ke(2,7,7003,void 0));
                        for (g in t.g) {
                            m = t.g[g];
                            try {
                                t.l.removeSourceBuffer(m)
                            } catch (e) {}
                        }
                        return Te(e, Promise.all(s), 4);
                    case 4:
                        return t.m = {},
                        t.g = {},
                        v = t.l.duration,
                        t.L = new Oi,
                        t.l = Ao(t, t.L),
                        Te(e, t.L, 5);
                    case 5:
                        for (!isNaN(v) && v ? t.l.duration = v : !isNaN(t.V) && t.V && (t.l.duration = t.V),
                        y = new Oi,
                        b = t.l.sourceBuffers,
                        w = n.size,
                        T = 0,
                        t.u.o(b, "addsourcebuffer", function() {
                            ++T === w && y.resolve()
                        }),
                        A = we(n.keys()),
                        E = A.next(); !E.done; E = A.next())
                            S = E.value,
                            x = n.get(S),
                            Eo(t, S, x, x.codecs),
                            t.s ? (t.j[i.U] = [],
                            t.j[i.ia] = []) : t.j[S] = [];
                        return t.i.currentTime = r,
                        Te(e, y, 2);
                    case 2:
                        Ce(e),
                        t.D = !1,
                        j(t.K),
                        t.u.na(t.i, "canplaythrough", function() {
                            j(t.K),
                            t.i.autoplay = a,
                            o || t.i.play()
                        }),
                        Me(e, 0)
                    }
                });
                var t, n, i, r, a, o, s, u, l, c, h, d, f, p, g, m, v, y, b, w, T, A, E, S, x
            })
        }
        (e = To.prototype).destroy = function() {
            return this.K.destroy()
        }
        ,
        e.init = function(t, n, i, r) {
            n = void 0 !== n && n,
            i = void 0 === i ? "UNKNOWN" : i,
            r = void 0 !== r && r;
            var a, o, s, u, l, c = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return a = He,
                    Te(e, c.L, 2);
                for (c.C = n,
                c.W = i,
                c.sa = r,
                c.Aa = !c.C && "HLS" == c.W && !c.sa,
                o = we(t.keys()),
                s = o.next(); !s.done; s = o.next())
                    u = s.value,
                    l = t.get(u),
                    Eo(c, u, l, l.codecs),
                    c.s ? (c.j[a.U] = [],
                    c.j[a.ia] = []) : c.j[u] = [];
                Ae(e)
            })
        }
        ,
        e.configure = function(e) {
            this.G = e
        }
        ,
        e.Lb = function() {
            var e, t, n = {
                total: this.D ? [] : Ba(this.i.buffered),
                audio: this.D ? [] : Ba(Co(this, "audio")),
                video: this.D ? [] : Ba(Co(this, "video")),
                text: []
            };
            return this.h && (e = this.h.g,
            t = this.h.h,
            null != e && null != t && n.text.push({
                start: e,
                end: t
            })),
            n
        }
        ,
        e.remove = function(t, n, i) {
            var r, a = this;
            return Ie(function(e) {
                return 1 == e.g ? t == (r = He).Da ? Te(e, a.h.remove(n, i), 0) : Te(e, Uo(a, t, function() {
                    return No(a, t, n, i)
                }), 4) : a.s ? Te(e, Uo(a, r.U, function() {
                    return No(a, r.U, n, i)
                }), 0) : e.F(0)
            })
        }
        ,
        e.flush = function(t) {
            var n, i = this;
            return Ie(function(e) {
                return 1 == e.g ? t == (n = He).Da ? e.return() : Te(e, Uo(i, t, function() {
                    i.i.currentTime -= .001,
                    _o(i, t)
                }), 2) : i.s ? Te(e, Uo(i, n.U, function() {
                    var e = n.U;
                    i.i.currentTime -= .001,
                    _o(i, e)
                }), 0) : e.F(0)
            })
        }
        ,
        e.endOfStream = function(t) {
            var n = this;
            return Ie(function(e) {
                return Te(e, Oo(n, function() {
                    xo(n) || "closed" === n.l.readyState || (t ? n.l.endOfStream(t) : n.l.endOfStream())
                }), 0)
            })
        }
        ,
        e.gb = function(n) {
            var i = this;
            return Ie(function(e) {
                return Te(e, Oo(i, function() {
                    if (n < i.l.duration)
                        for (var e in i.g) {
                            var t = {
                                start: function() {},
                                p: new Oi
                            };
                            i.j[e].unshift(t)
                        }
                    i.l.duration = n,
                    i.V = n
                }), 0)
            })
        }
        ,
        e.getDuration = function() {
            return this.l.duration
        }
        ;
        var Go = z.URL.createObjectURL
          , Vo = "sequence";
        function fe(e, t, n) {
            this.i = e,
            this.s = t,
            this.C = this.j = 1 / 0,
            this.g = 1,
            this.h = this.l = null,
            this.u = 0,
            this.G = !0,
            this.H = 0,
            this.D = void 0 === n || n,
            this.I = 0,
            this.m = !1
        }
        function Ko(e, t, n) {
            this.j = n,
            this.l = e,
            this.u = zo(e),
            this.g = e.g.currentTime,
            this.m = Date.now() / 1e3,
            this.h = !1,
            this.s = 0,
            this.C = t,
            this.i = function() {}
        }
        function Ho(e) {
            this.g = e
        }
        function zo(e) {
            if (e.g.paused || 0 == e.g.buffered.length)
                var t = !1;
            else
                e: {
                    for (var t = e.g.currentTime, n = (e = we(Ba(e.g.buffered))).next(); !n.done; n = e.next())
                        if (!(t < (n = n.value).start - .1 || t > n.end - .5)) {
                            t = !0;
                            break e
                        }
                    t = !1
                }
            return t
        }
        function Xo(e, t, n, i, r) {
            var a = this;
            this.C = r,
            this.g = e,
            this.D = t,
            this.u = n,
            this.l = new nr,
            this.j = !1,
            this.H = e.readyState,
            this.G = this.i = 0,
            this.h = i,
            this.s = !1,
            this.l.o(e, "waiting", function() {
                return Wo(a)
            }),
            this.m = new I(function() {
                Wo(a)
            }
            ).za(this.u.gapJumpTimerTime)
        }
        function Wo(e) {
            if (0 != e.g.readyState) {
                if (e.g.seeking) {
                    if (!e.j)
                        return
                } else
                    e.j = !1;
                var t, n, i, r;
                e.g.paused && (e.g.currentTime != e.i || !e.g.autoplay && e.g.currentTime == e.i) || (e.g.readyState != e.H && (e.H = e.g.readyState),
                (t = !e.h) || (i = zo(n = (t = e.h).l),
                r = n.g.currentTime,
                a = Date.now() / 1e3,
                t.g == r && t.u == i || (t.m = a,
                t.g = r,
                t.u = i,
                t.h = !1),
                (i = (r = a - t.m) >= t.C && i && !t.h) && (t.i(t.g, r),
                t.h = !0,
                t.g = n.g.currentTime,
                t.s++,
                t.j(new ce("stalldetected"))),
                t = !i),
                t && (t = e.g.currentTime,
                n = e.g.buffered,
                a = n,
                o = t,
                s = e.u.gapDetectionThreshold,
                null == (i = a && a.length && !(1 == a.length && a.end(0) - a.start(0) < 1e-6) && 0 <= (a = Ba(a).findIndex(function(e, t, n) {
                    return e.start > o && (0 == t || n[t - 1].end - o <= s)
                })) ? a : null) || 0 == i && !e.s || ((r = n.start(i)) >= e.D.Ob() || r - t < .001 || (0 != i && n.end(i - 1),
                e.g.currentTime = r,
                t == e.i && (e.i = r),
                e.G++,
                e.C(new ce("gapjumped"))))))
            }
            var a, o, s
        }
        function qo(e, t, n, i) {
            t == HTMLMediaElement.HAVE_NOTHING || e.readyState >= t ? i() : (t = Yo.value().get(t),
            n.na(e, t, i))
        }
        (e = fe.prototype).getDuration = function() {
            return this.j
        }
        ,
        e.mi = function() {
            return this.g
        }
        ,
        e.og = function(e) {
            this.i = e
        }
        ,
        e.gb = function(e) {
            this.j = e
        }
        ,
        e.pi = function() {
            return this.i
        }
        ,
        e.nh = function(e) {
            this.u = e
        }
        ,
        e.Vc = function(e) {
            this.G = e
        }
        ,
        e.Ne = function(e) {
            this.C = e
        }
        ,
        e.oh = function(e) {
            this.s = e
        }
        ,
        e.ci = function() {
            return this.s
        }
        ,
        e.hh = function(e, t) {
            var n;
            0 != e.length && (n = e[e.length - 1].end + t,
            this.Ce(e[0].start + t),
            this.g = e.reduce(function(e, t) {
                return Math.max(e, t.end - t.start)
            }, this.g),
            this.h = Math.max(this.h, n),
            null != this.i && this.D && !this.m && (this.i = (Date.now() + this.u) / 1e3 - this.h - this.g))
        }
        ,
        e.Dd = function(e) {
            if (0 != e.length) {
                for (var t = e[0].startTime, n = e[0].endTime, i = (Date.now() + this.u) / 1e3, r = (e = we(e)).next(); !r.done; r = e.next())
                    i < (r = r.value).startTime || (t = Math.min(t, r.startTime),
                    n = Math.max(n, r.endTime),
                    this.g = Math.max(this.g, r.endTime - r.startTime));
                this.Ce(t),
                this.h = Math.max(this.h, n),
                null != this.i && this.D && !this.m && (this.i = i - this.h - this.g)
            }
        }
        ,
        e.ve = function() {
            this.m = !0
        }
        ,
        e.Pi = function() {
            return this.m
        }
        ,
        e.Ce = function(e) {
            this.l = null == this.l ? e : Math.min(this.l, e)
        }
        ,
        e.Wf = function(e) {
            this.g = Math.max(this.g, e)
        }
        ,
        e.offset = function(e) {
            null != this.l && (this.l += e),
            null != this.h && (this.h += e)
        }
        ,
        e.R = function() {
            return 1 / 0 == this.j && !this.G
        }
        ,
        e.wc = function() {
            return 1 / 0 != this.j && !this.G
        }
        ,
        e.Ab = function() {
            return Math.max(this.H, this.ac() - this.C)
        }
        ,
        e.sh = function(e) {
            this.H = e
        }
        ,
        e.ac = function() {
            return this.R() || this.wc() ? Math.min(Math.max(0, (Date.now() + this.u) / 1e3 - this.g - this.i) + this.I, this.j) : this.h ? Math.min(this.h, this.j) : this.j
        }
        ,
        e.ud = function(e) {
            var t = Math.max(this.l, this.H);
            return 1 / 0 == this.C ? Math.ceil(1e3 * t) / 1e3 : Math.max(t, Math.min(this.ac() - this.C + e, this.Ob()))
        }
        ,
        e.Nc = function() {
            return this.ud(0)
        }
        ,
        e.Ob = function() {
            return Math.max(0, this.ac() - (this.R() || this.wc() ? this.s : 0))
        }
        ,
        e.yh = function() {
            return !(null == this.i || null != this.h && this.D)
        }
        ,
        e.mh = function(e) {
            this.I = e
        }
        ,
        n("shaka.media.PresentationTimeline", fe),
        fe.prototype.setAvailabilityTimeOffset = fe.prototype.mh,
        fe.prototype.usingPresentationStartTime = fe.prototype.yh,
        fe.prototype.getSeekRangeEnd = fe.prototype.Ob,
        fe.prototype.getSeekRangeStart = fe.prototype.Nc,
        fe.prototype.getSafeSeekRangeStart = fe.prototype.ud,
        fe.prototype.getSegmentAvailabilityEnd = fe.prototype.ac,
        fe.prototype.setUserSeekStart = fe.prototype.sh,
        fe.prototype.getSegmentAvailabilityStart = fe.prototype.Ab,
        fe.prototype.isInProgress = fe.prototype.wc,
        fe.prototype.isLive = fe.prototype.R,
        fe.prototype.notifyMaxSegmentDuration = fe.prototype.Wf,
        fe.prototype.notifyMinSegmentStartTime = fe.prototype.Ce,
        fe.prototype.isStartTimeLocked = fe.prototype.Pi,
        fe.prototype.lockStartTime = fe.prototype.ve,
        fe.prototype.notifySegments = fe.prototype.Dd,
        fe.prototype.notifyTimeRange = fe.prototype.hh,
        fe.prototype.getDelay = fe.prototype.ci,
        fe.prototype.setDelay = fe.prototype.oh,
        fe.prototype.setSegmentAvailabilityDuration = fe.prototype.Ne,
        fe.prototype.setStatic = fe.prototype.Vc,
        fe.prototype.setClockOffset = fe.prototype.nh,
        fe.prototype.getPresentationStartTime = fe.prototype.pi,
        fe.prototype.setDuration = fe.prototype.gb,
        fe.prototype.setPresentationStartTime = fe.prototype.og,
        fe.prototype.getMaxSegmentDuration = fe.prototype.mi,
        Ko.prototype.release = function() {
            this.j = this.l = null,
            this.i = function() {}
        }
        ,
        Xo.prototype.release = function() {
            this.l && (this.l.release(),
            this.l = null),
            null != this.m && (this.m.stop(),
            this.m = null),
            this.h && (this.h.release(),
            this.h = null),
            this.g = this.D = this.C = null
        }
        ,
        Xo.prototype.Zf = function() {
            this.s = !0,
            Wo(this)
        }
        ;
        var Yo = new ar(function() {
            return new Map([[HTMLMediaElement.HAVE_METADATA, "loadedmetadata"], [HTMLMediaElement.HAVE_CURRENT_DATA, "loadeddata"], [HTMLMediaElement.HAVE_FUTURE_DATA, "canplay"], [HTMLMediaElement.HAVE_ENOUGH_DATA, "canplaythrough"]])
        }
        );
        function Jo(e, t, n, i) {
            var r = this;
            this.g = e,
            this.m = t,
            this.u = n,
            this.l = null,
            this.j = function() {
                return null == r.l && (r.l = i()),
                r.l
            }
            ,
            this.s = !1,
            this.h = new nr,
            this.i = new ts(e),
            qo(this.g, HTMLMediaElement.HAVE_METADATA, this.h, function() {
                Zo(r, r.j())
            })
        }
        function Qo(e) {
            return e.s ? e.g.currentTime : e.j()
        }
        function $o(e, t) {
            0 < e.g.readyState ? ns(e.i, t) : qo(e.g, HTMLMediaElement.HAVE_METADATA, e.h, function() {
                Zo(e, e.j())
            })
        }
        function Zo(e, t) {
            Math.abs(e.g.currentTime - t) < .001 ? es(e) : (e.h.na(e.g, "seeking", function() {
                es(e)
            }),
            ns(e.i, e.g.currentTime && 0 != e.g.currentTime ? e.g.currentTime : t))
        }
        function es(e) {
            e.s = !0,
            e.h.o(e.g, "seeking", function() {
                return e.m()
            }),
            e.u(e.g.currentTime)
        }
        function ts(e) {
            var t = this;
            this.h = e,
            this.m = 10,
            this.l = this.j = this.i = 0,
            this.g = new I(function() {
                t.i <= 0 || t.h.currentTime != t.j ? t.g.stop() : (t.h.currentTime = t.l,
                t.i--)
            }
            )
        }
        function ns(e, t) {
            e.j = e.h.currentTime,
            e.l = t,
            e.i = e.m,
            e.h.currentTime = t,
            e.g.za(.1)
        }
        function is(e) {
            this.g = e,
            this.j = !1,
            this.h = null,
            this.i = new nr
        }
        function rs(e, t, n, i, r, a) {
            var o = this;
            this.i = e,
            this.g = t.presentationTimeline,
            this.D = t.minBufferTime || 0,
            this.l = n,
            this.C = r,
            this.u = null,
            this.s = function(e, t, n) {
                if (!t.stallEnabled)
                    return null;
                var i = t.stallSkip;
                return function(e, t) {
                    e.i = t
                }(t = new Ko(new Ho(e),t.stallThreshold,n), function() {
                    i ? e.currentTime += i : (e.pause(),
                    e.play())
                }),
                t
            }(e, n, a),
            this.j = new Xo(e,t.presentationTimeline,n,this.s,a),
            this.h = new Jo(e,function() {
                (t = o.j).j = !0,
                t.s = !1;
                var e = Qo(o.h)
                  , t = os(o, e);
                return .001 < Math.abs(t - e) && (e = Date.now() / 1e3,
                !o.u || o.u < e - 1) ? (o.u = e,
                $o(o.h, t),
                t = void 0) : (o.C(),
                t = void 0),
                t
            }
            ,function(e) {
                var t = o.j;
                t.g.seeking && !t.j && (t.j = !0,
                t.i = e)
            }
            ,function() {
                var e = i;
                return null == e ? e = 1 / 0 > o.g.getDuration() ? o.g.Nc() : o.g.Ob() : e < 0 && (e = o.g.Ob() + e),
                as(o, ss(o, e))
            }
            ),
            this.m = new I(function() {
                var e, t, n;
                0 == o.i.readyState || o.i.paused || (e = Qo(o.h),
                t = o.g.Nc(),
                e < (t = (n = o.g.Ob()) - t < 3 ? n - 3 : t) && (e = os(o, e),
                o.i.currentTime = e))
            }
            )
        }
        function as(e, t) {
            var n = e.g.getDuration();
            return n <= t ? n - e.l.durationBackoff : t
        }
        function os(e, t) {
            var n = Math.max(e.D, e.l.rebufferingGoal)
              , i = e.l.safeSeekOffset
              , r = e.g.Nc()
              , a = e.g.Ob()
              , o = e.g.getDuration()
              , s = (a - r < 3 && (r = a - 3),
            e.g.ud(n))
              , u = e.g.ud(i)
              , n = e.g.ud(n + i);
            return o <= t ? as(e, t) : a < t ? a : t < r ? Oa(e.i.buffered, u) ? u : n : s <= t || Oa(e.i.buffered, t) ? t : n
        }
        function ss(e, t) {
            var n = e.g.Nc();
            return t < n ? n : (e = e.g.Ob()) < t ? e : t
        }
        function us(e) {
            this.g = e,
            this.m = null,
            this.j = 0,
            this.s = !1
        }
        function ls(e, t) {
            for (var n = (e = we(e.g)).next(); !n.done; n = e.next())
                t(n.value)
        }
        function cs(e, t, n) {
            return new us([e = new P(e,e + t,function() {
                return n
            }
            ,0,null,null,e,e,e + t)])
        }
        function hs(e, t, n) {
            this.i = e,
            this.g = t,
            this.h = n
        }
        function ds() {
            us.call(this, []),
            this.h = []
        }
        function fs(e) {
            var t = this;
            this.g = e,
            this.h = this.g.ke(),
            this.i = new I(function() {
                t.g.fh(.25 * t.h)
            }
            )
        }
        function ps(e) {
            var t = this;
            this.h = e,
            this.g = new Set,
            this.i = new I(function() {
                gs(t, !1)
            }
            ).za(.25)
        }
        function gs(e, t) {
            for (var n = we(e.g), i = n.next(); !i.done; i = n.next())
                i.value.j(e.h.currentTime, t)
        }
        function ms(e) {
            d.call(this),
            this.g = new Map,
            this.h = e
        }
        function vs(e) {
            d.call(this);
            var i = this;
            this.g = new Set,
            this.i = e,
            this.h = new I(function() {
                for (var e = i.i(), t = we(i.g), n = t.next(); !n.done; n = t.next())
                    (n = n.value).endTime < e.start && (i.g.delete(n),
                    n = new ce("regionremove",new Map([["region", n]])),
                    i.dispatchEvent(n))
            }
            ).za(2)
        }
        function ys(e, t) {
            d.call(this);
            var n = this;
            this.i = e,
            this.l = t,
            this.g = new Map,
            this.m = [{
                Dc: null,
                Cc: Ts,
                vc: function(e, t) {
                    return bs(n, "enter", e, t)
                }
            }, {
                Dc: ws,
                Cc: Ts,
                vc: function(e, t) {
                    return bs(n, "enter", e, t)
                }
            }, {
                Dc: As,
                Cc: Ts,
                vc: function(e, t) {
                    return bs(n, "enter", e, t)
                }
            }, {
                Dc: Ts,
                Cc: ws,
                vc: function(e, t) {
                    return bs(n, "exit", e, t)
                }
            }, {
                Dc: Ts,
                Cc: As,
                vc: function(e, t) {
                    return bs(n, "exit", e, t)
                }
            }, {
                Dc: ws,
                Cc: As,
                vc: function(e, t) {
                    return bs(n, "skip", e, t)
                }
            }, {
                Dc: As,
                Cc: ws,
                vc: function(e, t) {
                    return bs(n, "skip", e, t)
                }
            }],
            this.h = new nr,
            this.h.o(this.i, "regionremove", function(e) {
                n.g.delete(e.region)
            })
        }
        function bs(e, t, n, i) {
            t = new ce(t,new Map([["region", n], ["seeking", i]])),
            e.dispatchEvent(t)
        }
        Jo.prototype.release = function() {
            this.h && (this.h.release(),
            this.h = null),
            null != this.i && (this.i.release(),
            this.i = null),
            this.m = function() {}
            ,
            this.g = null
        }
        ,
        ts.prototype.release = function() {
            this.g && (this.g.stop(),
            this.g = null),
            this.h = null
        }
        ,
        (e = is.prototype).df = function() {
            var e = this;
            qo(this.g, HTMLMediaElement.HAVE_CURRENT_DATA, this.i, function() {
                null == e.h || 0 == e.h ? e.j = !0 : (e.i.na(e.g, "seeking", function() {
                    e.j = !0
                }),
                e.g.currentTime = Math.max(0, e.g.currentTime + e.h))
            })
        }
        ,
        e.release = function() {
            this.i && (this.i.release(),
            this.i = null),
            this.g = null
        }
        ,
        e.ef = function(e) {
            this.h = this.j ? this.h : e
        }
        ,
        e.Yd = function() {
            return (this.j ? this.g.currentTime : this.h) || 0
        }
        ,
        e.Cg = function() {
            return 0
        }
        ,
        e.Bg = function() {
            return 0
        }
        ,
        e.gh = function() {}
        ,
        (e = rs.prototype).df = function() {
            this.m.za(.25)
        }
        ,
        e.release = function() {
            this.h && (this.h.release(),
            this.h = null),
            this.j && (this.j.release(),
            this.j = null),
            this.m && (this.m.stop(),
            this.m = null),
            this.i = this.h = this.g = this.l = null,
            this.C = function() {}
        }
        ,
        e.ef = function(e) {
            $o(this.h, e)
        }
        ,
        e.Yd = function() {
            var e = Qo(this.h);
            return 0 < this.i.readyState && !this.i.paused ? ss(this, e) : e
        }
        ,
        e.Cg = function() {
            return this.s ? this.s.s : 0
        }
        ,
        e.Bg = function() {
            return this.j.G
        }
        ,
        e.gh = function() {
            this.j.Zf()
        }
        ,
        (e = us.prototype).$b = function() {
            return this.g.length
        }
        ,
        e.release = function() {
            this.s || (this.g = [],
            this.m && this.m.stop(),
            this.m = null)
        }
        ,
        e.Ui = function() {
            this.s = !0
        }
        ,
        e.find = function(e) {
            for (var t = this.g.length - 1, n = t; 0 <= n; --n) {
                var i = this.g[n]
                  , r = n < t ? this.g[n + 1].startTime : i.endTime;
                if (e >= i.startTime && e < r)
                    return n + this.j
            }
            return this.g.length && e < this.g[0].startTime ? this.j : null
        }
        ,
        e.get = function(e) {
            return 0 == this.g.length || (e -= this.j) < 0 || e >= this.g.length ? null : this.g[e]
        }
        ,
        e.offset = function(e) {
            if (!this.s)
                for (var t = we(this.g), n = t.next(); !n.done; n = t.next())
                    n.value.offset(e)
        }
        ,
        e.ze = function(e) {
            var t;
            !this.s && e.length && (t = Math.round(1e3 * e[0].startTime) / 1e3,
            this.g = this.g.filter(function(e) {
                return Math.round(1e3 * e.startTime) / 1e3 < t
            }),
            this.g.push.apply(this.g, le(e)))
        }
        ,
        e.Cd = function(e, t) {
            var n = this;
            e = e.filter(function(e) {
                return e.endTime > t && (0 == n.g.length || e.endTime > n.g[0].startTime)
            }),
            this.ze(e),
            this.yb(t)
        }
        ,
        e.yb = function(t) {
            var e;
            this.s || (e = this.g.length,
            this.g = this.g.filter(function(e) {
                return e.endTime > t
            }),
            this.j += e - this.g.length)
        }
        ,
        e.Ic = function(e, t, n) {
            if (n = void 0 !== n && n,
            !this.s) {
                for (; this.g.length && this.g[this.g.length - 1].startTime >= t; )
                    this.g.pop();
                for (; this.g.length && this.g[0].endTime <= e; )
                    this.g.shift(),
                    n || this.j++;
                0 != this.g.length && (e = this.g[this.g.length - 1],
                this.g[this.g.length - 1] = new P(e.startTime,t,e.D,e.hb,e.Na,e.ka,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.C,e.oa,e.status,e.aes128Key),
                this.g[this.g.length - 1].i = e.i)
            }
        }
        ,
        e.Qe = function(e, t) {
            var n = this;
            this.s || (this.m && this.m.stop(),
            this.m = new I(function() {
                var e = t();
                e ? n.g.push.apply(n.g, le(e)) : (n.m.stop(),
                n.m = null)
            }
            ),
            this.m.za(e))
        }
        ,
        us.prototype[Symbol.iterator] = function() {
            return this.rc(0)
        }
        ,
        us.prototype.rc = function(e) {
            var t = this.find(e);
            if (null == t)
                return null;
            var n = this.get(--t + 1)
              , i = -1;
            if (n && 0 < n.g.length)
                for (var r = n.g.length - 1; 0 <= r; --r) {
                    var a = n.g[r];
                    if (e >= a.startTime && e < a.endTime) {
                        for (; r && !a.j; )
                            r--,
                            a = n.g[r];
                        if (!a.j)
                            return H("No independent partial segment found!"),
                            null;
                        t++,
                        i = r - 1;
                        break
                    }
                }
            return new hs(this,t,i)
        }
        ,
        n("shaka.media.SegmentIndex", us),
        us.forSingleSegment = cs,
        us.prototype.getIteratorForTime = us.prototype.rc,
        us.prototype.updateEvery = us.prototype.Qe,
        us.prototype.fit = us.prototype.Ic,
        us.prototype.evict = us.prototype.yb,
        us.prototype.mergeAndEvict = us.prototype.Cd,
        us.prototype.markImmutable = us.prototype.Ui,
        hs.prototype.Oh = function() {
            return this.g
        }
        ,
        hs.prototype.current = function() {
            var e = this.i.get(this.g);
            return e && 0 < e.g.length && e.s && this.h >= e.g.length && (this.g++,
            this.h = 0,
            e = this.i.get(this.g)),
            e && 0 < e.g.length ? e.g[this.h] : e
        }
        ,
        hs.prototype.next = function() {
            var e = this.i.get(this.g);
            return e && 0 < e.g.length ? (this.h++,
            e.s && this.h == e.g.length && (this.g++,
            this.h = 0)) : (this.g++,
            this.h = 0),
            {
                value: e = this.current(),
                done: !e
            }
        }
        ,
        n("shaka.media.SegmentIterator", hs),
        hs.prototype.currentPosition = hs.prototype.Oh,
        t(ds, us),
        (e = ds.prototype).clone = function() {
            var e = new ds;
            return e.h = this.h.slice(),
            e
        }
        ,
        e.release = function() {
            for (var e = we(this.h), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.h = []
        }
        ,
        e.find = function(e) {
            for (var t = 0, n = we(this.h), i = n.next(); !i.done; i = n.next()) {
                var r = (i = i.value).find(e);
                if (null != r)
                    return r + t;
                t += i.j + i.$b()
            }
            return null
        }
        ,
        e.get = function(e) {
            for (var t = 0, n = we(this.h), i = n.next(); !i.done; i = n.next()) {
                var r = (i = i.value).get(e - t);
                if (r)
                    return r;
                t += i.j + i.$b()
            }
            return null
        }
        ,
        e.offset = function() {}
        ,
        e.ze = function() {}
        ,
        e.yb = function() {}
        ,
        e.Cd = function() {}
        ,
        e.Ic = function() {}
        ,
        e.Qe = function() {}
        ,
        n("shaka.media.MetaSegmentIndex", ds),
        ds.prototype.updateEvery = ds.prototype.Qe,
        ds.prototype.fit = ds.prototype.Ic,
        ds.prototype.mergeAndEvict = ds.prototype.Cd,
        ds.prototype.evict = ds.prototype.yb,
        ds.prototype.merge = ds.prototype.ze,
        fs.prototype.release = function() {
            this.set(this.Lc()),
            this.i && (this.i.stop(),
            this.i = null),
            this.g = null
        }
        ,
        fs.prototype.set = function(e) {
            if (this.h != e)
                e: {
                    if (this.h = e,
                    this.i.stop(),
                    0 <= this.h)
                        try {
                            var t = this.h;
                            this.g.ke() != t && this.g.pg(t);
                            break e
                        } catch (e) {}
                    this.i.za(.25),
                    0 != this.g.ke() && this.g.pg(0)
                }
        }
        ,
        fs.prototype.Lc = function() {
            return this.g.Lc()
        }
        ,
        ps.prototype.release = function() {
            this.i.stop();
            for (var e = we(this.g), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.g.clear()
        }
        ,
        t(ms, d),
        ms.prototype.release = function() {
            this.g.clear(),
            d.prototype.release.call(this)
        }
        ,
        ms.prototype.j = function(e) {
            for (var t = we(this.g.values()), n = t.next(); !n.done; n = t.next()) {
                e: {
                    for (var i = (n = n.value).Gd, r = i.length - 1; 0 <= r; r--) {
                        var a = i[r];
                        if (a.position <= e) {
                            i = a.Uf;
                            break e
                        }
                    }
                    i = null
                }
                if (r = (r = i) ? !((r = n.Mg) === i || r && i && r.bandwidth == i.bandwidth && r.audioSamplingRate == i.audioSamplingRate && r.codecs == i.codecs && r.contentType == i.contentType && r.frameRate == i.frameRate && r.height == i.height && r.mimeType == i.mimeType && r.channelsCount == i.channelsCount && r.pixelAspectRatio == i.pixelAspectRatio && r.width == i.width) : r)
                    e: {
                        if (r = e,
                        a = i.contentType,
                        (a = this.h()[a]) && 0 < a.length) {
                            var o = a[a.length - 1].end;
                            if (r >= a[0].start && r < o) {
                                r = !0;
                                break e
                            }
                        }
                        r = !1
                    }
                r && (n.Mg = i,
                JSON.stringify(i),
                n = new ce("qualitychange",new Map([["quality", i], ["position", e]])),
                this.dispatchEvent(n))
            }
        }
        ,
        t(vs, d),
        vs.prototype.release = function() {
            this.g.clear(),
            this.h.stop(),
            d.prototype.release.call(this)
        }
        ,
        t(ys, d),
        ys.prototype.release = function() {
            this.i = null,
            this.g.clear(),
            this.h.release(),
            this.h = null,
            d.prototype.release.call(this)
        }
        ,
        ys.prototype.j = function(e, t) {
            if (!this.l || 0 != e) {
                this.l = !1;
                for (var n = we(this.i.g), i = n.next(); !i.done; i = n.next()) {
                    var i = i.value
                      , r = this.g.get(i)
                      , a = e < i.startTime ? ws : e > i.endTime ? As : Ts;
                    this.g.set(i, a);
                    for (var o = we(this.m), s = o.next(); !s.done; s = o.next())
                        (s = s.value).Dc == r && s.Cc == a && s.vc(i, t)
                }
            }
        }
        ;
        var ws = 1
          , Ts = 2
          , As = 3;
        function Es(e, t, n) {
            this.i = e,
            this.h = t,
            this.j = 0,
            this.l = n,
            this.g = new Map
        }
        function Ss(e, t, n) {
            if (n = void 0 !== n && n,
            e.h.segmentIndex) {
                var i = e.h.segmentIndex.rc(Math.max(t.startTime, e.j));
                if (i) {
                    var r = t;
                    for (n && (r = i.next().value) && r.startTime == t.startTime && r.endTime == t.endTime && (r = null); e.g.size < e.i && null != r && (t = !0,
                    r.l && null != r.Na && (t = !1),
                    (t = 2 == r.sc() ? !1 : t) && !e.g.has(r) && (Cs(t = new ks(e.l), r, e.h),
                    e.g.set(r, t)),
                    e.j = r.startTime,
                    !(e.h.fastSwitching && r.Fd && r.ue)); )
                        r = i.next().value
                }
            }
        }
        function xs(e) {
            if (0 !== e.g.size) {
                for (var t = we(e.g.keys()), n = t.next(); !n.done; n = t.next())
                    (n = n.value) && Is(e, n);
                e.j = 0
            }
        }
        function Is(e, t) {
            var n = e.g.get(t);
            e.g.delete(t),
            n && n.abort()
        }
        function ks(e) {
            this.i = e,
            this.g = this.h = null
        }
        function Cs(n, e, t) {
            var i = new Uint8Array(0);
            n.g = n.i(e, t, function(t) {
                return Ie(function(e) {
                    if (1 == e.g)
                        return i = 0 < i.byteLength ? Pr(i, t) : t,
                        n.h ? Te(e, n.h(i), 3) : e.F(0);
                    i = new Uint8Array(0),
                    Ae(e)
                })
            })
        }
        function Ms(e, t, n, i, r) {
            return e = qi(e, i, r),
            0 == t && null == n || (e.headers.Range = n ? "bytes=" + t + "-" + n : "bytes=" + t + "-"),
            e
        }
        function Ls(e, t) {
            var o = this;
            this.g = t,
            this.m = e,
            this.h = null,
            this.C = 1,
            this.s = this.j = null,
            this.H = 0,
            this.G = !1,
            this.i = new Map,
            this.D = !1,
            this.I = null,
            this.u = !1,
            this.l = new tr(function() {
                return t = o,
                Ie(function(e) {
                    if (1 == e.g) {
                        for (n = [],
                        i = we(t.i.values()),
                        r = i.next(); !r.done; r = i.next())
                            zs(a = r.value),
                            n.push(Xs(a));
                        return Te(e, Promise.all(n), 2)
                    }
                    t.i.clear(),
                    t.g = null,
                    t.m = null,
                    t.h = null,
                    Ae(e)
                });
                var t, n, i, r, a
            }
            ),
            this.J = Date.now() / 1e3
        }
        function Rs(e, t) {
            var n, i = e.i.get("video");
            i && (n = i.stream) && (t ? (t = n.trickModeVideo) && !i.Ac && (Ds(e, t, !1, 0, !1),
            i.Ac = n) : (n = i.Ac) && Ds(e, n, !(i.Ac = null), 0, !1))
        }
        function Ns(e, t, n, i, r, a) {
            n = void 0 !== n && n,
            i = void 0 === i ? 0 : i,
            r = void 0 !== r && r,
            a = void 0 !== a && a,
            e.j = t,
            e.D && (t.video && Ds(e, t.video, n, i, r, a),
            t.audio && Ds(e, t.audio, n, i, r, a))
        }
        function Ps(t, n) {
            Ie(function(e) {
                if (1 == e.g)
                    return t.s = n,
                    t.D ? n.segmentIndex ? e.F(2) : Te(e, n.createSegmentIndex(), 2) : e.return();
                Ds(t, n, !0, 0, !1),
                Ae(e)
            })
        }
        function Ds(t, e, n, i, r, a) {
            var o, s, u, l, c, h, d, f, p, g, m, v, y = t.i.get(e.type);
            y || e.type != he ? y && (y.Ac && (e.trickModeVideo ? e = (y.Ac = e).trickModeVideo : y.Ac = null),
            y.stream != e || r) && (y.Ia && (m = y.Ia,
            (v = e) && v !== m.h && (xs(m),
            m.h = v)),
            e.type == he && (r = an(e.mimeType, e.codecs),
            So(t.g.Y, r, t.m.sequenceMode, e.external)),
            y.stream.closeSegmentIndex && y.stream.closeSegmentIndex(),
            y.stream = e,
            y.ea = null,
            y.Dg = !!a,
            n && (y.pd ? y.Re = !0 : y.Ta ? (y.Ub = !0,
            y.be = i,
            y.Re = !0) : (zs(y),
            Ks(t, y, !0, i).catch(function(e) {
                t.g && t.g.onError(e)
            }))),
            d = t,
            f = y,
            Ie(function(e) {
                if (1 == e.g)
                    return f.eb ? (p = f.stream,
                    g = f.eb,
                    p.segmentIndex ? e.F(2) : Te(e, p.createSegmentIndex(), 2)) : e.return();
                if (f.eb != g || f.stream != p)
                    return e.return();
                var t = d.g.je()
                  , n = ko(d.g.Y, f.type)
                  , i = null == (r = f.stream.segmentIndex.find(f.Sa ? f.Sa.endTime : t)) ? null : f.stream.segmentIndex.get(r)
                  , r = i && i.Na ? i.Na - i.hb : null;
                (t = !!(r = i && !r ? (i.endTime - i.getStartTime()) * (f.stream.bandwidth || 0) / 8 : r) && ((i = i.ka) && (r += (i.Na ? i.Na - i.hb : null) || 0),
                8 * r / (i = d.g.getBandwidthEstimate()) < (n || 0) - t - Math.max(d.m.minBufferTime || 0, d.h.rebufferingGoal) || f.eb.h.g > r)) && f.eb.abort(),
                Ae(e)
            }).catch(function(e) {
                t.g && t.g.onError(e)
            })) : (o = t,
            s = e,
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    return u = He,
                    o.H++,
                    l = o.H,
                    Ee(e, 2),
                    Te(e, Lo(o.g.Y, u.Da), 4);
                case 4:
                    Se(e, 3);
                    break;
                case 2:
                    c = xe(e),
                    o.g && o.g.onError(c);
                case 3:
                    c = an(s.mimeType, s.codecs),
                    So(o.g.Y, c, o.m.sequenceMode, s.external),
                    h = o.g.Y.H,
                    (h.isTextVisible() || o.h.alwaysStreamText) && o.H == l && (h = Us(o, s),
                    o.i.set(u.Da, h),
                    Hs(o, h, 0)),
                    Ae(e)
                }
            }))
        }
        function _s(t, e) {
            e.pd || e.Ub || (e.Ta ? (e.Ub = !0,
            e.be = 0) : null == Io(t.g.Y, e.type) ? null == e.Eb && Hs(t, e, 0) : (zs(e),
            Ks(t, e, !1, 0).catch(function(e) {
                t.g && t.g.onError(e)
            })))
        }
        function Us(e, t) {
            return {
                stream: t,
                type: t.type,
                ea: null,
                Ia: Os(e, t),
                Sa: null,
                ec: null,
                Rf: null,
                Pf: null,
                Of: null,
                Ac: null,
                endOfStream: !1,
                Ta: !1,
                Eb: null,
                Ub: !1,
                be: 0,
                Re: !1,
                pd: !1,
                Kd: !0,
                Vf: !1,
                dg: !1,
                wd: !1,
                eb: null
            }
        }
        function Os(i, e) {
            return ("video" === e.type || "audio" === e.type) && 0 < i.h.segmentPrefetchLimit ? new Es(i.h.segmentPrefetchLimit,e,function(e, t, n) {
                return Vs(i, e, t, n)
            }
            ) : null
        }
        function js(t, n) {
            var i, r, a;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (j(t.l),
                    n.Ta || null == n.Eb || n.pd)
                        return e.return();
                    if (n.Eb = null,
                    n.Ub)
                        return Te(e, Ks(t, n, n.Re, n.be), 3);
                    e.F(2);
                    break;
                case 3:
                    return e.return();
                case 2:
                    if (n.stream.segmentIndex) {
                        e.F(4);
                        break
                    }
                    return i = n.stream,
                    Te(e, n.stream.createSegmentIndex(), 5);
                case 5:
                    if (i != n.stream)
                        return i.closeSegmentIndex && i.closeSegmentIndex(),
                        n.Ta || n.Eb || Hs(t, n, 0),
                        e.return();
                case 4:
                    Ee(e, 6),
                    null != (r = function(e, t) {
                        if (Fs(t))
                            return function(e, t) {
                                var n = ko(e, "video") || 0;
                                mn(e.h, t, n)
                            }(e.g.Y, t.stream.originalId || ""),
                            null;
                        if (t.type == he && function(e) {
                            e.h && mn(e.h, "", 0)
                        }(e.g.Y),
                        !e.g.Y.aa && t.type != he)
                            return e.h.updateIntervalSeconds / 2;
                        var n, i = e.g.je(), r = t.Sa ? t.Sa.endTime : i, a = function(e, t, n) {
                            return e.D ? 0 : t == he ? null == (e = e.h).h || e.h < n ? 0 : e.h - Math.max(n, e.g) : ja(e = Co(e, t), n)
                        }(e.g.Y, t.type, i), o = Math.max(1, Math.max(e.m.minBufferTime || 0, e.h.rebufferingGoal, e.h.bufferingGoal) * e.C), s = e.m.presentationTimeline.getDuration() - r, u = ko(e.g.Y, t.type);
                        if (s < 1e-6 && u)
                            return t.endOfStream = !0,
                            "video" == t.type && (e = e.i.get(he)) && Fs(e) && (e.endOfStream = !0),
                            null;
                        if (t.endOfStream = !1,
                        o <= a)
                            return e.h.updateIntervalSeconds / 2;
                        if (!(a = function(e, t, n, i) {
                            if (t.ea)
                                return t.ea.current();
                            if (t.Sa || i)
                                return n = t.Sa ? t.Sa.endTime : i,
                                t.Vf = !0,
                                t.ea = t.stream.segmentIndex.rc(n),
                                t.ea && t.ea.next().value;
                            e = e.h.inaccurateManifestTolerance,
                            i = Math.max(n - e, 0);
                            var r = null;
                            return e && (t.ea = t.stream.segmentIndex.rc(i),
                            r = t.ea && t.ea.next().value),
                            r || (t.ea = t.stream.segmentIndex.rc(n),
                            r = t.ea && t.ea.next().value),
                            r
                        }(e, t, i, u)))
                            return e.h.updateIntervalSeconds;
                        for (o = 1 / 0,
                        s = we(s = Array.from(e.i.values())),
                        u = s.next(); !u.done; u = s.next())
                            Fs(u = u.value) || u.ea && !u.ea.current() || (o = Math.min(o, u.Sa ? u.Sa.endTime : i));
                        {
                            var l;
                            return r >= o + e.m.presentationTimeline.g ? e.h.updateIntervalSeconds : (t.Ia && t.ea && (!(r = a.ka) || t.Sa && Pa(r, t.ec) || (l = t.Ia,
                            r = r,
                            l.h.segmentIndex && l.g.size < l.i && !l.g.has(r) && (Cs(n = new ks(l.l), r, l.h),
                            l.g.set(r, n))),
                            Ss(t.Ia, a)),
                            function(u, l, c, h) {
                                var t, I, n, i, k, C, M, L, r, a;
                                return Ie(function(e) {
                                    switch (e.g) {
                                    case 1:
                                        if (t = He,
                                        I = l.stream,
                                        n = l.ea,
                                        l.Ta = !0,
                                        Ee(e, 2),
                                        2 == h.sc())
                                            throw new ke(1,1,1011);
                                        return Te(e, (d = u,
                                        f = l,
                                        p = h,
                                        Ie(function(e) {
                                            return 1 == e.g ? (g = He,
                                            m = [],
                                            v = Math.max(0, p.appendWindowStart - .1),
                                            y = p.appendWindowEnd + .01,
                                            b = ln(f.stream.codecs),
                                            w = cn(f.stream.mimeType),
                                            (T = p.timestampOffset) == f.Rf && v == f.Pf && y == f.Of && b == f.Qf && w == f.ah ? e.F(2) : ((A = f.Qf && f.ah && (t = d.g.Y,
                                            n = f.type,
                                            i = f.stream,
                                            !!(r = n != he && (r = ln(hn(t.I[n])),
                                            a = cn(t.I[n]),
                                            o = an(i.mimeType, i.codecs),
                                            s = t.G.forceTransmux,
                                            (!ut(o) || !t.C && fn.includes(o) || i.codecs.includes(",")) && (s = !0),
                                            i = on(i.mimeType, i.codecs),
                                            (s = s && Qt(i)) && (o = (s = s()).convertCodecs(n, i),
                                            s.destroy()),
                                            n = ln(hn(o)),
                                            o = cn(o),
                                            r !== n || a !== o)) && ("smooth" !== t.G.codecSwitchingStrategy || !lt() || t.s))) && (S = null,
                                            f.type === g.ia ? S = d.i.get(g.U) : f.type === g.U && (S = d.i.get(g.ia)),
                                            S && (S.ec = null,
                                            _s(d, S),
                                            Xs(S).catch(function() {}))),
                                            Te(e, function() {
                                                var t, n;
                                                return Ie(function(e) {
                                                    if (1 == e.g)
                                                        return n = new Map,
                                                        d.j.audio && n.set(g.U, d.j.audio),
                                                        d.j.video && n.set(g.ia, d.j.video),
                                                        Ee(e, 2),
                                                        f.Pf = v,
                                                        f.Of = y,
                                                        f.Qf = b,
                                                        f.ah = w,
                                                        f.Rf = T,
                                                        t = d.m.sequenceMode || "HLS" == d.m.type,
                                                        Te(e, Ro(d.g.Y, f.type, T, v, y, t, p.mimeType || f.stream.mimeType, p.codecs || f.stream.codecs, n), 4);
                                                    if (2 != e.g)
                                                        return A && (t = null,
                                                        f.type === g.ia ? t = d.i.get(g.U) : f.type === g.U && (t = d.i.get(g.ia)),
                                                        t && (t.Ub = !1,
                                                        t.Ta = !1,
                                                        _s(d, t))),
                                                        Se(e, 0);
                                                    throw n = xe(e),
                                                    f.Pf = null,
                                                    f.Of = null,
                                                    f.Qf = null,
                                                    f.Rf = null,
                                                    n
                                                })
                                            }(), 2))) : (Pa(p.ka, f.ec) || (f.ec = p.ka,
                                            p.j && p.ka && (E = Gs(d, f, p.ka),
                                            S = function() {
                                                var t, n, i, r, a;
                                                return Ie(function(e) {
                                                    switch (e.g) {
                                                    case 1:
                                                        return Ee(e, 2),
                                                        Te(e, E, 4);
                                                    case 4:
                                                        return t = e.h,
                                                        j(d.l),
                                                        n = null,
                                                        i = new Map,
                                                        (new yr).box("moov", D).box("trak", D).box("mdia", D).T("mdhd", function(e) {
                                                            n = qa(e.reader, e.version).timescale
                                                        }).box("hdlr", function(e) {
                                                            (e = e.reader).skip(8),
                                                            e = e.Sb(4);
                                                            var t = String.fromCharCode(e[0]);
                                                            switch ((t += String.fromCharCode(e[1])) + String.fromCharCode(e[2]) + String.fromCharCode(e[3])) {
                                                            case "soun":
                                                                i.set(g.U, n);
                                                                break;
                                                            case "vide":
                                                                i.set(g.ia, n)
                                                            }
                                                            n = null
                                                        }).parse(t),
                                                        i.has(f.type) ? p.ka.timescale = i.get(f.type) : null != n && (p.ka.timescale = n),
                                                        r = f.stream.closedCaptions && 0 < f.stream.closedCaptions.size,
                                                        Te(e, d.g.Gg(f.type, t), 5);
                                                    case 5:
                                                        return Te(e, Mo(d.g.Y, f.type, t, null, f.stream, r), 6);
                                                    case 6:
                                                        Se(e, 0);
                                                        break;
                                                    case 2:
                                                        throw a = xe(e),
                                                        f.ec = null,
                                                        a
                                                    }
                                                })
                                            }
                                            ,
                                            d.g.Wi(p.startTime, p.ka),
                                            m.push(S()))),
                                            d.m.sequenceMode && (x = f.Sa ? f.Sa.i : null,
                                            p.i != x || f.Vf) && (f.Vf = !1,
                                            m.push((u = d.g.Y,
                                            l = f.type,
                                            c = p.startTime,
                                            Ie(function(e) {
                                                return 1 == e.g ? l == (h = He).Da ? e.return() : (Uo(u, l, function() {
                                                    return Po(u, l)
                                                }),
                                                u.s && Uo(u, h.U, function() {
                                                    return Po(u, h.U)
                                                }),
                                                Te(e, Uo(u, l, function() {
                                                    return Do(u, l, c)
                                                }), 2)) : u.s ? Te(e, Uo(u, h.U, function() {
                                                    return Do(u, h.U, c)
                                                }), 0) : e.F(0)
                                            })))),
                                            Te(e, Promise.all(m), 0));
                                            var t, n, i, r, a, o, s, u, l, c, h
                                        })), 4);
                                    case 4:
                                        return (j(u.l),
                                        u.u) ? e.return() : (r = "video/mp4" == I.mimeType || "audio/mp4" == I.mimeType,
                                        i = z.ReadableStream,
                                        u.h.lowLatencyMode && i && r && ("HLS" != u.m.type || h.m) ? (k = new Uint8Array(0),
                                        M = C = !1,
                                        Te(e, Gs(u, l, h, function(r) {
                                            var a, o, s;
                                            return Ie(function(e) {
                                                switch (e.g) {
                                                case 1:
                                                    if (C)
                                                        return e.return();
                                                    if (M = !0,
                                                    j(u.l),
                                                    u.u)
                                                        return e.return();
                                                    if (Ee(e, 2),
                                                    t = k,
                                                    n = r,
                                                    (i = new Uint8Array(t.length + n.length)).set(t),
                                                    i.set(n, t.length),
                                                    k = i,
                                                    a = !1,
                                                    o = 0,
                                                    (new yr).box("mdat", function(e) {
                                                        o = e.size + e.start,
                                                        a = !0
                                                    }).parse(k, !1, !0),
                                                    a)
                                                        return s = k.subarray(0, o),
                                                        k = k.subarray(o),
                                                        Te(e, Bs(u, l, c, I, h, s, !0), 5);
                                                    e.F(4);
                                                    break;
                                                case 5:
                                                    l.Ia && l.ea && Ss(l.Ia, h, !0);
                                                case 4:
                                                    Se(e, 0);
                                                    break;
                                                case 2:
                                                    L = xe(e),
                                                    Ae(e)
                                                }
                                                var t, n, i
                                            })
                                        }), 9)) : Te(e, Gs(u, l, h), 7));
                                    case 7:
                                        return (i = e.h,
                                        j(u.l),
                                        u.u) ? e.return() : (j(u.l),
                                        l.Ub ? (l.Ta = !1,
                                        Hs(u, l, 0),
                                        e.return()) : Te(e, Bs(u, l, c, I, h, i), 6));
                                    case 9:
                                        if (r = e.h,
                                        L)
                                            throw L;
                                        if (M) {
                                            e.F(10);
                                            break
                                        }
                                        return C = !0,
                                        j(u.l),
                                        u.u ? e.return() : l.Ub ? (l.Ta = !1,
                                        Hs(u, l, 0),
                                        e.return()) : Te(e, Bs(u, l, c, I, h, r), 10);
                                    case 10:
                                        l.Ia && l.ea && Ss(l.Ia, h, !0);
                                    case 6:
                                        if (j(u.l),
                                        u.u)
                                            return e.return();
                                        l.Sa = h,
                                        n.next(),
                                        l.Ta = !1,
                                        l.dg = !1,
                                        a = u.g.Y.Lb(),
                                        a = a[l.type],
                                        JSON.stringify(a),
                                        l.Ub || u.g.Zf(h, l.stream),
                                        Hs(u, l, 0),
                                        Se(e, 0);
                                        break;
                                    case 2:
                                        if (a = xe(e),
                                        j(u.l, a),
                                        u.u)
                                            return e.return();
                                        if (l.Ta = !1,
                                        7001 == a.code)
                                            l.Ta = !1,
                                            zs(l),
                                            Hs(u, l, 0),
                                            e.F(0);
                                        else if (l.type == t.Da && u.h.ignoreTextStreamFailures)
                                            u.i.delete(t.Da),
                                            e.F(0);
                                        else {
                                            if (3017 != a.code)
                                                return l.wd = !0,
                                                a.severity = 2,
                                                Te(e, Ws(u, l, a), 0);
                                            (function(e, t, n) {
                                                if (!Array.from(e.i.values()).some(function(e) {
                                                    return e != t && e.dg
                                                })) {
                                                    if (0 < e.h.maxDisabledTime && e.g.ce(t.stream, e.h.maxDisabledTime))
                                                        return;
                                                    var i = Math.round(100 * e.C);
                                                    if (20 < i)
                                                        e.C -= .2;
                                                    else {
                                                        if (!(4 < i))
                                                            return t.wd = !0,
                                                            e.u = !0,
                                                            e.g.onError(n);
                                                        e.C -= .04
                                                    }
                                                    t.dg = !0
                                                }
                                                Hs(e, t, 4)
                                            }
                                            )(u, l, a),
                                            e.F(0)
                                        }
                                    }
                                    var d, f, p, g, m, v, y, b, w, T, A, E, S, x
                                })
                            }(e, t, i, a).catch(function() {}),
                            null)
                        }
                    }(t, n)) && (Hs(t, n, r),
                    n.wd = !1),
                    Se(e, 7);
                    break;
                case 6:
                    return r = xe(e),
                    Te(e, Ws(t, n, r), 8);
                case 8:
                    return e.return();
                case 7:
                    if (a = Array.from(t.i.values()),
                    t.D && a.every(function(e) {
                        return e.endOfStream
                    }))
                        return Te(e, t.g.Y.endOfStream(), 10);
                    e.F(0);
                    break;
                case 10:
                    j(t.l),
                    0 != (a = t.g.Y.getDuration()) && a < t.m.presentationTimeline.getDuration() && t.m.presentationTimeline.gb(a),
                    Ae(e)
                }
            })
        }
        function Bs(l, o, s, c, h, u, d) {
            var f, p, g, m, v, y;
            return d = void 0 !== d && d,
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    return f = c.closedCaptions && 0 < c.closedCaptions.size,
                    g = null != c.emsgSchemeIdUris && 0 < c.emsgSchemeIdUris.length || l.h.dispatchAllEmsgBoxes,
                    m = l.h.parsePrftBox && !l.G,
                    (g || m) && (p = new yr),
                    g && p.T("emsg", function(e) {
                        var t, n, i, r, a, o, s, u = c.emsgSchemeIdUris;
                        0 === e.version ? (t = e.reader.Hd(),
                        n = e.reader.Hd(),
                        i = e.reader.O(),
                        r = e.reader.O(),
                        a = e.reader.O(),
                        o = e.reader.O(),
                        s = h.startTime + r / i) : (i = e.reader.O(),
                        r = (s = e.reader.Uc() / i + h.timestampOffset) - h.startTime,
                        a = e.reader.O(),
                        o = e.reader.O(),
                        t = e.reader.Hd(),
                        n = e.reader.Hd()),
                        e = e.reader.Sb(e.reader.getLength() - e.reader.Ga()),
                        (u && u.includes(t) || l.h.dispatchAllEmsgBoxes) && ("urn:mpeg:dash:event:2012" == t ? l.g.Xi() : ((u = new ce("emsg",u = (new Map).set("detail", {
                            startTime: s,
                            endTime: s + a / i,
                            schemeIdUri: t,
                            value: n,
                            timescale: i,
                            presentationTimeDelta: r,
                            eventDuration: a,
                            id: o,
                            messageData: e
                        }))).cancelable = !0,
                        l.g.onEvent(u),
                        u.defaultPrevented || "https://aomedia.org/emsg/ID3" != t && "https://developer.apple.com/streaming/emsg-id3" != t || (t = Ha(e)).length && h && l.g.Yi([{
                            cueTime: h.startTime,
                            data: e,
                            frames: t,
                            dts: h.startTime,
                            pts: h.startTime
                        }], 0, h.endTime)))
                    }),
                    m && p.T("prft", function(e) {
                        var t, n;
                        !l.G && h.ka.timescale && (t = e.reader,
                        n = e.version,
                        t.O(),
                        e = 1e3 * (e = t.O()) + t.O() / Math.pow(2, 32) * 1e3,
                        t = 0 === n ? t.O() : (n = t.O(),
                        t = t.O(),
                        n * Math.pow(2, 32) + t),
                        e = new Date(new Date(Date.UTC(1900, 0, 1, 0, 0, 0)).getTime() + e).getTime(),
                        t = new ce("prft",t = (new Map).set("detail", {
                            wallClockTime: e,
                            programStartDate: new Date(e - t / h.ka.timescale * 1e3)
                        })),
                        l.g.onEvent(t),
                        l.G = !0)
                    }),
                    (g || m) && p.parse(u),
                    Te(e, (t = l,
                    n = o,
                    i = s,
                    Ie(function(e) {
                        if (1 == e.g)
                            return a = Math.max(t.h.bufferBehind, t.m.presentationTimeline.g),
                            null == (r = Io(t.g.Y, n.type)) || (a = i - r - a) <= 1 ? e.return() : Te(e, t.g.Y.remove(n.type, r, r + a), 2);
                        j(t.l),
                        Ae(e)
                    })), 2);
                case 2:
                    return j(l.l),
                    v = o.Kd,
                    o.Kd = !1,
                    y = o.Dg,
                    o.Dg = !1,
                    Te(e, l.g.Gg(o.type, u), 3);
                case 3:
                    return Te(e, Mo(l.g.Y, o.type, u, h, c, f, v, y, d), 4);
                case 4:
                    j(l.l),
                    Ae(e)
                }
                var t, n, i, r, a
            })
        }
        function Fs(e) {
            return e && e.type == he && ("application/cea-608" == e.stream.mimeType || "application/cea-708" == e.stream.mimeType)
        }
        function Gs(c, h, d, f) {
            var p, g, m;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return d instanceof Na && (p = d.g) ? e.return(p) : (p = null,
                    h.Ia && (t = h.Ia,
                    p = t.g.has(d) ? (n = t.g.get(d),
                    f && (n.h = f),
                    t.g.delete(d),
                    n.g) : null),
                    p = p || Vs(c, d, h.stream, f),
                    g = 0,
                    h.ea && (g = h.ea.g),
                    Te(e, (h.eb = p).promise, 2));
                    var t, n;
                case 2:
                    if (m = e.h,
                    h.eb = null,
                    m = m.data,
                    d.aes128Key)
                        return Te(e, (i = m,
                        r = d.aes128Key,
                        a = g,
                        Ie(function(e) {
                            if (1 == e.g)
                                return (o = r).cryptoKey ? e.F(2) : Te(e, o.fetchKey(), 3);
                            if (!(s = o.iv))
                                for (s = ne(new ArrayBuffer(16)),
                                u = o.firstMediaSequenceNumber + a,
                                l = s.byteLength - 1; 0 <= l; l--)
                                    s[l] = 255 & u,
                                    u >>= 8;
                            return e.return(z.crypto.subtle.decrypt({
                                name: "AES-CBC",
                                iv: s
                            }, o.cryptoKey, i))
                        })), 4);
                    e.F(3);
                    break;
                case 4:
                    m = e.h;
                case 3:
                    return e.return(m)
                }
                var i, r, a, o, s, u, l
            })
        }
        function Vs(e, t, n, i) {
            var r = t instanceof P ? t : void 0
              , a = r ? 1 : 0;
            return t = Ms(t.ba(), t.hb, t.Na, e.h.retryParameters, i),
            e.g.zc.request($i, t, {
                type: a,
                stream: n,
                segment: r
            })
        }
        function Ks(t, n, i, r) {
            var a, o;
            return Ie(function(e) {
                return 1 == e.g ? (n.Ub = !1,
                n.Re = !1,
                n.be = 0,
                n.pd = !0,
                n.Sa = null,
                n.ec = null,
                n.ea = null,
                n.Ia && xs(n.Ia),
                r ? (a = t.g.je(),
                o = t.g.Y.getDuration(),
                Te(e, t.g.Y.remove(n.type, a + r, o), 3)) : Te(e, Lo(t.g.Y, n.type), 4)) : 3 != e.g ? (j(t.l),
                i ? Te(e, t.g.Y.flush(n.type), 3) : e.F(3)) : (j(t.l),
                n.pd = !1,
                n.endOfStream = !1,
                n.Ta || n.Eb || Hs(t, n, 0),
                void Ae(e))
            })
        }
        function Hs(n, i, e) {
            var t = i.type;
            t == he && !n.i.has(t) || (i.Eb = new Sn(function() {
                var t;
                return Ie(function(e) {
                    return 1 == e.g ? (Ee(e, 2),
                    Te(e, js(n, i), 4)) : 2 != e.g ? Se(e, 0) : (t = xe(e),
                    n.g && n.g.onError(t),
                    void Ae(e))
                })
            }
            ).S(e))
        }
        function zs(e) {
            null != e.Eb && (e.Eb.stop(),
            e.Eb = null)
        }
        function Xs(t) {
            return Ie(function(e) {
                return t.eb ? Te(e, t.eb.abort(), 0) : e.F(0)
            })
        }
        function Ws(t, n, i) {
            var r;
            return Ie(function(e) {
                if (1 == e.g)
                    return Te(e, _i(t.I), 2);
                j(t.l),
                r = 0 === t.h.maxDisabledTime && 1011 == i.code ? 1 : t.h.maxDisabledTime,
                1 === i.category && 0 < r && (i.handled = t.g.ce(n.stream, r),
                i.handled && (i.severity = 1)),
                t.g.onError(i),
                i.handled || t.h.failureCallback(i),
                Ae(e)
            })
        }
        function qs(n, i, r) {
            var a, o, s, u, l;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    var t = new ge(n).Ya.split("/").pop().split(".");
                    return (a = 1 == t.length ? "" : t.pop().toLowerCase(),
                    a = Ys[a]) ? e.return(a) : (o = 0,
                    s = qi([n], r),
                    Ee(e, 2),
                    s.method = "HEAD",
                    Te(e, i.request(o, s).promise, 4));
                case 4:
                    u = e.h,
                    a = u.headers["content-type"],
                    Se(e, 3);
                    break;
                case 2:
                    if (!(u = xe(e)) || 1002 != u.code && 1001 != u.code) {
                        e.F(3);
                        break
                    }
                    return s.method = "GET",
                    Te(e, i.request(o, s).promise, 6);
                case 6:
                    l = e.h,
                    a = l.headers["content-type"];
                case 3:
                    return e.return(a ? a.toLowerCase().split(";").shift() : "")
                }
            })
        }
        ks.prototype.abort = function() {
            this.g && this.g.abort()
        }
        ,
        (e = Ls.prototype).destroy = function() {
            return this.l.destroy()
        }
        ,
        e.configure = function(e) {
            this.h = e,
            this.I = new Di({
                maxAttempts: Math.max(e.retryParameters.maxAttempts, 2),
                baseDelay: e.retryParameters.baseDelay,
                backoffFactor: e.retryParameters.backoffFactor,
                fuzzFactor: e.retryParameters.fuzzFactor,
                timeout: 0,
                stallTimeout: 0,
                connectionTimeout: 0
            },!0);
            for (var t = we(this.i.keys()), n = t.next(); !n.done; n = t.next())
                if ((n = this.i.get(n.value)).Ia) {
                    var i = n.Ia
                      , r = e.segmentPrefetchLimit;
                    i.i = r;
                    for (var a = Array.from(i.g.keys()); a.length > r; ) {
                        var o = a.pop();
                        o && Is(i, o)
                    }
                    0 < e.segmentPrefetchLimit || (n.Ia = null)
                } else
                    0 < e.segmentPrefetchLimit && (n.Ia = Os(this, n.stream))
        }
        ,
        e.start = function() {
            var l = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return Te(e, (t = l,
                    Ie(function(e) {
                        if (1 == e.g) {
                            if (n = He,
                            t.j)
                                return i = new Map,
                                r = new Set,
                                t.j.audio && (i.set(n.U, t.j.audio),
                                r.add(t.j.audio)),
                                t.j.video && (i.set(n.ia, t.j.video),
                                r.add(t.j.video)),
                                t.s && (i.set(n.Da, t.s),
                                r.add(t.s)),
                                Te(e, t.g.Y.init(i, t.m.sequenceMode, t.m.type, t.m.ignoreManifestTimestampsInSegmentsMode), 2);
                            throw new ke(2,5,5006)
                        }
                        for (j(t.l),
                        t.updateDuration(),
                        a = we(i.keys()),
                        o = a.next(); !o.done; o = a.next())
                            s = o.value,
                            u = i.get(s),
                            t.i.has(s) || (u = Us(t, u),
                            t.i.set(s, u),
                            Hs(t, u, 0));
                        Ae(e)
                    })), 2);
                var t, n, i, r, a, o, s, u;
                j(l.l),
                l.D = !0,
                Ae(e)
            })
        }
        ,
        e.Kd = function() {
            if (this.g)
                for (var e = this.g.je(), t = we(this.i.keys()), n = t.next(); !n.done; n = t.next()) {
                    var i = n.value
                      , r = null;
                    (!(r = (n = this.i.get(i)).ea ? n.ea.current() : r) || r.startTime > e || r.endTime < e) && (n.ea = null),
                    (r = !(r = this.g.Y).D && (i == he ? null != (r = r.h).g && null != r.h && (e >= r.g && e < r.h) : Oa(r = Co(r, i), e))) || (null == ko(this.g.Y, i) && !n.Ta || _s(this, n),
                    n.eb && (n.eb.abort(),
                    n.eb = null),
                    i === he && ((i = this.g.Y).J && i.J.h()),
                    n.Kd = !0)
                }
        }
        ,
        e.updateDuration = function() {
            var e = this.m.presentationTimeline.getDuration();
            e < 1 / 0 ? this.g.Y.gb(e) : this.g.Y.gb(Math.pow(2, 32))
        }
        ;
        var Ys = {
            mp4: "video/mp4",
            m4v: "video/mp4",
            m4a: "audio/mp4",
            webm: "video/webm",
            weba: "audio/webm",
            mkv: "video/webm",
            ts: "video/mp2t",
            ogv: "video/ogg",
            ogg: "audio/ogg",
            mpg: "video/mpeg",
            mpeg: "video/mpeg",
            m3u8: "application/x-mpegurl",
            mpd: "application/dash+xml",
            ism: "application/vnd.ms-sstr+xml",
            mp3: "audio/mpeg",
            aac: "audio/aac",
            flac: "audio/flac",
            wav: "audio/wav",
            sbv: "text/x-subviewer",
            srt: "text/srt",
            vtt: "text/vtt",
            webvtt: "text/vtt",
            ttml: "application/ttml+xml",
            lrc: "application/x-subtitle-lrc",
            ssa: "text/x-ssa",
            ass: "text/x-ssa"
        };
        function Js(e) {
            var t = (e = e.toLowerCase()).replace(/\s/g, "").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);
            switch (t ? e = "#" + (256 | parseInt(t[1], 10)).toString(16).slice(1) + (256 | parseInt(t[2], 10)).toString(16).slice(1) + (256 | parseInt(t[3], 10)).toString(16).slice(1) : e.startsWith("#") && 7 < e.length && (e = e.slice(0, 7)),
            e) {
            case "white":
            case "#fff":
            case "#ffffff":
                return "white";
            case "lime":
            case "#0f0":
            case "#00ff00":
                return "lime";
            case "cyan":
            case "#0ff":
            case "#00ffff":
                return "cyan";
            case "red":
            case "#f00":
            case "#ff0000":
                return "red";
            case "yellow":
            case "#ff0":
            case "#ffff00":
                return "yellow";
            case "magenta":
            case "#f0f":
            case "#ff00ff":
                return "magenta";
            case "blue":
            case "#00f":
            case "#0000ff":
                return "blue";
            case "black":
            case "#000":
            case "#000000":
                return "black"
            }
            return null
        }
        function Qs(e, t) {
            for (var n, i = [], r = (e = we(e)).next(); !r.done; r = e.next())
                (r = r.value).isContainer ? i.push.apply(i, le(Qs(r.nestedCues, r))) : ((n = r.clone()).nestedCues = [],
                n.payload = function t(n, e) {
                    if (n.lineBreak)
                        return "\n";
                    if (n.nestedCues.length)
                        return n.nestedCues.map(function(e) {
                            return t(e, n)
                        }).join("");
                    var i = []
                      , r = 700 <= n.fontWeight
                      , a = "italic" == n.fontStyle
                      , o = n.textDecoration.includes("underline");
                    return r && i.push(["b"]),
                    a && i.push(["i"]),
                    o && i.push(["u"]),
                    (a = Js(a = (r = "") == (a = n.color) && e ? e.color : a)) && (r += "." + a),
                    (e = Js(a = "" == (a = n.backgroundColor) && e ? e.backgroundColor : a)) && (r += ".bg_" + e),
                    r && i.push(["c", r]),
                    i.reduceRight(function(e, t) {
                        var n = we(t);
                        return "<" + (t = n.next().value) + (void 0 === (n = n.next().value) ? "" : n) + ">" + e + "</" + t + ">"
                    }, n.payload)
                }(r, t),
                i.push(n));
            return i
        }
        function $s(e, t) {
            this.g = null;
            for (var n = we(Array.from(e.textTracks)), i = n.next(); !i.done; i = n.next())
                (i = i.value).mode = "disabled",
                i.label == t && (this.g = i);
            this.g || (this.g = e.addTextTrack("subtitles", t)),
            this.g.mode = "hidden"
        }
        function Zs(e, t) {
            var n = e.mode;
            e.mode = "showing" == n ? "showing" : "hidden";
            for (var i = we(Array.from(e.cues)), r = i.next(); !r.done; r = i.next())
                (r = r.value) && t(r) && e.removeCue(r);
            e.mode = n
        }
        function eu() {}
        function tu() {}
        function E(e) {
            return document.createElement(e)
        }
        function nu() {
            var e = document.createElement("button");
            return e.setAttribute("type", "button"),
            e
        }
        function iu(e) {
            for (; e.firstChild; )
                e.removeChild(e.firstChild)
        }
        function ru(e, t) {
            var n = this;
            this.m = !1,
            this.i = [],
            this.D = e,
            this.u = t,
            this.j = null,
            this.g = E("div"),
            this.g.classList.add("shaka-text-container"),
            this.g.style.textAlign = "center",
            this.g.style.display = "flex",
            this.g.style.flexDirection = "column",
            this.g.style.alignItems = "center",
            this.g.style.justifyContent = "flex-end",
            this.u.appendChild(this.g),
            this.G = new I(function() {
                ou(n)
            }
            ).za(.25),
            this.h = new Map,
            this.l = new nr,
            this.l.o(document, "fullscreenchange", function() {
                ou(n, !0)
            }),
            this.l.o(this.D, "resize", function() {
                var e = (t = n.D).videoWidth
                  , t = t.videoHeight;
                n.j = e && t ? e / t : null
            }),
            this.s = null,
            "ResizeObserver"in z && (this.s = new ResizeObserver(function() {
                ou(n, !0)
            }
            ),
            this.s.observe(this.g)),
            this.C = new Map
        }
        function au(e, t, n, i, r) {
            for (var a = !1, o = [], s = [], u = (t = we(t)).next(); !u.done; u = t.next()) {
                u = u.value,
                r.push(u);
                var l, c, h, d, f, p = e.h.get(u), g = u.startTime <= i && u.endTime > i, m = p ? p.Ch : null;
                if (p && (o.push(p.nf),
                p.Id && o.push(p.Id),
                g || (a = !0,
                e.h.delete(u),
                p = null)),
                g) {
                    s.push(u);
                    if (p)
                        (function(e, t) {
                            for (; null != t; ) {
                                if (t == e.g)
                                    return 1;
                                t = t.parentElement
                            }
                        }
                        )(e, m) || (a = !0);
                    else {
                        {
                            g = void 0;
                            v = void 0;
                            y = void 0;
                            b = void 0;
                            w = void 0;
                            T = void 0;
                            l = void 0;
                            c = void 0;
                            h = void 0;
                            d = void 0;
                            f = void 0;
                            g = e;
                            var v = u;
                            var y = r;
                            var b = 1 < y.length
                              , w = b ? "span" : "div"
                              , T = (v.lineBreak && (w = "br"),
                            v.rubyTag && (w = v.rubyTag),
                            b = !b && 0 < v.nestedCues.length,
                            E(w));
                            "br" != w && function(e, t, n, i, r) {
                                var a = t.style
                                  , o = 0 == n.nestedCues.length
                                  , s = 1 < i.length
                                  , u = (a.whiteSpace = "pre-wrap",
                                n.payload.replace(/\s+$/g, function(e) {
                                    return " ".repeat(e.length)
                                }));
                                {
                                    var l;
                                    a.webkitTextStrokeColor = n.textStrokeColor,
                                    a.webkitTextStrokeWidth = n.textStrokeWidth,
                                    a.color = n.color,
                                    a.direction = n.direction,
                                    a.opacity = n.opacity,
                                    a.paddingLeft = su(n.linePadding, n, e.u),
                                    a.paddingRight = su(n.linePadding, n, e.u),
                                    a.textCombineUpright = n.textCombineUpright,
                                    a.textShadow = n.textShadow,
                                    n.backgroundImage ? (a.backgroundImage = "url('" + n.backgroundImage + "')",
                                    a.backgroundRepeat = "no-repeat",
                                    a.backgroundSize = "contain",
                                    a.backgroundPosition = "center",
                                    a.width = "100%",
                                    a.height = "100%") : (n.nestedCues.length ? l = t : (l = E("span"),
                                    t.appendChild(l)),
                                    n.border && (l.style.border = n.border),
                                    !r && ((t = uu(i, function(e) {
                                        return e.backgroundColor
                                    })) ? l.style.backgroundColor = t : u && (l.style.backgroundColor = "rgba(0, 0, 0, 0.8)"),
                                    t = uu(i, function(e) {
                                        return e.fontFamily
                                    })) && (l.style.fontFamily = t),
                                    u && (l.textContent = u))
                                }
                                s && !i[i.length - 1].isContainer ? a.display = "inline" : (a.display = "flex",
                                a.flexDirection = "column",
                                a.alignItems = "center",
                                a.justifyContent = "before" == n.displayAlign ? "flex-start" : "center" == n.displayAlign ? "center" : "flex-end"),
                                o || (a.margin = "0"),
                                a.fontFamily = n.fontFamily,
                                a.fontWeight = n.fontWeight.toString(),
                                a.fontStyle = n.fontStyle,
                                a.letterSpacing = n.letterSpacing,
                                a.fontSize = su(n.fontSize, n, e.u),
                                null != (i = n.line) && ((o = n.lineInterpretation) == jt && (o = 1,
                                s = 16,
                                e.j && e.j < 1 && (s = 32),
                                i = i < 0 ? 100 + i / s * 100 : i / s * 100),
                                1 == o && (a.position = "absolute",
                                n.writingMode == Ot ? (a.width = "100%",
                                n.lineAlign == Bt ? a.top = i + "%" : "end" == n.lineAlign && (a.bottom = 100 - i + "%")) : "vertical-lr" == n.writingMode ? (a.height = "100%",
                                n.lineAlign == Bt ? a.left = i + "%" : "end" == n.lineAlign && (a.right = 100 - i + "%")) : (a.height = "100%",
                                n.lineAlign == Bt ? a.right = i + "%" : "end" == n.lineAlign && (a.left = 100 - i + "%")))),
                                a.lineHeight = n.lineHeight,
                                null != n.position && (n.writingMode == Ot ? a.paddingLeft = n.position : a.paddingTop = n.position),
                                "line-left" == (e = function(e) {
                                    var t = e.direction
                                      , n = e.positionAlign;
                                    return e = e.textAlign,
                                    n !== Rt ? n : "left" === e || "start" === e && t === Ut || "end" === e && "rtl" === t ? "line-left" : "right" === e || "start" === e && "rtl" === t || "end" === e && t === Ut ? "line-right" : "center"
                                }(n)) ? a.cssFloat = "left" : "line-right" == e && (a.cssFloat = "right"),
                                a.textAlign = n.textAlign,
                                a.textDecoration = n.textDecoration.join(" "),
                                a.writingMode = n.writingMode,
                                "writingMode"in document.documentElement.style && a.writingMode == n.writingMode || (a.webkitWritingMode = n.writingMode),
                                n.size && (n.writingMode == Ot ? a.width = n.size + "%" : a.height = n.size + "%")
                            }(g, T, v, y, b),
                            y = null,
                            v.region && v.region.id && (y = v.region,
                            w = g.j === 4 / 3 ? 2.5 : 1.9,
                            l = y.id + "_" + y.width + "x" + y.height + (y.heightUnits == Wt ? "%" : "px") + "-" + y.viewportAnchorX + "x" + y.viewportAnchorY + (y.viewportAnchorUnits == Wt ? "%" : "px"),
                            y = g.C.has(l) ? g.C.get(l) : (c = E("span"),
                            h = y.heightUnits == Wt ? "%" : "px",
                            d = y.widthUnits == Wt ? "%" : "px",
                            f = y.viewportAnchorUnits == Wt ? "%" : "px",
                            c.id = "shaka-text-region---" + l,
                            c.classList.add("shaka-text-region"),
                            c.style.position = "absolute",
                            2 === y.heightUnits && 2 === y.widthUnits ? (c.style.height = 5.33 * y.height + "%",
                            c.style.width = y.width * w + "%") : (c.style.height = y.height + h,
                            c.style.width = y.width + d),
                            2 === y.viewportAnchorUnits ? (h = y.viewportAnchorY / 75 * 100,
                            d = y.viewportAnchorX / (g.j === 4 / 3 ? 160 : 210) * 100,
                            h -= y.regionAnchorY * y.height * 5.33 / 100,
                            d -= y.regionAnchorX * y.width * w / 100,
                            c.style.top = h + "%",
                            c.style.left = d + "%") : (c.style.top = y.viewportAnchorY - y.regionAnchorY * y.height / 100 + f,
                            c.style.left = y.viewportAnchorX - y.regionAnchorX * y.width / 100 + f),
                            c.style.display = "flex",
                            c.style.flexDirection = "column",
                            c.style.alignItems = "center",
                            c.style.justifyContent = "before" == v.displayAlign ? "flex-start" : "center" == v.displayAlign ? "center" : "flex-end",
                            g.C.set(l, c),
                            c));
                            w = T,
                            b && ((w = E("span")).classList.add("shaka-text-wrapper"),
                            w.style.backgroundColor = v.backgroundColor,
                            w.style.lineHeight = "normal",
                            T.appendChild(w)),
                            g.h.set(v, {
                                nf: T,
                                Ch: w,
                                Id: y
                            })
                        }
                        p = e.h.get(u),
                        m = p.Ch,
                        a = !0
                    }
                }
                0 < u.nestedCues.length && m && au(e, u.nestedCues, m, i, r),
                r.pop()
            }
            if (a) {
                for (r = (i = we(o)).next(); !r.done; r = i.next())
                    (r = r.value).parentElement && r.parentElement.removeChild(r);
                for (s.sort(function(e, t) {
                    return e.startTime != t.startTime ? e.startTime - t.startTime : e.endTime - t.endTime
                }),
                u = (s = we(s)).next(); !u.done; u = s.next())
                    (i = e.h.get(u.value)).Id ? (n.appendChild(i.Id),
                    i.Id.appendChild(i.nf)) : n.appendChild(i.nf)
            }
        }
        function ou(e, t) {
            if (e.g) {
                var n = e.D.currentTime;
                if (!e.m || void 0 !== t && t) {
                    for (var i = (t = we(e.C.values())).next(); !i.done; i = t.next())
                        iu(i.value);
                    iu(e.g),
                    e.h.clear(),
                    e.C.clear()
                }
                if (e.m) {
                    t = new Map;
                    for (var r = (i = we(e.h.keys())).next(); !r.done; r = i.next())
                        r = r.value,
                        t.set(r, e.h.get(r));
                    au(e, e.i, e.g, n, [])
                }
            }
        }
        function su(e, t, n) {
            var i = (i = new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e)) ? {
                value: Number(i[1]),
                unit: i[2]
            } : null;
            if (!i)
                return e;
            var r = i.value;
            switch (i.unit) {
            case "%":
                return r / 100 * n.clientHeight / t.cellResolution.rows + "px";
            case "c":
                return n.clientHeight * r / t.cellResolution.rows + "px";
            default:
                return e
            }
        }
        function uu(e, t) {
            for (var n = e.length - 1; 0 <= n; n--) {
                var i = t(e[n]);
                if (i || 0 === i)
                    return i
            }
            return null
        }
        function lu(e, t) {
            this.h = e,
            this.g = t,
            this.m = void 0,
            this.i = !1,
            this.l = !0,
            this.j = !1
        }
        function cu(e) {
            return e.g.sessionId || (e.g.sessionId = z.crypto.randomUUID()),
            {
                v: 1,
                sf: e.m,
                sid: e.g.sessionId,
                cid: e.g.contentId,
                mtp: e.h.getBandwidthEstimate() / 1e3
            }
        }
        function hu(e, t, n) {
            n = void 0 === n ? {} : n;
            var i, r, a = void 0 === a ? e.g.useHeaders : a;
            e.g.enabled && (Object.assign(n, cu(e)),
            n.pr = e.h.Nb(),
            i = n.ot === mu || n.ot === vu,
            e.j && i && (n.bs = !0,
            n.su = !0,
            e.j = !1),
            null == n.su && (n.su = e.l),
            a ? (e = function(e) {
                for (var t = Object.keys(e), n = {}, i = ["Object", "Request", "Session", "Status"], r = [{}, {}, {}, {}], a = {
                    br: 0,
                    d: 0,
                    ot: 0,
                    tb: 0,
                    bl: 1,
                    dl: 1,
                    mtp: 1,
                    nor: 1,
                    nrr: 1,
                    su: 1,
                    cid: 2,
                    pr: 2,
                    sf: 2,
                    sid: 2,
                    st: 2,
                    v: 2,
                    bs: 3,
                    rtp: 3
                }, o = (t = we(t)).next(); !o.done; o = t.next())
                    o = o.value,
                    r[null != a[o] ? a[o] : 1][o] = e[o];
                for (e = 0; e < r.length; e++)
                    (a = du(r[e])) && (n["CMCD-" + i[e]] = a);
                return n
            }(n),
            Object.keys(e).length && Object.assign(t.headers, e)) : (r = du(n)) && (t.uris = t.uris.map(function(e) {
                return fu(e, r)
            })))
        }
        function du(e) {
            function t(e) {
                return 100 * n(e / 100)
            }
            function n(e) {
                return Math.round(e)
            }
            for (var i = [], r = {
                br: n,
                d: n,
                bl: t,
                dl: t,
                mtp: t,
                nor: function(e) {
                    return encodeURIComponent(e)
                },
                rtp: t,
                tb: n
            }, a = Object.keys(e || {}).sort(), o = (a = we(a)).next(); !o.done; o = a.next()) {
                var s, u, l = e[o = o.value];
                u = l,
                Number.isNaN(u) || null == u || "" === u || !1 === u || "v" === o && 1 === l || "pr" == o && 1 === l || (u = void 0,
                u = "string" === (s = typeof (l = (s = r[o]) ? s(l) : l)) && "ot" !== o && "sf" !== o && "st" !== o ? o + "=" + JSON.stringify(l) : "boolean" === s ? o : "symbol" === s ? o + "=" + l.description : o + "=" + l,
                i.push(u))
            }
            return i.join(",")
        }
        function fu(e, t) {
            return !t || e.includes("offline:") ? e : ((e = new ge(e)).g.set("CMCD", t),
            e.toString())
        }
        (e = $s.prototype).remove = function(t, n) {
            return !!this.g && (Zs(this.g, function(e) {
                return e.startTime < n && e.endTime > t
            }),
            !0)
        }
        ,
        e.append = function(e) {
            for (var t = Qs(e), n = [], i = (e = this.g.cues ? Array.from(this.g.cues) : [],
            {}), r = (t = we(t)).next(); !r.done; i = {
                Ec: i.Ec
            },
            r = t.next())
                i.Ec = r.value,
                e.some(function(t) {
                    return function(e) {
                        return e.startTime == t.Ec.startTime && e.endTime == t.Ec.endTime && e.text == t.Ec.payload
                    }
                }(i)) || (r = function(e) {
                    if (e.startTime >= e.endTime)
                        return null;
                    var t = new VTTCue(e.startTime,e.endTime,e.payload);
                    t.lineAlign = e.lineAlign,
                    t.positionAlign = e.positionAlign,
                    e.size && (t.size = e.size);
                    try {
                        t.align = e.textAlign
                    } catch (e) {}
                    return "center" == e.textAlign && "center" != t.align && (t.align = "middle"),
                    "vertical-lr" == e.writingMode ? t.vertical = "lr" : "vertical-rl" == e.writingMode && (t.vertical = "rl"),
                    1 == e.lineInterpretation && (t.snapToLines = !1),
                    null != e.line && (t.line = e.line),
                    null != e.position && (t.position = e.position),
                    t
                }(i.Ec)) && n.push(r);
            for (i = (e = we(e = n.slice().sort(function(e, t) {
                return e.startTime != t.startTime ? e.startTime - t.startTime : e.endTime != t.endTime ? e.endTime - t.startTime : "line"in VTTCue.prototype ? n.indexOf(t) - n.indexOf(e) : n.indexOf(e) - n.indexOf(t)
            }))).next(); !i.done; i = e.next())
                this.g.addCue(i.value)
        }
        ,
        e.destroy = function() {
            return this.g && (Zs(this.g, function() {
                return 1
            }),
            this.g.mode = "disabled"),
            this.g = null,
            Promise.resolve()
        }
        ,
        e.isTextVisible = function() {
            return "showing" == this.g.mode
        }
        ,
        e.setTextVisibility = function(e) {
            this.g.mode = e ? "showing" : "hidden"
        }
        ,
        n("shaka.text.SimpleTextDisplayer", $s),
        (e = eu.prototype).remove = function() {}
        ,
        e.append = function() {}
        ,
        e.destroy = function() {}
        ,
        e.isTextVisible = function() {
            return !1
        }
        ,
        e.setTextVisibility = function() {}
        ,
        n("shaka.text.StubTextDisplayer", eu),
        n("shaka.util.Dom", tu),
        tu.removeAllChildren = iu,
        (e = ru.prototype).append = function(e) {
            for (var t = [].concat(le(this.i)), n = {}, i = (e = we(e)).next(); !i.done; n = {
                Rd: n.Rd
            },
            i = e.next())
                n.Rd = i.value,
                t.some(function(t) {
                    return function(e) {
                        return Lt(e, t.Rd)
                    }
                }(n)) || this.i.push(n.Rd);
            ou(this)
        }
        ,
        e.destroy = function() {
            return this.g && (this.u.removeChild(this.g),
            this.g = null,
            this.m = !1,
            this.i = [],
            this.G && this.G.stop(),
            this.h.clear(),
            this.l && (this.l.release(),
            this.l = null),
            this.s && (this.s.disconnect(),
            this.s = null)),
            Promise.resolve()
        }
        ,
        e.remove = function(t, n) {
            if (!this.g)
                return !1;
            var e = this.i.length;
            return this.i = this.i.filter(function(e) {
                return e.startTime < t || e.endTime >= n
            }),
            ou(this, e > this.i.length),
            !0
        }
        ,
        e.isTextVisible = function() {
            return this.m
        }
        ,
        e.setTextVisibility = function(e) {
            this.m = e
        }
        ,
        n("shaka.text.UITextDisplayer", ru),
        n("shaka.text.WebVttGenerator", function() {}),
        lu.prototype.configure = function(e) {
            this.g = e
        }
        ;
        var pu = "m"
          , gu = "a"
          , mu = "v"
          , vu = "av"
          , yu = "i"
          , bu = "c"
          , wu = "tt";
        function Tu(e) {
            this.h = e,
            this.g = null
        }
        function Au(e) {
            return !e || "false" !== e.toLowerCase() && (/^[-0-9]/.test(e) ? parseInt(e, 10) : e.replace(/["]+/g, ""))
        }
        n("shaka.util.CmcdManager.StreamingFormat", {
            DASH: "d",
            HLS: "h",
            Eh: "s",
            OTHER: "o"
        }),
        (e = Tu.prototype).configure = function(e) {
            this.h = e
        }
        ,
        e.Ug = function() {
            return this.h.enabled && this.h.applyMaximumSuggestedBitrate && this.g && this.g.has(Su) ? 1e3 * this.g.get(Su) : null
        }
        ,
        e.Tg = function() {
            return this.h.enabled && this.g && this.g.has(Eu) ? 1e3 * this.g.get(Eu) : null
        }
        ,
        e.ri = function() {
            return this.h.enabled && this.g && this.g.has(xu) ? this.g.get(xu) : null
        }
        ,
        e.si = function() {
            return this.h.enabled && this.g && this.g.has(Iu) ? this.g.get(Iu) : null
        }
        ,
        e.getBandwidthEstimate = function(e) {
            var t = this.Tg();
            if (!t)
                return e;
            var n = this.h.estimatedThroughputWeightRatio;
            return 0 < n && n <= 1 ? e * (1 - n) + t * n : e
        }
        ,
        n("shaka.util.CmsdManager", Tu),
        Tu.prototype.getRoundTripTime = Tu.prototype.si,
        Tu.prototype.getResponseDelay = Tu.prototype.ri,
        Tu.prototype.getEstimatedThroughput = Tu.prototype.Tg,
        Tu.prototype.getMaxBitrate = Tu.prototype.Ug;
        var Eu = "etp"
          , Su = "mb"
          , xu = "rd"
          , Iu = "rtt";
        function ku() {}
        function Cu(e, t, n, i, r) {
            var a, o = r in i, s = !0;
            for (a in t) {
                var u = r + "." + a
                  , l = o ? i[r] : n[a];
                o || a in n ? void 0 === t[a] ? void 0 === l || o ? delete e[a] : e[a] = An(l) : l.constructor == Object && t[a] && t[a].constructor == Object ? (e[a] || (e[a] = An(l)),
                u = Cu(e[a], t[a], l, i, u),
                s = s && u) : typeof t[a] != typeof l || null == t[a] || "function" != typeof t[a] && t[a].constructor != l.constructor ? (H("Invalid config, wrong type for " + u),
                s = !1) : ("function" == typeof n[a] && n[a].length != t[a].length && X("Unexpected number of arguments for " + u),
                e[a] = t[a]) : (H("Invalid config, unrecognized key " + u),
                s = !1)
            }
            return s
        }
        function Mu(e, t) {
            for (var n = {}, i = n, r = 0, a = 0; !((r = e.indexOf(".", r)) < 0); )
                0 != r && "\\" == e[r - 1] || (i[a = e.substring(a, r).replace(/\\\./g, ".")] = {},
                i = i[a],
                a = r + 1),
                r += 1;
            return i[e.substring(a).replace(/\\\./g, ".")] = t,
            n
        }
        function Lu() {
            this.g = null,
            this.h = []
        }
        function Ru(t, n) {
            return Ie(function(e) {
                if (1 == e.g)
                    return t.g ? Te(e, new Promise(function(e) {
                        return t.h.push(e)
                    }
                    ), 2) : e.F(2);
                t.g = n,
                Ae(e)
            })
        }
        function Nu() {}
        function Pu(e) {
            return new ge(e = hr(e)).Kb
        }
        function Du(e, t, n) {
            function i(e) {
                yt(r).setUint32(a, e.byteLength, !0),
                a += 4,
                r.set(ne(e), a),
                a += e.byteLength
            }
            if (!n || !n.byteLength)
                throw new ke(2,6,6015);
            var t = "string" == typeof t ? fr(t, !0) : t
              , r = (e = fr(e = hr(e), !0),
            new Uint8Array(12 + e.byteLength + t.byteLength + n.byteLength))
              , a = 0;
            return i(e),
            i(t),
            i(n),
            r
        }
        function _u(e, t, n) {
            return "skd" !== t ? e : (t = n.serverCertificate,
            Du(e, n = hr(e).split("skd://").pop(), t))
        }
        function Uu(e, t) {
            2 === e && (t.headers["Content-Type"] = "application/octet-stream")
        }
        function Ou() {}
        function ju() {
            var e = 1 / 0
              , t = (navigator.connection && navigator.connection.saveData && (e = 360),
            {
                retryParameters: Ui(),
                servers: {},
                clearKeys: {},
                advanced: {},
                delayLicenseRequestUntilPlayed: !1,
                persistentSessionOnlinePlayback: !1,
                persistentSessionsMetadata: [],
                initDataTransform: function(e, t, n) {
                    return z.shakaMediaKeysPolyfill && "skd" == t && (t = n.serverCertificate,
                    e = Du(e, n = Pu(e), t)),
                    e
                },
                logLicenseExchange: !1,
                updateExpirationTime: 1,
                preferredKeySystems: [],
                keySystemsMapping: {},
                parseInbandPsshEnabled: Cn(),
                minHdcpVersion: "",
                ignoreDuplicateInitData: !Rn()
            })
              , n = "reload"
              , i = !1
              , r = (Rn() || Ln() || On("Tizen 4") || Nn() || navigator.userAgent.match(/webOS\/4/i) || navigator.userAgent.match(/webOS\/5/i) || (n = "smooth",
            i = !0),
            i = {
                retryParameters: Ui(),
                availabilityWindowOverride: NaN,
                disableAudio: !1,
                disableVideo: !1,
                disableText: !1,
                disableThumbnails: !1,
                defaultPresentationDelay: 0,
                segmentRelativeVttTiming: !1,
                raiseFatalErrorOnManifestUpdateRequestFailure: !1,
                dash: {
                    clockSyncUri: "",
                    ignoreDrmInfo: !1,
                    disableXlinkProcessing: !1,
                    xlinkFailGracefully: !1,
                    ignoreMinBufferTime: !1,
                    autoCorrectDrift: !0,
                    initialSegmentLimit: 1e3,
                    ignoreSuggestedPresentationDelay: !1,
                    ignoreEmptyAdaptationSet: !1,
                    ignoreMaxSegmentDuration: !1,
                    keySystemsByURI: {
                        "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
                        "urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e": "org.w3.clearkey",
                        "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
                        "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                        "urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95": "com.microsoft.playready",
                        "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
                    },
                    manifestPreprocessor: function(e) {
                        return e
                    },
                    sequenceMode: !1,
                    enableAudioGroups: !1,
                    multiTypeVariantsAllowed: i
                },
                hls: {
                    ignoreTextStreamFailures: !1,
                    ignoreImageStreamFailures: !1,
                    defaultAudioCodec: "mp4a.40.2",
                    defaultVideoCodec: "avc1.42E01E",
                    ignoreManifestProgramDateTime: !1,
                    mediaPlaylistFullMimeType: 'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',
                    useSafariBehaviorForLive: !0,
                    liveSegmentsDelay: 3,
                    sequenceMode: !(Ln() || Rn() || Nn() || _n()),
                    ignoreManifestTimestampsInSegmentsMode: !1,
                    disableCodecGuessing: !1,
                    allowLowLatencyByteRangeOptimization: !0
                },
                mss: {
                    manifestPreprocessor: function(e) {
                        return e
                    },
                    sequenceMode: !1,
                    keySystemsBySystemId: {
                        "9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                        "79f0049a-4098-8642-ab92-e65be0885f95": "com.microsoft.playready"
                    }
                }
            },
            {
                retryParameters: Ui(),
                failureCallback: function(e) {},
                rebufferingGoal: 2,
                bufferingGoal: 10,
                bufferBehind: 30,
                ignoreTextStreamFailures: !1,
                alwaysStreamText: !1,
                startAtSegmentBoundary: !1,
                gapDetectionThreshold: .5,
                gapJumpTimerTime: .25,
                durationBackoff: 1,
                safeSeekOffset: 5,
                stallEnabled: !0,
                stallThreshold: 1,
                stallSkip: .1,
                useNativeHlsOnSafari: !0,
                inaccurateManifestTolerance: 2,
                lowLatencyMode: !1,
                autoLowLatencyMode: !1,
                forceHTTPS: !1,
                preferNativeHls: !1,
                updateIntervalSeconds: 1,
                dispatchAllEmsgBoxes: !1,
                observeQualityChanges: !1,
                maxDisabledTime: 30,
                parsePrftBox: !1,
                segmentPrefetchLimit: 0,
                liveSync: !1,
                liveSyncMaxLatency: 1,
                liveSyncPlaybackRate: 1.1,
                liveSyncMinLatency: 0,
                liveSyncMinPlaybackRate: 1,
                allowMediaSourceRecoveries: !0,
                minTimeBetweenRecoveries: 5
            })
              , a = ((On("Web0S") || Mn() || Pn() || On("Hisense") || On("VIDAA")) && (r.stallSkip = 0),
            {
                trackSelectionCallback: function(t) {
                    return Ie(function(e) {
                        return e.return(t)
                    })
                },
                downloadSizeCallback: function(t) {
                    var n;
                    return Ie(function(e) {
                        return 1 == e.g ? navigator.storage && navigator.storage.estimate ? Te(e, navigator.storage.estimate(), 3) : e.return(!0) : (n = e.h,
                        e.return(n.usage + t < .95 * n.quota))
                    })
                },
                progressCallback: function(e, t) {},
                usePersistentLicense: !0,
                numberOfParallelDownloads: 5
            })
              , o = {
                drm: t,
                manifest: i,
                streaming: r,
                mediaSource: {
                    codecSwitchingStrategy: n,
                    sourceBufferExtraFeatures: "",
                    forceTransmux: !1,
                    insertFakeEncryptionInInit: !0
                },
                offline: a,
                abrFactory: function() {
                    return new gi
                },
                abr: {
                    enabled: !0,
                    useNetworkInformation: !0,
                    defaultBandwidthEstimate: 1e6,
                    switchInterval: 8,
                    bandwidthUpgradeTarget: .85,
                    bandwidthDowngradeTarget: .95,
                    restrictions: {
                        minWidth: 0,
                        maxWidth: 1 / 0,
                        minHeight: 0,
                        maxHeight: e,
                        minPixels: 0,
                        maxPixels: 1 / 0,
                        minFrameRate: 0,
                        maxFrameRate: 1 / 0,
                        minBandwidth: 0,
                        maxBandwidth: 1 / 0
                    },
                    advanced: {
                        minTotalBytes: 128e3,
                        minBytes: 16e3,
                        fastHalfLife: 2,
                        slowHalfLife: 5
                    },
                    restrictToElementSize: !1,
                    restrictToScreenSize: !1,
                    ignoreDevicePixelRatio: !1,
                    clearBufferSwitch: !1,
                    safeMarginSwitch: 0
                },
                autoShowText: 3,
                preferredAudioLanguage: "",
                preferredAudioLabel: "",
                preferredTextLanguage: "",
                preferredVariantRole: "",
                preferredTextRole: "",
                preferredAudioChannelCount: 2,
                preferredVideoHdrLevel: "AUTO",
                preferredVideoLayout: "",
                preferredVideoLabel: "",
                preferredVideoCodecs: [],
                preferredAudioCodecs: [],
                preferForcedSubs: !1,
                preferSpatialAudio: !1,
                preferredDecodingAttributes: [],
                restrictions: {
                    minWidth: 0,
                    maxWidth: 1 / 0,
                    minHeight: 0,
                    maxHeight: 1 / 0,
                    minPixels: 0,
                    maxPixels: 1 / 0,
                    minFrameRate: 0,
                    maxFrameRate: 1 / 0,
                    minBandwidth: 0,
                    maxBandwidth: 1 / 0
                },
                playRangeStart: 0,
                playRangeEnd: 1 / 0,
                textDisplayFactory: function() {
                    return null
                },
                cmcd: {
                    enabled: !1,
                    sessionId: "",
                    contentId: "",
                    useHeaders: !1
                },
                cmsd: {
                    enabled: !0,
                    applyMaximumSuggestedBitrate: !0,
                    estimatedThroughputWeightRatio: .5
                },
                lcevc: {
                    enabled: !1,
                    dynamicPerformanceScaling: !0,
                    logLevel: 0,
                    drawLogo: !1
                },
                ads: {
                    customPlayheadTracker: !1
                }
            };
            return a.trackSelectionCallback = function(t) {
                return Ie(function(e) {
                    return e.return(function(e, t, n) {
                        var i = n
                          , r = ("AUTO" == i && (i = z.matchMedia("(color-gamut: p3)").matches ? "PQ" : "SDR"),
                        e.filter(function(e) {
                            return !("variant" != e.type || e.hdr && e.hdr != i)
                        }))
                          , a = (n = [],
                        et(t, r.map(function(e) {
                            return e.language
                        })))
                          , o = (0 == (n = 0 == (n = a ? r.filter(function(e) {
                            return de(e.language) == a
                        }) : n).length ? r.filter(function(e) {
                            return e.primary
                        }) : n).length && (r.map(function(e) {
                            return e.language
                        }),
                        n = r),
                        n.filter(function(e) {
                            return e.height && e.height <= 480
                        }));
                        for (o.length && (o.sort(function(e, t) {
                            return t.height - e.height
                        }),
                        n = o.filter(function(e) {
                            return e.height == o[0].height
                        })),
                        t = [],
                        n.length && (r = Math.floor(n.length / 2),
                        n.sort(function(e, t) {
                            return e.bandwidth - t.bandwidth
                        }),
                        t.push(n[r])),
                        e = we(e),
                        n = e.next(); !n.done; n = e.next())
                            (n = n.value).type != he && "image" != n.type || t.push(n);
                        return t
                    }(t, o.preferredAudioLanguage, o.preferredVideoHdrLevel))
                })
            }
            ,
            o
        }
        function Bu(e, t, n) {
            var i = {
                ".drm.keySystemsMapping": "",
                ".drm.servers": "",
                ".drm.clearKeys": "",
                ".drm.advanced": {
                    distinctiveIdentifierRequired: !1,
                    persistentStateRequired: !1,
                    videoRobustness: "",
                    audioRobustness: "",
                    sessionType: "",
                    serverCertificate: new Uint8Array(0),
                    serverCertificateUri: "",
                    individualizationServer: ""
                }
            };
            return Cu(e, t, n || ju(), i, "")
        }
        function Fu() {
            this.g = null,
            this.h = []
        }
        function Gu(e, t) {
            var n = 0;
            e.g && e.g.state == t && (n += e.g.duration);
            for (var i = (e = we(e.h)).next(); !i.done; i = e.next())
                n += (i = i.value).state == t ? i.duration : 0;
            return n
        }
        function Vu() {
            this.i = this.h = null,
            this.g = []
        }
        function Ku(e, t, n) {
            e.i != t && (e.i = t,
            e.g.push({
                timestamp: Date.now() / 1e3,
                id: t.id,
                type: "text",
                fromAdaptation: n,
                bandwidth: null
            }))
        }
        function Hu() {
            this.C = this.D = this.I = this.G = this.u = this.j = this.H = this.m = this.i = this.M = this.N = this.J = this.K = this.L = this.l = this.s = NaN,
            this.g = new Fu,
            this.h = new Vu
        }
        function l(e, t) {
            d.call(this);
            var n, h, s = this;
            this.l = Vl,
            this.oe = this.h = null,
            this.$ = !1,
            this.Be = new nr,
            this.Fb = new nr,
            this.s = new nr,
            this.va = new nr,
            this.G = this.I = this.m = this.J = null,
            this.He = 0,
            this.W = new Lu,
            this.ha = this.aa = this.i = this.Ie = this.H = this.j = this.sa = this.L = this.Bh = this.Z = this.V = this.ua = this.M = this.K = this.xb = null,
            this.Xa = !1,
            this.fg = this.u = null,
            this.Ag = 1e9,
            this.tc = [],
            this.N = NaN,
            this.g = hl(this),
            this.Ee = {
                width: 1 / 0,
                height: 1 / 0
            },
            this.C = null,
            this.Ra = new Mi(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel,this.g.preferSpatialAudio,this.g.preferredVideoLayout,this.g.preferredAudioLabel,this.g.preferredVideoLabel,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),
            this.Wa = this.g.preferredTextLanguage,
            this.nc = this.g.preferredTextRole,
            this.Xb = this.g.preferForcedSubs,
            this.Ib = [],
            t && t(this),
            this.V = new lu({
                getBandwidthEstimate: function() {
                    return n.u ? n.u.getBandwidthEstimate() : NaN
                },
                Lb: function() {
                    return n.Lb()
                },
                getCurrentTime: function() {
                    return n.h ? n.h.currentTime : 0
                },
                Nb: function() {
                    return n.Nb()
                },
                Zb: function() {
                    return n.Zb()
                },
                mb: function() {
                    return n.mb()
                },
                R: function() {
                    return n.R()
                }
            },(n = this).g.cmcd),
            this.Z = new Tu(this.g.cmsd),
            this.J = (h = this,
            new Xi(function(e, t, n) {
                h.u && h.u.segmentDownloaded(e, t, n)
            }
            ,function(e, t, n) {
                if (t = (new Map).set("headers", e).set("request", t).set("requestType", n),
                h.dispatchEvent(Xu("downloadheadersreceived", t)),
                h.Z && (t = h.Z).h.enabled) {
                    if (n = e["cmsd-static"])
                        try {
                            var i = new Map
                              , r = n.split(",");
                            for (n = 0; n < r.length; n++) {
                                var a = r[n].split("=");
                                i.set(a[0], Au(a[1]))
                            }
                        } catch (e) {}
                    if (e = e["cmsd-dynamic"]) {
                        try {
                            var o = new Map
                              , s = e.split(";");
                            for (e = 1; e < s.length; e++) {
                                var u = s[e].split("=");
                                o.set(u[0], Au(u[1]))
                            }
                            var l = o
                        } catch (e) {
                            l = null
                        }
                        l && (t.g = l)
                    }
                }
            }
            ,function(e, t, n, i) {
                e = (new Map).set("request", e).set("error", t).set("httpResponseCode", n).set("aborted", i),
                h.dispatchEvent(Xu("downloadfailed", e))
            }
            ,function(e, t, n) {
                var i, r, a, o, s, u, l = h.V;
                if (n = void 0 === n ? {} : n,
                l.g.enabled)
                    if ("HEAD" === t.method)
                        hu(l, t);
                    else
                        switch (e) {
                        case 0:
                            try {
                                if (l.g.enabled) {
                                    if (n.type) {
                                        e: {
                                            switch (n.type) {
                                            case 4:
                                                var c = "d";
                                                break e;
                                            case 3:
                                            case 2:
                                                c = "h";
                                                break e;
                                            case 5:
                                                c = "s";
                                                break e
                                            }
                                            c = void 0
                                        }
                                        l.m = c
                                    }
                                    hu(l, t, {
                                        ot: pu,
                                        su: !l.i
                                    })
                                }
                            } catch (e) {
                                q("CMCD_MANIFEST_ERROR", "Could not generate manifest CMCD data.", e)
                            }
                            break;
                        case $i:
                            e = n;
                            try {
                                l.g.enabled && (i = e.segment,
                                c = 0,
                                (r = {
                                    d: 1e3 * (c = i ? i.endTime - i.startTime : c),
                                    st: l.h.R() ? "l" : "v"
                                }).ot = 0 === (s = e).type ? yu : (s = s.stream) ? "video" == (u = s.type) ? s.codecs && s.codecs.includes(",") ? vu : mu : "audio" == u ? gu : "text" == u ? "application/mp4" === s.mimeType ? wu : bu : void 0 : void 0,
                                a = r.ot === mu || r.ot === gu || r.ot === vu || r.ot === wu,
                                (o = e.stream) && (a && (r.bl = function(e, t) {
                                    if (!(t = e.h.Lb()[t]).length)
                                        return NaN;
                                    var n = e.h.getCurrentTime();
                                    return (e = t.find(function(e) {
                                        return e.start <= n && e.end >= n
                                    })) ? 1e3 * (e.end - n) : NaN
                                }(l, o.type)),
                                o.bandwidth && (r.br = o.bandwidth / 1e3)),
                                a && r.ot !== wu && (r.tb = function(e, t) {
                                    var n = e.h.mb();
                                    if (!n.length)
                                        return NaN;
                                    e = n[0];
                                    for (var i = (n = we(n)).next(); !i.done; i = n.next())
                                        "variant" === (i = i.value).type && i.bandwidth > e.bandwidth && (e = i);
                                    switch (t) {
                                    case mu:
                                        return e.videoBandwidth || NaN;
                                    case gu:
                                        return e.audioBandwidth || NaN;
                                    default:
                                        return e.bandwidth
                                    }
                                }(l, r.ot) / 1e3),
                                hu(l, t, r))
                            } catch (e) {
                                q("CMCD_SEGMENT_ERROR", "Could not generate segment CMCD data.", e)
                            }
                            break;
                        case 2:
                        case 5:
                        case 6:
                            hu(l, t, {
                                ot: "k"
                            });
                            break;
                        case 4:
                            hu(l, t, {
                                ot: "o"
                            })
                        }
            }
            ,function(e, t, n, i) {
                h.H && h.H.banLocation && h.H.banLocation(i)
            }
            )),
            this.J.mg(this.g.streaming.forceHTTPS),
            this.D = null,
            ql && (this.D = ql(),
            this.D.configure(this.g.ads)),
            this.Be.o(z, "online", function() {
                Ll(s),
                s.eg()
            }),
            this.se = new I(function() {
                for (var e = s, t = Date.now() / 1e3, n = !1, i = we(e.i.variants), r = i.next(); !r.done; r = i.next()) {
                    var a, o;
                    0 < (r = r.value).disabledUntilTime && r.disabledUntilTime <= t && (r.disabledUntilTime = 0,
                    n = !0,
                    o = a = void 0,
                    o = "",
                    (a = r).video && (o += "video:" + a.video.id),
                    o = a.audio ? o + (o ? "&" : "") + "audio:" + a.audio.id : o)
                }
                e.i.variants.every(function(e) {
                    return 0 === e.disabledUntilTime
                }) && e.se.stop(),
                n && Al(e, !0, void 0, !1, !1)
            }
            ),
            e && (wi("Player w/ mediaElement", "Please migrate from initializing Player with a mediaElement; use the attach method instead."),
            this.Gc(e, !0))
        }
        function zu(e) {
            null != e.L && (fo(e.L),
            e.L.release(),
            e.L = null)
        }
        function Xu(e, t) {
            return new ce(e,t)
        }
        function Wu() {
            if (z.Promise || X("A Promise implementation or polyfill is required"),
            !(z.Promise && z.Uint8Array && Array.prototype.forEach) || On("Trident/"))
                return !1;
            var e = Un();
            return !(e && e < 9 || !(z.MediaKeys && z.navigator && z.navigator.requestMediaKeySystemAccess && z.MediaKeySystemAccess && z.MediaKeySystemAccess.prototype.getConfiguration)) && (!!xn() || In("application/x-mpegurl"))
        }
        function qu(e, t) {
            e.dispatchEvent(Xu("onstatechange", (new Map).set("state", t)))
        }
        function Yu(t, n) {
            var i;
            return Ie(function(e) {
                return 1 == e.g ? (i = ++t.He,
                Te(e, Ru(t.W, n), 2)) : i != t.He ? (t.W.release(),
                e.return(!0)) : e.return(!1)
            })
        }
        function Ju(a) {
            var o, s;
            return Ie(function(e) {
                if (1 == e.g)
                    return qu(a, "media-source"),
                    o = a.g.textDisplayFactory,
                    s = o(),
                    a.xg = o,
                    t = a.h,
                    n = s,
                    i = function(e, t, n) {
                        Qu(a, e, t, n)
                    }
                    ,
                    r = a.L,
                    (o = new To(t,n,i,r)).configure(a.g.mediaSource),
                    s = a.g.manifest,
                    s = s.segmentRelativeVttTiming,
                    o.Z = s,
                    Te(e, o.L, 2);
                var t, n, i, r;
                a.I = o,
                Ae(e)
            })
        }
        function Qu(e, t, n, i) {
            for (var r = (t = we(t)).next(); !r.done; r = t.next())
                if ((r = r.value).data && r.cueTime && r.frames) {
                    var a = r.cueTime + n
                      , o = i;
                    i && i < a && (o = a);
                    for (var s = we(r.frames), u = s.next(); !u.done; u = s.next())
                        $u(e, a, o, "org.id3", u.value);
                    e.D && e.D.onHlsTimedMetadata(r, a)
                }
        }
        function $u(e, t, n, i, r) {
            t = (new Map).set("startTime", t).set("endTime", n).set("metadataType", i).set("payload", r),
            e.dispatchEvent(Xu("metadata", t))
        }
        function Zu(e, t) {
            var n;
            t && "chapters" == t.kind && (t.mode = "hidden",
            n = new I(function() {
                t.mode = "hidden"
            }
            ).Qa().S(.5),
            e.Ib.push(function() {
                n.stop()
            }))
        }
        function el(e, t) {
            return new na(t,e.g.drm.updateExpirationTime)
        }
        function tl(e, t, n) {
            e.M = new Li,
            e.M.g = Ni,
            Ri(e.M, n, Math.min(.5, n / 2)),
            gl(e),
            e.s.o(t, "waiting", function() {
                return nl(e)
            }),
            e.s.o(t, "stalled", function() {
                return nl(e)
            }),
            e.s.o(t, "canplaythrough", function() {
                return nl(e)
            }),
            e.s.o(t, "progress", function() {
                return nl(e)
            })
        }
        function nl(e) {
            switch (e.l) {
            case Hl:
                var t;
                t = !!e.h.ended || null != (n = Ua(e.h.buffered)) && n >= e.h.duration - 1;
                break;
            case Kl:
                e: if (e.h.ended || xo(e.I))
                    t = !0;
                else {
                    if (e.i.presentationTimeline.R()) {
                        var n = e.i.presentationTimeline.ac()
                          , i = Ua(e.h.buffered);
                        if (null != i && n <= i) {
                            t = !0;
                            break e
                        }
                    }
                    t = !1
                }
                break;
            default:
                t = !1
            }
            var i = ja(e.h.buffered, e.h.currentTime)
              , r = t
              , a = (n = e.M).h.get(n.g);
            (t = n.g) != (n.g = i = r || a <= i ? Pi : Ni) && gl(e)
        }
        function il(t) {
            var e, n, i, r;
            if (t.H && (e = An(t.g.manifest),
            t.h && "AUDIO" === t.h.nodeName && (e.disableVideo = !0),
            t.H.configure(e)),
            t.m && t.m.configure(t.g.drm),
            t.j) {
                t.j.configure(t.g.streaming);
                try {
                    fl(t, t.i)
                } catch (e) {
                    Rl(t, e)
                }
                t.u && wl(t),
                !(e = t.j.j) || e.allowedByApplication && e.allowedByKeySystem || Al(t)
            }
            t.J && t.J.mg(t.g.streaming.forceHTTPS),
            t.I && (t.I.configure(t.g.mediaSource),
            t.I.Z = t.g.manifest.segmentRelativeVttTiming,
            e = t.g.textDisplayFactory,
            t.xg != e) && (n = e(),
            r = (i = t.I).H,
            i.H = n,
            r && (n.setTextVisibility(r.isTextVisible()),
            r.destroy()),
            i.h && (i.h.j = n),
            t.xg = e,
            t.j && (n = (e = t.j).i.get(he)) && Ds(e, n.stream, !0, 0, !0)),
            t.u && (t.u.configure(t.g.abr),
            t.g.abr.enabled ? t.u.enable() : t.u.disable(),
            Ml(t)),
            t.M && (e = t.g.streaming.rebufferingGoal,
            t.i && (e = Math.max(e, t.i.minBufferTime)),
            Ri(t.M, e, Math.min(.5, e / 2))),
            t.i && Ul(t.i.presentationTimeline, t.g.playRangeStart, t.g.playRangeEnd),
            t.D && t.D.configure(t.g.ads),
            t.V && t.V.configure(t.g.cmcd),
            t.Z && t.Z.configure(t.g.cmsd)
        }
        function rl(e) {
            return (e = e && /(\d+)x(\d+)/.exec(e)) ? {
                mc: parseInt(e[1], 10),
                rows: parseInt(e[2], 10)
            } : null
        }
        function al(e) {
            return Array.from(e.h.textTracks).filter(function(e) {
                return "metadata" != e.kind && "chapters" != e.kind && "Shaka Player TextTrack" != e.label
            })
        }
        function ol(e) {
            return Array.from(e.h.textTracks).filter(function(e) {
                return "chapters" == e.kind
            })
        }
        function sl(t, n) {
            var i;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return Ee(e, 2),
                    Te(e, qs(n, t.J, t.g.streaming.retryParameters), 4);
                case 4:
                    i = e.h,
                    Se(e, 3);
                    break;
                case 2:
                    xe(e);
                case 3:
                    if (i)
                        return e.return(i);
                    throw new ke(1,2,2011,n)
                }
            })
        }
        function ul(a, o, s, u, l, c, h) {
            var d;
            return Ie(function(e) {
                if (1 == e.g)
                    return "text/vtt" != l || h.length ? Te(e, ll(a, o, a.J, a.g.streaming.retryParameters), 3) : e.F(2);
                2 != e.g && (d = e.h,
                d = cl(a, d, l, h),
                d = new Blob([d],{
                    type: "text/vtt"
                }),
                o = Go(d),
                l = "text/vtt"),
                d = document.createElement("track");
                var t = a.V
                  , n = o;
                try {
                    var i, r = t.g.enabled ? ((i = cu(t)).ot = bu,
                    i.su = !0,
                    fu(n, du(i))) : n
                } catch (e) {
                    q("CMCD_TEXT_TRACK_ERROR", "Could not generate text track CMCD data.", e),
                    r = n
                }
                return d.src = r,
                d.label = c,
                d.kind = u,
                d.srclang = s,
                a.h.getAttribute("crossorigin") || a.h.setAttribute("crossorigin", "anonymous"),
                a.h.appendChild(d),
                e.return(d)
            })
        }
        function ll(n, i, r, a) {
            var o, s;
            return Ie(function(e) {
                if (1 != e.g)
                    return s = e.h,
                    e.return(s.data);
                s = $i,
                (o = qi([i], a)).method = "GET";
                var t = n.V;
                try {
                    t.g.enabled && hu(t, o, {
                        ot: bu,
                        su: !0
                    })
                } catch (e) {
                    q("CMCD_TEXT_ERROR", "Could not generate text CMCD data.", e)
                }
                return Te(e, r.request(s, o).promise, 2)
            })
        }
        function cl(e, t, n, i) {
            var r = yn[n];
            if (r) {
                n = r(),
                e = {
                    periodStart: 0,
                    segmentStart: 0,
                    segmentEnd: e.h.duration,
                    vttOffset: 0
                },
                t = ne(t);
                var a = t = n.parseMedia(t, e, null)
                  , o = i;
                function s(e) {
                    for (var t = e, n = we(o), i = n.next(); !i.done; i = n.next())
                        (i = i.value).end && i.start < e && (t += i.end - i.start);
                    return ((e = Math.floor(t / 3600)) < 10 ? "0" : "") + e + ":" + ((n = Math.floor(t / 60 % 60)) < 10 ? "0" : "") + n + ":" + ((i = Math.floor(t % 60)) < 10 ? "0" : "") + i + "." + ((t = Math.floor(1e3 * t % 1e3)) < 100 ? t < 10 ? "00" : "0" : "") + t
                }
                var u = Qs(a);
                a = "WEBVTT\n\n";
                for (var l = (u = we(u)).next(); !l.done; l = u.next())
                    a = (a += s((l = l.value).startTime) + " --\x3e " + s(l.endTime) + function(e) {
                        var t = [];
                        switch (e.textAlign) {
                        case "left":
                            t.push("align:left");
                            break;
                        case "right":
                            t.push("align:right");
                            break;
                        case Nt:
                            t.push("align:middle");
                            break;
                        case "start":
                            t.push("align:start");
                            break;
                        case "end":
                            t.push("align:end")
                        }
                        switch (e.writingMode) {
                        case "vertical-lr":
                            t.push("vertical:lr");
                            break;
                        case "vertical-rl":
                            t.push("vertical:rl")
                        }
                        return t.length ? " " + t.join(" ") : ""
                    }(l) + "\n") + (l.payload + "\n\n");
                return a
            }
            throw new ke(2,2,2014,n)
        }
        function hl(n) {
            var e = ju();
            return e.streaming.failureCallback = function(e) {
                var t;
                n.R() && (t = null,
                1001 == e.code || 1002 == e.code ? t = 1 : 1003 == e.code && (t = .1),
                null != t && (e.severity = 1,
                n.eg(t)))
            }
            ,
            e.textDisplayFactory = function() {
                return n.oe ? new ru(n.h,n.oe) : HTMLMediaElement.prototype.addTextTrack ? new $s(n.h,"Shaka Player TextTrack") : new eu
            }
            ,
            e
        }
        function dl(i, r) {
            return Ie(function(e) {
                if (1 == e.g)
                    return Te(e, (t = i,
                    n = r,
                    Ie(function(e) {
                        if (1 == e.g)
                            return Te(e, zn(t.m, n), 2);
                        if (!n.variants.some(ai))
                            throw new ke(2,4,4032);
                        Ae(e)
                    })), 2);
                var t, n;
                fl(i, r),
                Ae(e)
            })
        }
        function fl(e, t) {
            if (e.l != Gl) {
                Hn(t.variants, e.g.restrictions, e.Ee) && e.j && xl(e);
                var n = e.m ? e.m.g : null;
                if (n && e.m.u)
                    for (var i = we(t.variants), r = i.next(); !r.done; r = i.next())
                        r = r.value,
                        pl(e, n.keySystem, r.video),
                        pl(e, n.keySystem, r.audio);
                Ol(e, t)
            }
        }
        function pl(e, t, n) {
            if (n)
                for (var i = (n = we(n.drmInfos)).next(); !i.done; i = n.next())
                    if ((i = i.value).keySystem == t)
                        for (var r = (i = we(i.initData || [])).next(); !r.done; r = i.next())
                            r = r.value,
                            sa(e.m, r.initDataType, r.initData)
        }
        function gl(e) {
            var t, n = e.yd();
            e.C && e.M && e.G && (e.V && (t = e.V,
            n || t.i || (t.i = !0),
            t.i && n && (t.j = !0),
            t.l = n),
            vl(e)),
            n = (new Map).set("buffering", n),
            e.dispatchEvent(Xu("buffering", n))
        }
        function ml(e) {
            var t = e.h.playbackRate;
            0 != t && (e.K && e.K.set(t),
            t = Xu("ratechange"),
            e.dispatchEvent(t))
        }
        function vl(e) {
            var t, n, i, r;
            e.C && e.M && (r = e.C.g,
            t = "playing",
            e.M.g == Ni ? t = "buffering" : e.h.paused ? t = "paused" : e.h.ended && (t = "ended"),
            n = t,
            (r = null == r.g ? (r.g = {
                timestamp: Date.now() / 1e3,
                state: n,
                duration: 0
            },
            !0) : (i = Date.now() / 1e3,
            r.g.duration = i - r.g.timestamp,
            r.g.state != n && (r.h.push(r.g),
            r.g = {
                timestamp: i,
                state: n,
                duration: 0
            },
            !0))) && (t = (new Map).set("newstate", t),
            e.dispatchEvent(Xu("statechanged", t))))
        }
        function yl(e) {
            var t, n, i, r, a, o, s, u, l;
            e.R() && (t = e.Ha(),
            !Number.isFinite(t.end) || e.h.currentTime < t.start || (e.g.streaming.liveSync ? (n = e.g.streaming.liveSyncMaxLatency,
            i = e.g.streaming.liveSyncPlaybackRate) : e.i && e.i.serviceDescription && (n = e.i.serviceDescription.maxLatency || e.g.streaming.liveSyncMaxLatency,
            i = e.i.serviceDescription.maxPlaybackRate || e.g.streaming.liveSyncPlaybackRate),
            e.g.streaming.liveSync ? (r = e.g.streaming.liveSyncMinLatency,
            a = e.g.streaming.liveSyncMinPlaybackRate) : e.i && e.i.serviceDescription && (r = e.i.serviceDescription.minLatency || e.g.streaming.liveSyncMinLatency,
            a = e.i.serviceDescription.minPlaybackRate || e.g.streaming.liveSyncMinPlaybackRate),
            o = e.h.playbackRate,
            s = t.end - e.h.currentTime,
            u = 0,
            e.l == Hl && 0 < (l = e.h.buffered).length && (u = l.end(l.length - 1),
            u = Math.max(i, u - t.end)),
            n && i && n < s - u ? o != i && e.Pd(i) : r && a && s - u < r ? o != a && e.Pd(a) : o !== e.K.Lc() && e.od()))
        }
        function bl(e) {
            var t, n, i;
            e.h && (t = !1,
            n = e.h.currentTime / e.h.duration,
            isNaN(n) || (n = Math.round(100 * n),
            isNaN(e.N) ? (e.N = n,
            t = !0) : (n = Math.max(e.N, n),
            e.N != n && (e.N = n,
            t = !0))),
            t && (0 == e.N ? i = Xu("started") : 25 == e.N ? i = Xu("firstquartile") : 50 == e.N ? i = Xu("midpoint") : 75 == e.N ? i = Xu("thirdquartile") : 100 == e.N && (i = Xu("complete")),
            i && e.dispatchEvent(i)))
        }
        function wl(t) {
            try {
                Ol(t, t.i)
            } catch (e) {
                return Rl(t, e),
                0
            }
            var e = oi(t.i.variants)
              , e = t.Ra.create(e);
            return t.u.setVariants(Array.from(e.values())),
            1
        }
        function Tl(e, t) {
            return t = void 0 !== t && t,
            wl(e) ? e.u.chooseVariant(t) : null
        }
        function Al(e, t, n, i, r) {
            t = void 0 === t || t,
            n = void 0 === n ? 0 : n,
            i = void 0 !== i && i,
            r = void 0 === r || r;
            var a = Tl(e);
            a && El(e, a, r, t, n, i)
        }
        function El(e, t, n, i, r, a) {
            a = void 0 !== a && a;
            var o, s = e.j.j;
            t == s ? i && Ns(e.j, t, i, r, !0) : ((o = e.C.h).h != t && (o.h = t,
            o.g.push({
                timestamp: Date.now() / 1e3,
                id: t.id,
                type: "variant",
                fromAdaptation: n,
                bandwidth: t.bandwidth
            })),
            Ns(e.j, t, i, r, a, n),
            i = null,
            s && (i = $n(s)),
            t = $n(t),
            n ? (n = (new Map).set("oldTrack", i).set("newTrack", t),
            e.L && po(e.L, t, e.If()),
            jl(e, n = Xu("adaptation", n))) : Il(e, i, t))
        }
        function Sl(e, t) {
            var n = Array.from(e.h.audioTracks).find(function(e) {
                return e.enabled
            });
            t.enabled = !0,
            t.id !== n.id && (n.enabled = !1),
            Il(e, n = ii(n), t = ii(t))
        }
        function xl(e) {
            jl(e, Xu("trackschanged"))
        }
        function Il(e, t, n) {
            t = (new Map).set("oldTrack", t).set("newTrack", n),
            e.L && po(e.L, n, e.If()),
            jl(e, n = Xu("variantchanged", t))
        }
        function kl(e) {
            jl(e, Xu("textchanged"))
        }
        function Cl(e) {
            jl(e, Xu("texttrackvisibility"))
        }
        function Ml(e) {
            e.g.abr.enabled || Ll(e),
            jl(e, Xu("abrstatuschanged", (new Map).set("newStatus", e.g.abr.enabled)))
        }
        function Ll(e, t) {
            if (t = void 0 === t || t,
            e.l == Kl) {
                e.se.stop();
                for (var n = we(e.i.variants), i = n.next(); !i.done; i = n.next())
                    i.value.disabledUntilTime = 0;
                t && wl(e)
            }
        }
        function Rl(r, a) {
            var o, s;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (r.l == Gl)
                        return e.return();
                    if (o = !0,
                    r.Xa && r.i && r.j && (3016 == a.code || 3014 == a.code || 3015 == a.code || 3018 == a.code))
                        return Ee(e, 3),
                        Te(e, (t = r.j,
                        Ie(function(e) {
                            return 1 == e.g ? (i = Date.now() / 1e3,
                            n = t.h.minTimeBetweenRecoveries,
                            !t.h.allowMediaSourceRecoveries || i - t.J < n ? e.return(!1) : (t.J = i,
                            n = He,
                            (i = t.i.get(n.U)) && (i.ec = null,
                            _s(t, i),
                            Xs(i).catch(function() {})),
                            (i = t.i.get(n.ia)) && (i.ec = null,
                            _s(t, i),
                            Xs(i).catch(function() {})),
                            i = new Map,
                            t.j.audio && i.set(n.U, t.j.audio),
                            t.j.video && i.set(n.ia, t.j.video),
                            Te(e, Fo(t.g.Y, i), 2))) : e.return(!0)
                        })), 5);
                    e.F(2);
                    break;
                case 5:
                    s = e.h,
                    o = !s,
                    Se(e, 2);
                    break;
                case 3:
                    xe(e),
                    o = !0;
                case 2:
                    if (!o)
                        return e.return();
                    2 === a.severity && Ll(r, !1),
                    s = Xu("error", (new Map).set("detail", a)),
                    r.dispatchEvent(s),
                    s.defaultPrevented && (a.handled = !0),
                    Ae(e)
                }
                var t, n, i
            })
        }
        function Nl(e, t, n) {
            n = (new Map).set("detail", {
                schemeIdUri: n.schemeIdUri,
                value: n.value,
                startTime: n.startTime,
                endTime: n.endTime,
                id: n.id,
                eventElement: n.eventElement
            }),
            e.dispatchEvent(Xu(t, n))
        }
        function Pl(e) {
            if (!e.h.error)
                return null;
            var t = e.h.error.code;
            if (1 == t)
                return null;
            var n = e.h.error.msExtendedCode;
            return n && (n < 0 && (n += Math.pow(2, 32)),
            n = n.toString(16)),
            new ke(2,3,3016,t,n,e.h.error.message)
        }
        function Dl(e, t) {
            if (e.j) {
                var n = Xu("keystatuschanged")
                  , i = (e.dispatchEvent(n),
                Object.keys(t))
                  , n = 1 == i.length && "00" == i[0]
                  , r = !1;
                if (i.length)
                    for (var a = (i = we(e.i.variants)).next(); !a.done; a = i.next()) {
                        var o = [];
                        (a = a.value).audio && o.push(a.audio),
                        a.video && o.push(a.video);
                        for (var s = (o = we(o)).next(); !s.done; s = o.next()) {
                            var u = s.value
                              , s = a.allowedByKeySystem;
                            if (u.keyIds.size) {
                                a.allowedByKeySystem = !0;
                                for (var l = (u = we(u.keyIds)).next(); !l.done; l = u.next())
                                    l = l.value,
                                    ((l = t[n ? "00" : l]) || e.m.H) && (a.allowedByKeySystem = a.allowedByKeySystem && !!l && !Xl.includes(l))
                            }
                            s != a.allowedByKeySystem && (r = !0)
                        }
                    }
                r && (xl(e),
                !wl(e)) || (t = e.j.j) && !t.allowedByKeySystem && Al(e)
            }
        }
        function _l(e, t, n) {
            e.H && e.H.onExpirationUpdated && e.H.onExpirationUpdated(t, n),
            t = Xu("expirationupdated"),
            e.dispatchEvent(t)
        }
        function Ul(e, t, n) {
            0 < t && (e.R() || e.sh(t)),
            n < (t = e.getDuration()) && (e.R() || e.gb(n))
        }
        function Ol(e, t) {
            e = e.m ? e.m.ge() : {};
            for (var n = (n = Object.keys(e)).length && "00" == n[0], i = !1, r = !1, a = new Set, o = new Set, s = (t = we(t.variants)).next(); !s.done; s = t.next()) {
                var u = [];
                (s = s.value).audio && u.push(s.audio),
                s.video && u.push(s.video);
                for (var l = (u = we(u)).next(); !l.done; l = u.next())
                    if ((l = l.value).keyIds.size)
                        for (var c = (l = we(l.keyIds)).next(); !c.done; c = l.next()) {
                            var c = c.value
                              , h = e[n ? "00" : c];
                            h ? Xl.includes(h) && o.add(h) : a.add(c)
                        }
                s.allowedByApplication ? s.allowedByKeySystem && (i = !0) : r = !0
            }
            if (!i)
                throw new ke(2,4,4012,e = {
                    hasAppRestrictions: r,
                    missingKeys: Array.from(a),
                    restrictedKeyStatuses: Array.from(o)
                })
        }
        function jl(t, n) {
            Ie(function(e) {
                if (1 == e.g)
                    return Te(e, Promise.resolve(), 2);
                t.l != Gl && t.dispatchEvent(n),
                Ae(e)
            })
        }
        function Bl(e) {
            for (var t = new Set, n = (e = we(e)).next(); !n.done; n = e.next())
                (n = n.value).language ? t.add(de(n.language)) : t.add("und");
            return t
        }
        function Fl(e) {
            for (var t = new Map, r = new Map, n = (e = we(e)).next(); !n.done; n = e.next()) {
                var i = "und"
                  , a = [];
                (n = n.value).language && (i = de(n.language)),
                (a = "variant" == n.type ? n.audioRoles : n.roles) && a.length || (a = [""]),
                t.has(i) || t.set(i, new Set);
                for (var o = (a = we(a)).next(); !o.done; o = a.next())
                    o = o.value,
                    t.get(i).add(o),
                    n.label && (r.has(i) || r.set(i, new Map),
                    r.get(i).set(o, n.label))
            }
            var s = [];
            return t.forEach(function(e, t) {
                for (var n = (e = we(e)).next(); !n.done; n = e.next()) {
                    var n = n.value
                      , i = null;
                    r.has(t) && r.get(t).has(n) && (i = r.get(t).get(n)),
                    s.push({
                        language: t,
                        role: n,
                        label: i
                    })
                }
            }),
            s
        }
        n("shaka.util.ConfigUtils", ku),
        ku.convertToConfigObject = Mu,
        ku.mergeConfigObjects = Cu,
        Lu.prototype.release = function() {
            0 < this.h.length ? this.h.shift()() : this.g = null
        }
        ,
        n("shaka.util.FairPlayUtils", Nu),
        Nu.commonFairPlayResponse = function(e, t) {
            if (2 === e) {
                try {
                    var n = lr(t.data)
                } catch (e) {
                    return
                }
                e = !1,
                "<ckc>" === (n = n.trim()).substr(0, 5) && "</ckc>" === n.substr(-6) && (n = n.slice(5, -6),
                e = !0);
                try {
                    var i = JSON.parse(n);
                    i.ckc && (n = i.ckc,
                    e = !0),
                    i.CkcMessage && (n = i.CkcMessage,
                    e = !0),
                    i.License && (n = i.License,
                    e = !0)
                } catch (e) {}
                e && (t.data = mt(Lr(n)))
            }
        }
        ,
        Nu.expressplayFairPlayRequest = function(e, t) {
            Uu(e, t)
        }
        ,
        Nu.conaxFairPlayRequest = function(e, t) {
            Uu(e, t)
        }
        ,
        Nu.ezdrmFairPlayRequest = function(e, t) {
            Uu(e, t)
        }
        ,
        Nu.verimatrixFairPlayRequest = function(e, t) {
            2 === e && (e = Mr(e = ne(t.body)),
            t.headers["Content-Type"] = "application/x-www-form-urlencoded",
            t.body = dr("spc=" + e))
        }
        ,
        Nu.expressplayInitDataTransform = _u,
        Nu.conaxInitDataTransform = function(e, t, n) {
            if ("skd" !== t)
                return e;
            t = n.serverCertificate,
            n = hr(e).split("skd://").pop().split("?").shift(),
            n = z.atob(n);
            for (var i = vt(i = new ArrayBuffer(2 * n.length)), r = 0, a = n.length; r < a; r++)
                i[r] = n.charCodeAt(r);
            return Du(e, i, t)
        }
        ,
        Nu.ezdrmInitDataTransform = function(e, t, n) {
            return "skd" !== t ? e : (t = n.serverCertificate,
            Du(e, n = hr(e).split(";").pop(), t))
        }
        ,
        Nu.verimatrixInitDataTransform = _u,
        Nu.initDataTransform = Du,
        Nu.defaultGetContentId = Pu,
        Nu.isFairPlaySupported = function() {
            var t;
            return Ie(function(e) {
                return 1 == e.g ? (t = {
                    initDataTypes: ["cenc", "sinf", "skd"],
                    videoCapabilities: [{
                        contentType: 'video/mp4; codecs="avc1.42E01E"'
                    }]
                },
                Ee(e, 2),
                Te(e, navigator.requestMediaKeySystemAccess("com.apple.fps", [t]), 4)) : 2 != e.g ? e.return(!0) : (xe(e),
                e.return(!1))
            })
        }
        ,
        n("shaka.util.PlayerConfiguration", Ou),
        Ou.mergeConfigObjects = Bu,
        Ou.createDefault = ju,
        t(l, d),
        (e = l.prototype).destroy = function() {
            var t, n = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return n.l == Gl ? e.return() : (zu(n),
                    t = n.detach(),
                    n.l = Gl,
                    Te(e, t, 2));
                case 2:
                    if (n.Be && (n.Be.release(),
                    n.Be = null),
                    n.Fb && (n.Fb.release(),
                    n.Fb = null),
                    n.s && (n.s.release(),
                    n.s = null),
                    n.va && (n.va.release(),
                    n.va = null),
                    n.fg = null,
                    n.g = null,
                    n.C = null,
                    n.oe = null,
                    n.V = null,
                    n.Z = null,
                    n.J)
                        return Te(e, n.J.destroy(), 4);
                    e.F(3);
                    break;
                case 4:
                    n.J = null;
                case 3:
                    n.u && (n.u.release(),
                    n.u = null),
                    d.prototype.release.call(n),
                    Ae(e)
                }
            })
        }
        ,
        e.Gc = function(t, n) {
            n = void 0 === n || n;
            var i, r, a = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (a.l == Gl)
                        throw new ke(2,7,7e3);
                    if (a.h && a.h != t)
                        return Te(e, a.detach(), 2);
                    e.F(2);
                    break;
                case 2:
                    return Te(e, Yu(a, "attach"), 4);
                case 4:
                    if (e.h)
                        return e.return();
                    if (Ee(e, 5, 6),
                    qu(a, "attach"),
                    i = function() {
                        var e = Pl(a);
                        e && Rl(a, e)
                    }
                    ,
                    a.Fb.o(t, "error", i),
                    a.h = t,
                    n && xn() && !a.I)
                        return Te(e, Ju(a), 6);
                    e.F(6);
                    break;
                case 6:
                    Ce(e),
                    a.W.release(),
                    Me(e, 0);
                    break;
                case 5:
                    return r = xe(e),
                    Te(e, a.detach(), 10);
                case 10:
                    throw r
                }
            })
        }
        ,
        e.Eg = function(e) {
            this.Bh = e
        }
        ,
        e.detach = function(t) {
            t = void 0 !== t && t;
            var n = this;
            return Ie(function(e) {
                if (1 == e.g) {
                    if (n.l == Gl)
                        throw new ke(2,7,7e3);
                    return Te(e, n.Wc(!1, t), 2)
                }
                if (3 != e.g)
                    return Te(e, Yu(n, "detach"), 3);
                if (e.h)
                    return e.return();
                try {
                    n.h && (n.Fb.ub(),
                    n.h = null),
                    qu(n, "detach"),
                    n.D && !t && n.D.release()
                } finally {
                    n.W.release()
                }
                Ae(e)
            })
        }
        ,
        e.Wc = function(t, n) {
            t = void 0 === t || t,
            n = void 0 !== n && n;
            var i, r, a, o, s, u, l, c, h, d = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return d.l != Gl && (d.l = Vl),
                    Te(e, Yu(d, "unload"), 2);
                case 2:
                    return e.h ? e.return() : (k(e, 3),
                    d.Xa = !1,
                    qu(d, "unload"),
                    t && !xn() && (t = !1),
                    zu(d),
                    i = d.Ib.map(function(e) {
                        return e()
                    }),
                    d.Ib = [],
                    Te(e, Promise.all(i), 5));
                case 5:
                    if (d.dispatchEvent(Xu("unloading")),
                    d.ua && (d.ua.release(),
                    d.ua = null),
                    d.h && (d.s.ub(),
                    d.va.ub()),
                    d.se.stop(),
                    d.xb && (d.xb.release(),
                    d.xb = null),
                    d.H)
                        return Te(e, d.H.stop(), 7);
                    e.F(6);
                    break;
                case 7:
                    d.H = null,
                    d.Ie = null;
                case 6:
                    if (d.u)
                        return Te(e, d.u.stop(), 8);
                    e.F(8);
                    break;
                case 8:
                    if (d.j)
                        return Te(e, d.j.destroy(), 11);
                    e.F(10);
                    break;
                case 11:
                    d.j = null;
                case 10:
                    if (d.K && (d.K.release(),
                    d.K = null),
                    d.G && (d.G.release(),
                    d.G = null),
                    d.I)
                        return Te(e, d.I.destroy(), 13);
                    e.F(12);
                    break;
                case 13:
                    d.I = null;
                case 12:
                    if (d.D && !n && d.D.onAssetUnload(),
                    d.Z && (d.Z.g = null),
                    d.h && iu(d.h),
                    d.h && d.h.src)
                        return Te(e, new Promise(function(e) {
                            return new I(e).S(.1)
                        }
                        ), 15);
                    e.F(14);
                    break;
                case 15:
                    d.h.removeAttribute("src"),
                    d.h.load();
                case 14:
                    if (d.m)
                        return Te(e, d.m.destroy(), 17);
                    e.F(16);
                    break;
                case 17:
                    d.m = null;
                case 16:
                    if (d.aa = null,
                    d.M = null,
                    d.i) {
                        for (r = we(d.i.variants),
                        a = r.next(); !a.done; a = r.next())
                            for (o = a.value,
                            s = we([o.audio, o.video]),
                            u = s.next(); !u.done; u = s.next())
                                (l = u.value) && l.segmentIndex && l.segmentIndex.release();
                        for (c = we(d.i.textStreams),
                        u = c.next(); !u.done; u = c.next())
                            (h = u.value).segmentIndex && h.segmentIndex.release()
                    }
                    d.i = null,
                    d.C = new Hu,
                    d.xg = null,
                    d.tc = [],
                    d.N = NaN,
                    gl(d);
                case 3:
                    Ce(e),
                    d.W.release(),
                    Me(e, 4);
                    break;
                case 4:
                    if (t && xn() && !d.I)
                        return Te(e, Ju(d), 0);
                    e.F(0)
                }
            })
        }
        ,
        e.xj = function(e) {
            this.ha = e
        }
        ,
        e.load = function(t, n, d) {
            n = void 0 === n ? null : n;
            var i, r, a, h, o, C = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (C.l == Gl)
                        throw new ke(2,7,7e3);
                    return Te(e, Ru(C.W, "load"), 2);
                case 2:
                    if (C.W.release(),
                    !C.h)
                        throw new ke(2,7,7002);
                    if (C.aa)
                        return Te(e, C.Wc(!1), 3);
                    e.F(3);
                    break;
                case 3:
                    if (i = ++C.He,
                    r = function() {
                        if (C.He != i)
                            throw new ke(2,7,7e3)
                    }
                    ,
                    a = function(t, n) {
                        return Ie(function(e) {
                            switch (e.g) {
                            case 1:
                                return k(e, 2),
                                Te(e, Ru(C.W, n), 4);
                            case 4:
                                return r(),
                                Te(e, t(), 5);
                            case 5:
                                r();
                            case 2:
                                Ce(e),
                                C.W.release(),
                                Me(e, 0)
                            }
                        })
                    }
                    ,
                    Ee(e, 5),
                    C.ha = n,
                    C.Xa = !1,
                    C.dispatchEvent(Xu("loading")),
                    h = Date.now() / 1e3,
                    C.C = new Hu,
                    C.aa = t,
                    d) {
                        e.F(7);
                        break
                    }
                    return Te(e, a(function() {
                        return Ie(function(e) {
                            if (1 == e.g)
                                return Te(e, (t = C,
                                Ie(function(e) {
                                    return 1 == e.g ? (n = t.g.manifest.retryParameters,
                                    Te(e, qs(t.aa, t.J, n), 2)) : ("application/x-mpegurl" == (n = e.h) && Dn() && (n = "application/vnd.apple.mpegurl"),
                                    e.return(n))
                                })), 2);
                            var t, n;
                            d = e.h,
                            Ae(e)
                        })
                    }, "guessMimeType_"), 7);
                case 7:
                    if (function(e, t) {
                        if (!xn())
                            return !0;
                        if (t) {
                            if ("" == (e.h || jn()).canPlayType(t))
                                return !1;
                            if (!(xn() && t in Ca))
                                return !0;
                            if ("application/x-mpegurl" === t || "application/vnd.apple.mpegurl" === t) {
                                if (e.g.streaming.preferNativeHls)
                                    return !0;
                                if (Dn())
                                    return e.g.streaming.useNativeHlsOnSafari
                            }
                        }
                        return !1
                    }(C, d))
                        return Te(e, a(function() {
                            return Ie(function(e) {
                                return Te(e, (n = C,
                                t = d,
                                Ie(function(e) {
                                    return 1 == e.g ? (a = He,
                                    i = Date.now() / 1e3,
                                    r = !0,
                                    n.m = el(n, {
                                        zc: n.J,
                                        onError: function(e) {
                                            Rl(n, e)
                                        },
                                        Fe: function(e) {
                                            Dl(n, e)
                                        },
                                        onExpirationUpdated: function(e, t) {
                                            _l(n, e, t)
                                        },
                                        onEvent: function(e) {
                                            n.dispatchEvent(e),
                                            "drmsessionupdate" == e.type && r && (r = !1,
                                            n.C.j = Date.now() / 1e3 - i)
                                        }
                                    }),
                                    n.m.configure(n.g.drm),
                                    a = {
                                        id: 0,
                                        language: "und",
                                        disabledUntilTime: 0,
                                        primary: !1,
                                        audio: null,
                                        video: {
                                            id: 0,
                                            originalId: null,
                                            groupId: null,
                                            createSegmentIndex: function() {
                                                return Promise.resolve()
                                            },
                                            segmentIndex: null,
                                            mimeType: t ? cn(t) : "",
                                            codecs: t ? hn(t) : "",
                                            encrypted: !0,
                                            drmInfos: [],
                                            keyIds: new Set,
                                            language: "und",
                                            originalLanguage: null,
                                            label: null,
                                            type: a.ia,
                                            primary: !1,
                                            trickModeVideo: null,
                                            emsgSchemeIdUris: null,
                                            roles: [],
                                            forced: !1,
                                            channelsCount: null,
                                            audioSamplingRate: null,
                                            spatialAudio: !1,
                                            closedCaptions: null,
                                            accessibilityPurpose: null,
                                            external: !1,
                                            fastSwitching: !1
                                        },
                                        bandwidth: 100,
                                        allowedByApplication: !0,
                                        allowedByKeySystem: !0,
                                        decodingInfos: []
                                    },
                                    n.m.Z = !0,
                                    Te(e, ia(n.m, [a], []), 2)) : Te(e, n.m.Gc(n.h), 0)
                                })), 0);
                                var n, t, i, r, a
                            })
                        }, "initializeSrcEqualsDrmInner_"), 16);
                    if (C.I) {
                        e.F(11);
                        break
                    }
                    return Te(e, a(function() {
                        return Ie(function(e) {
                            return Te(e, Ju(C), 0)
                        })
                    }, "initializeMediaSourceEngineInner_"), 11);
                case 11:
                    return Te(e, a(function() {
                        return Ie(function(e) {
                            return Te(e, (h = C,
                            i = d,
                            Ie(function(e) {
                                if (1 == e.g)
                                    return r = h.J,
                                    qu(h, "manifest-parser"),
                                    h.Ie = ka(h.aa, i || null),
                                    h.H = h.Ie(),
                                    o = An(h.g.manifest),
                                    h.h && "AUDIO" === h.h.nodeName && (o.disableVideo = !0),
                                    h.H.configure(o),
                                    h.ua = new vs(function() {
                                        return h.Ha()
                                    }
                                    ),
                                    h.ua.addEventListener("regionadd", function(e) {
                                        e = e.region,
                                        Nl(h, "timelineregionadded", e),
                                        h.D && h.D.onDashTimedMetadata(e)
                                    }),
                                    h.sa = null,
                                    h.g.streaming.observeQualityChanges && (h.sa = new ms(function() {
                                        return h.Lb()
                                    }
                                    ),
                                    h.sa.addEventListener("qualitychange", function(e) {
                                        var t = e.quality;
                                        e = e.position,
                                        t = (new Map).set("mediaQuality", {
                                            bandwidth: t.bandwidth,
                                            audioSamplingRate: t.audioSamplingRate,
                                            codecs: t.codecs,
                                            contentType: t.contentType,
                                            frameRate: t.frameRate,
                                            height: t.height,
                                            mimeType: t.mimeType,
                                            channelsCount: t.channelsCount,
                                            pixelAspectRatio: t.pixelAspectRatio,
                                            width: t.width
                                        }).set("position", e),
                                        h.dispatchEvent(Xu("mediaqualitychanged", t))
                                    })),
                                    o = {
                                        networkingEngine: r,
                                        filter: function(e) {
                                            return dl(h, e)
                                        },
                                        makeTextStreamsForClosedCaptions: function(e) {
                                            for (var t, n, i, r = h, a = e, o = new Set, s = we(a.textStreams), u = s.next(); !u.done; u = s.next())
                                                "application/cea-608" != (u = u.value).mimeType && "application/cea-708" != u.mimeType || o.add(u.originalId);
                                            for (s = we(a.variants),
                                            u = s.next(); !u.done; u = s.next())
                                                if ((u = u.value.video) && u.closedCaptions)
                                                    for (var l = we(u.closedCaptions.keys()), c = l.next(); !c.done; c = l.next())
                                                        c = c.value,
                                                        o.has(c) || (t = c.startsWith("CC") ? "application/cea-608" : "application/cea-708",
                                                        n = new ds,
                                                        i = u.closedCaptions.get(c),
                                                        t = {
                                                            id: r.Ag++,
                                                            originalId: c,
                                                            groupId: null,
                                                            createSegmentIndex: function() {
                                                                return Promise.resolve()
                                                            },
                                                            segmentIndex: n,
                                                            mimeType: t,
                                                            codecs: "",
                                                            kind: "caption",
                                                            encrypted: !1,
                                                            drmInfos: [],
                                                            keyIds: new Set,
                                                            language: i,
                                                            originalLanguage: i,
                                                            label: null,
                                                            type: he,
                                                            primary: !1,
                                                            trickModeVideo: null,
                                                            emsgSchemeIdUris: null,
                                                            roles: u.roles,
                                                            forced: !1,
                                                            channelsCount: null,
                                                            audioSamplingRate: null,
                                                            spatialAudio: !1,
                                                            closedCaptions: null,
                                                            accessibilityPurpose: null,
                                                            external: !1,
                                                            fastSwitching: !1
                                                        },
                                                        a.textStreams.push(t),
                                                        o.add(c))
                                        },
                                        onTimelineRegionAdded: function(e) {
                                            var t = h.ua;
                                            e: {
                                                for (var n = we(t.g), i = n.next(); !i.done; i = n.next())
                                                    if ((i = i.value).schemeIdUri == e.schemeIdUri && i.id == e.id && i.startTime == e.startTime && i.endTime == e.endTime) {
                                                        n = i;
                                                        break e
                                                    }
                                                n = null
                                            }
                                            null == n && (t.g.add(e),
                                            e = new ce("regionadd",new Map([["region", e]])),
                                            t.dispatchEvent(e))
                                        },
                                        onEvent: function(e) {
                                            return h.dispatchEvent(e)
                                        },
                                        onError: function(e) {
                                            return Rl(h, e)
                                        },
                                        isLowLatencyMode: function() {
                                            return h.g.streaming.lowLatencyMode
                                        },
                                        isAutoLowLatencyMode: function() {
                                            return h.g.streaming.autoLowLatencyMode
                                        },
                                        enableLowLatencyMode: function() {
                                            h.configure("streaming.lowLatencyMode", !0)
                                        },
                                        updateDuration: function() {
                                            h.j && h.j.updateDuration()
                                        },
                                        newDrmInfo: function(e) {
                                            var t = h.m ? h.m.g : null;
                                            t && h.m.u && pl(h, t.keySystem, e)
                                        },
                                        onManifestUpdated: function() {
                                            var e = (new Map).set("isLive", h.R());
                                            h.dispatchEvent(Xu("manifestupdated", e)),
                                            h.D && h.D.onManifestUpdated(h.R())
                                        },
                                        getBandwidthEstimate: function() {
                                            return h.u.getBandwidthEstimate()
                                        }
                                    },
                                    r = Date.now() / 1e3,
                                    qu(h, "manifest"),
                                    Te(e, (a = h).H.start(h.aa, o), 2);
                                if (a.i = e.h,
                                o = Xu("manifestparsed"),
                                h.dispatchEvent(o),
                                0 == h.i.variants.length)
                                    throw new ke(2,4,4036);
                                function t(e) {
                                    return e.video && e.audio || e.video && e.video.codecs.includes(",")
                                }
                                var n;
                                (n = h.i).variants.some(t) && (n.variants = n.variants.filter(t)),
                                s = Date.now() / 1e3,
                                s = s - r,
                                h.C.H = s,
                                Ae(e)
                            })), 0);
                            var h, i, r, a, o, s
                        })
                    }, "parseManifestInner_"), 13);
                case 13:
                    return Te(e, a(function() {
                        return Ie(function(e) {
                            return Te(e, (n = C,
                            Ie(function(e) {
                                return 1 == e.g ? (qu(n, "drm-engine"),
                                t = Date.now() / 1e3,
                                i = !0,
                                n.m = el(n, {
                                    zc: n.J,
                                    onError: function(e) {
                                        Rl(n, e)
                                    },
                                    Fe: function(e) {
                                        Dl(n, e)
                                    },
                                    onExpirationUpdated: function(e, t) {
                                        _l(n, e, t)
                                    },
                                    onEvent: function(e) {
                                        n.dispatchEvent(e),
                                        "drmsessionupdate" == e.type && i && (i = !1,
                                        n.C.j = Date.now() / 1e3 - t,
                                        n.L && fo(n.L))
                                    }
                                }),
                                n.m.configure(n.g.drm),
                                Hn(n.i.variants, n.g.restrictions, n.Ee) && n.j && xl(n),
                                r = oi(n.i.variants),
                                Te(e, ia(n.m, r, n.i.offlineSessionIds), 2)) : 3 != e.g ? Te(e, n.m.Gc(n.h), 3) : Te(e, dl(n, n.i), 0)
                            })), 0);
                            var n, t, i, r
                        })
                    }, "initializeDrmInner_"), 14);
                case 14:
                    return Te(e, a(function() {
                        return Ie(function(e) {
                            return Te(e, (f = C,
                            p = h,
                            Ie(function(e) {
                                switch (e.g) {
                                case 1:
                                    for (qu(f, "load"),
                                    g = f.h,
                                    f.K = new fs({
                                        ke: function() {
                                            return g.playbackRate
                                        },
                                        Lc: function() {
                                            return g.defaultPlaybackRate
                                        },
                                        pg: function(e) {
                                            g.playbackRate = e
                                        },
                                        fh: function(e) {
                                            g.currentTime += e
                                        }
                                    }),
                                    v = function() {
                                        return vl(f)
                                    }
                                    ,
                                    m = function() {
                                        return ml(f)
                                    }
                                    ,
                                    f.s.o(g, "playing", v),
                                    f.s.o(g, "pause", v),
                                    f.s.o(g, "ended", v),
                                    f.s.o(g, "ratechange", m),
                                    (h = (c = f).g).lcevc.enabled ? ((d = c.mb()) && d[0] && "video/mp2t" == d[0].videoMimeType && (kn() || navigator.userAgent.match(/Edge\//)) && (h.mediaSource.forceTransmux || X("LCEVC Warning: For MPEG-2 TS decoding the config.mediaSource.forceTransmux must be enabled.")),
                                    zu(c),
                                    null == c.L && (c.L = new ho(c.h,c.Bh,h.lcevc),
                                    c.I && (c.I.N = c.L))) : zu(c),
                                    v = f.g.abrFactory,
                                    f.u && f.fg == v || (f.fg = v,
                                    f.u = v(),
                                    "function" != typeof f.u.setMediaElement && (wi("AbrManager w/o setMediaElement", "Please use an AbrManager with setMediaElement function."),
                                    f.u.setMediaElement = function() {}
                                    ),
                                    "function" != typeof f.u.setCmsdManager && (wi("AbrManager w/o setCmsdManager", "Please use an AbrManager with setCmsdManager function."),
                                    f.u.setCmsdManager = function() {}
                                    ),
                                    "function" != typeof f.u.trySuggestStreams && (wi("AbrManager w/o trySuggestStreams", "Please use an AbrManager with trySuggestStreams function."),
                                    f.u.trySuggestStreams = function() {}
                                    ),
                                    f.u.configure(f.g.abr)),
                                    f.Ra = new Mi(f.g.preferredAudioLanguage,f.g.preferredVariantRole,f.g.preferredAudioChannelCount,f.g.preferredVideoHdrLevel,f.g.preferSpatialAudio,f.g.preferredVideoLayout,f.g.preferredAudioLabel,f.g.preferredVideoLabel,f.g.mediaSource.codecSwitchingStrategy,f.g.manifest.dash.enableAudioGroups),
                                    f.Wa = f.g.preferredTextLanguage,
                                    f.nc = f.g.preferredTextRole,
                                    f.Xb = f.g.preferForcedSubs,
                                    Ul(f.i.presentationTimeline, f.g.playRangeStart, f.g.playRangeEnd),
                                    f.u.init(function(e, t, n) {
                                        f.j && e != f.j.j && El(f, e, !0, void 0 !== t && t, void 0 === n ? 0 : n)
                                    }),
                                    f.u.setMediaElement(g),
                                    f.u.setCmsdManager(f.Z),
                                    Vn(f.i, f.g.preferredVideoCodecs, f.g.preferredAudioCodecs, f.g.preferredDecodingAttributes),
                                    f.j = new Ls((l = f).i,{
                                        je: function() {
                                            return l.G ? l.G.Yd() : 0
                                        },
                                        getBandwidthEstimate: function() {
                                            return l.u.getBandwidthEstimate()
                                        },
                                        Y: l.I,
                                        zc: l.J,
                                        onError: function(e) {
                                            return Rl(l, e)
                                        },
                                        onEvent: function(e) {
                                            return l.dispatchEvent(e)
                                        },
                                        Xi: function() {
                                            l.H && l.H.update && l.H.update()
                                        },
                                        Zf: function(e, t) {
                                            var n = e.startTime
                                              , i = e.endTime
                                              , r = t.type;
                                            l.G && l.G.gh(),
                                            nl(l),
                                            n = (new Map).set("start", n).set("end", i).set("contentType", r),
                                            l.dispatchEvent(Xu("segmentappended", n)),
                                            l.u && t.fastSwitching && e.Fd && e.ue && l.u.trySuggestStreams()
                                        },
                                        Wi: function(e, t) {
                                            var n, i, r, a, o, s, u;
                                            (t = t.Uf) && l.sa && (n = l.sa,
                                            i = e,
                                            e = n,
                                            s = (t = t).contentType,
                                            (u = e.g.get(s)) || e.g.set(s, u = {
                                                Gd: [],
                                                Mg: null,
                                                contentType: s
                                            }),
                                            u = e = u,
                                            (s = (s = n).h()[u.contentType]) && 0 < s.length ? (r = s[0].start,
                                            a = s[s.length - 1].end,
                                            o = u.Gd,
                                            u.Gd = o.filter(function(e, t) {
                                                return !(e.position <= r && t + 1 < o.length && o[t + 1].position <= r || e.position >= a)
                                            })) : u.Gd = [],
                                            n = {
                                                Uf: t,
                                                position: i
                                            },
                                            0 <= (t = (e = e.Gd).findIndex(function(e) {
                                                return e.position >= i
                                            })) ? e.splice(t, e[t].position == i ? 1 : 0, n) : e.push(n))
                                        },
                                        Gg: function(e, t) {
                                            var n = l.m;
                                            if (n.h.parseInbandPsshEnabled && !n.H && ["audio", "video"].includes(e)) {
                                                var i = 0
                                                  , r = we((t = new Dr(ne(t))).data);
                                                for (e = r.next(); !e.done; e = r.next())
                                                    i += e.value.length;
                                                if (0 == i)
                                                    n = Promise.resolve();
                                                else {
                                                    for (i = new Uint8Array(i),
                                                    r = 0,
                                                    e = (t = we(t.data)).next(); !e.done; e = t.next())
                                                        e = e.value,
                                                        i.set(e, r),
                                                        r += e.length;
                                                    sa(n, "cenc", i),
                                                    n = n.l
                                                }
                                            } else
                                                n = Promise.resolve();
                                            return n
                                        },
                                        Yi: function(e, t, n) {
                                            Qu(l, e, t, n)
                                        },
                                        ce: function(e, t) {
                                            return l.ce(e, t)
                                        }
                                    }),
                                    f.j.configure(f.g.streaming),
                                    f.l = Kl,
                                    g.textTracks && f.s.o(g.textTracks, "addtrack", function(e) {
                                        e.track && "chapters" === (e = e.track).kind && Zu(f, e)
                                    }),
                                    f.dispatchEvent(Xu("streaming")),
                                    m = null,
                                    (v = f.j.j) || (m = Tl(f, !0)),
                                    y = [],
                                    w = we([(b = v || m).video, b.audio]),
                                    T = w.next(); !T.done; T = w.next())
                                        (A = T.value) && !A.segmentIndex && y.push(A.createSegmentIndex());
                                    if (0 < y.length)
                                        return Te(e, Promise.all(y), 2);
                                    e.F(2);
                                    break;
                                case 2:
                                    if (f.H && f.H.onInitialVariantChosen && f.H.onInitialVariantChosen(b),
                                    Ul(f.i.presentationTimeline, f.g.playRangeStart, f.g.playRangeEnd),
                                    f.G = (d = (u = f).ha,
                                    new rs(u.h,u.i,u.g.streaming,d,function() {
                                        u.xb && gs(u.xb, !0),
                                        u.j && u.j.Kd(),
                                        u.M && nl(u)
                                    }
                                    ,function(e) {
                                        return u.dispatchEvent(e)
                                    }
                                    )),
                                    f.xb = (h = p,
                                    (h = new ys((s = f).ua,s.R() || 0 < h)).addEventListener("enter", function(e) {
                                        Nl(s, "timelineregionenter", e.region)
                                    }),
                                    h.addEventListener("exit", function(e) {
                                        Nl(s, "timelineregionexit", e.region)
                                    }),
                                    h.addEventListener("skip", function(e) {
                                        var t = e.region;
                                        e.seeking || (Nl(s, "timelineregionenter", t),
                                        Nl(s, "timelineregionexit", t))
                                    }),
                                    (c = new ps(s.h)).g.add(h),
                                    s.sa && c.g.add(s.sa),
                                    c),
                                    x = Math.max(f.i.minBufferTime, f.g.streaming.rebufferingGoal),
                                    tl(f, g, x),
                                    v) {
                                        e.F(4);
                                        break
                                    }
                                    if (El(f, m, !0, !1, 0),
                                    f.g.streaming.startAtSegmentBoundary)
                                        return E = f.G,
                                        S = E.ef,
                                        Te(e, (t = m,
                                        n = f.G.Yd(),
                                        Ie(function(e) {
                                            return 1 == e.g ? (o = t.audio,
                                            i = t.video,
                                            Te(e, (r = function(t, n) {
                                                var i;
                                                return Ie(function(e) {
                                                    return 1 == e.g ? t ? Te(e, t.createSegmentIndex(), 2) : e.return(null) : (i = (i = t.segmentIndex.rc(n)) ? i.next().value : null) ? (i = i.startTime,
                                                    e.return(i)) : e.return(null)
                                                })
                                            }
                                            )(o, n), 2)) : 3 != e.g ? (a = e.h,
                                            Te(e, r(i, n), 3)) : null != (o = e.h) && null != a ? e.return(Math.max(o, a)) : null != o ? e.return(o) : null != a ? e.return(a) : e.return(n)
                                        })), 6);
                                    e.F(4);
                                    break;
                                case 6:
                                    S.call(E, e.h);
                                case 4:
                                    return f.G.df(),
                                    f.bc().find(function(e) {
                                        return e.active
                                    }) || ((x = si(f.i.textStreams, f.Wa, f.nc, f.Xb)[0] || null) && Ku(f.C.h, x, !0),
                                    m && (x ? (m.audio && function(e, t, n) {
                                        if (0 == e.g.autoShowText)
                                            return;
                                        if (1 == e.g.autoShowText)
                                            return 1;
                                        var i = de(e.g.preferredTextLanguage);
                                        return n = de(n.language),
                                        2 == e.g.autoShowText ? We(n, i) : 3 == e.g.autoShowText ? (e = de(t.language),
                                        We(n, i) && !We(e, n)) : (X("Invalid autoShowText setting!"),
                                        !1)
                                    }(f, m.audio, x) && (f.$ = !0),
                                    f.$ && f.I.H.setTextVisibility(!0),
                                    Cl(f)) : f.$ = !1),
                                    x && (f.g.streaming.alwaysStreamText || f.xc()) && Ps(f.j, x)),
                                    Te(e, f.j.start(), 7);
                                case 7:
                                    f.g.abr.enabled && (f.u.enable(),
                                    Ml(f)),
                                    xl(f),
                                    wl(f),
                                    f.i.variants.some(function(e) {
                                        return e.primary
                                    }),
                                    (I = f.R()) && (f.g.streaming.liveSync || f.i.serviceDescription) ? (k = function() {
                                        return yl(f)
                                    }
                                    ,
                                    f.s.o(g, "timeupdate", k)) : I || (k = function() {
                                        return bl(f)
                                    }
                                    ,
                                    f.s.o(g, "timeupdate", k),
                                    bl(f)),
                                    f.D && f.D.onManifestUpdated(I),
                                    f.Xa = !0,
                                    f.s.na(g, "loadedmetadata", function() {
                                        f.C.m = Date.now() / 1e3 - p
                                    }),
                                    Ae(e)
                                }
                                var t, n, i, r, a, o, s, u, l, c, h, d
                            })), 0);
                            var f, p, g, m, v, y, b, w, T, A, E, S, x, I, k
                        })
                    }, "loadInner_"), 10);
                case 16:
                    return Te(e, a(function() {
                        return Ie(function(e) {
                            return Te(e, (r = C,
                            t = h,
                            n = d,
                            Ie(function(e) {
                                if (1 == e.g)
                                    return qu(r, "src-equals"),
                                    a = r.h,
                                    r.G = new is(a),
                                    o = !1,
                                    r.Ib.push(function() {
                                        o = !0
                                    }),
                                    null != r.ha && r.G.ef(r.ha),
                                    r.K = new fs({
                                        ke: function() {
                                            return a.playbackRate
                                        },
                                        Lc: function() {
                                            return a.defaultPlaybackRate
                                        },
                                        pg: function(e) {
                                            a.playbackRate = e
                                        },
                                        fh: function(e) {
                                            a.currentTime += e
                                        }
                                    }),
                                    s = r.g.streaming.rebufferingGoal,
                                    tl(r, a, s),
                                    s = function() {
                                        return vl(r)
                                    }
                                    ,
                                    u = function() {
                                        return ml(r)
                                    }
                                    ,
                                    r.s.o(a, "playing", s),
                                    r.s.o(a, "pause", s),
                                    r.s.o(a, "ended", s),
                                    r.s.o(a, "ratechange", u),
                                    "none" != a.preload && r.s.na(a, "loadedmetadata", function() {
                                        r.C.m = Date.now() / 1e3 - t
                                    }),
                                    a.audioTracks && (r.s.o(a.audioTracks, "addtrack", function() {
                                        return xl(r)
                                    }),
                                    r.s.o(a.audioTracks, "removetrack", function() {
                                        return xl(r)
                                    }),
                                    r.s.o(a.audioTracks, "change", function() {
                                        return xl(r)
                                    })),
                                    a.textTracks && (r.s.o(a.textTracks, "addtrack", function(e) {
                                        if (e.track)
                                            switch (e = e.track,
                                            e.kind) {
                                            case "metadata":
                                                var t, n = r, i = e;
                                                "metadata" == i.kind && (i.mode = "hidden",
                                                n.s.o(i, "cuechange", function() {
                                                    if (i.activeCues)
                                                        for (var e = we(i.activeCues), t = e.next(); !t.done; t = e.next())
                                                            t = t.value,
                                                            $u(n, t.startTime, t.endTime, t.type, t.value),
                                                            n.D && n.D.onCueMetadataChange(t.value)
                                                }),
                                                t = new I(function() {
                                                    for (var e = Array.from(n.h.textTracks).filter(function(e) {
                                                        return "metadata" == e.kind
                                                    }), t = (e = we(e)).next(); !t.done; t = e.next())
                                                        t.value.mode = "hidden"
                                                }
                                                ).Qa().S(.5),
                                                n.Ib.push(function() {
                                                    t.stop()
                                                }));
                                                break;
                                            case "chapters":
                                                Zu(r, e);
                                                break;
                                            default:
                                                xl(r)
                                            }
                                    }),
                                    r.s.o(a.textTracks, "removetrack", function() {
                                        return xl(r)
                                    }),
                                    r.s.o(a.textTracks, "change", function() {
                                        return xl(r)
                                    })),
                                    a.src = function(e, t, n) {
                                        try {
                                            if (!e.g.enabled)
                                                return t;
                                            var i = cu(e);
                                            e: {
                                                switch (n.toLowerCase()) {
                                                case "audio/mp4":
                                                case "audio/webm":
                                                case "audio/ogg":
                                                case "audio/mpeg":
                                                case "audio/aac":
                                                case "audio/flac":
                                                case "audio/wav":
                                                    var r = gu;
                                                    break e;
                                                case "video/webm":
                                                case "video/mp4":
                                                case "video/mpeg":
                                                case "video/mp2t":
                                                    r = vu;
                                                    break e;
                                                case "application/x-mpegurl":
                                                case "application/vnd.apple.mpegurl":
                                                case "application/dash+xml":
                                                case "video/vnd.mpeg.dash.mpd":
                                                case "application/vnd.ms-sstr+xml":
                                                    r = pu;
                                                    break e
                                                }
                                                r = void 0
                                            }
                                            return i.ot = r,
                                            i.su = !0,
                                            fu(t, du(i))
                                        } catch (e) {
                                            return q("CMCD_SRC_ERROR", "Could not generate src CMCD data.", e),
                                            t
                                        }
                                    }(r.V, r.aa, n),
                                    (Mn() || On("Web0S")) && a.load(),
                                    r.l = Hl,
                                    r.dispatchEvent(Xu("streaming")),
                                    i = new Oi,
                                    qo(a, HTMLMediaElement.HAVE_METADATA, r.s, function() {
                                        r.G.df(),
                                        i.resolve()
                                    }),
                                    qo(a, HTMLMediaElement.HAVE_CURRENT_DATA, r.s, function() {
                                        var i;
                                        return Ie(function(e) {
                                            return 1 == e.g ? ("" != (t = (n = r).g.preferredAudioLanguage) && n.Le(t, n.g.preferredVariantRole),
                                            (i = al(r)).find(function(e) {
                                                return "disabled" != e.mode
                                            }) ? (0 < i.length && (r.$ = !0),
                                            e.F(2)) : Te(e, new Promise(function(e) {
                                                r.s.na(a.textTracks, "change", e),
                                                new I(e).S(1)
                                            }
                                            ), 2)) : o ? e.return() : ("" != (n = (t = r).g.preferredTextLanguage) && t.ig(n, t.g.preferredTextRole, t.g.preferForcedSubs),
                                            void Ae(e));
                                            var t, n
                                        })
                                    }),
                                    a.error ? i.reject(Pl(r)) : "none" == a.preload && (X('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),
                                    i.resolve()),
                                    r.s.na(a, "error", function() {
                                        i.reject(Pl(r))
                                    }),
                                    Te(e, i, 2);
                                (s = r.R()) && r.g.streaming.liveSync ? (u = function() {
                                    return yl(r)
                                }
                                ,
                                r.s.o(a, "timeupdate", u)) : s || (l = function() {
                                    return bl(r)
                                }
                                ,
                                r.s.o(a, "timeupdate", l),
                                bl(r)),
                                r.D && (r.D.onManifestUpdated(s),
                                s && (c = r.Ha().end,
                                r.s.o(a, "progress", function() {
                                    var e = r.Ha().end;
                                    c != e && (r.D.onManifestUpdated(r.R()),
                                    c = e)
                                }))),
                                r.Xa = !0,
                                Ae(e)
                            })), 0);
                            var r, t, n, a, o, i, s, u, l, c
                        })
                    }, "srcEqualsInner_"), 10);
                case 10:
                    C.dispatchEvent(Xu("loaded")),
                    Se(e, 0);
                    break;
                case 5:
                    if (7e3 != (o = xe(e)).code)
                        return Te(e, C.Wc(!1), 18);
                    e.F(18);
                    break;
                case 18:
                    throw o
                }
            })
        }
        ,
        e.dj = function() {
            for (var e = this.W; e.g; )
                e.release()
        }
        ,
        e.configure = function(e, t) {
            (e = 2 == arguments.length && "string" == typeof e ? Mu(e, t) : e).streaming && "forceTransmuxTS"in e.streaming && (wi("streaming.forceTransmuxTS configuration", "Please Use mediaSource.forceTransmux instead."),
            e.mediaSource.mediaSource = e.streaming.forceTransmuxTS,
            delete e.streaming.forceTransmuxTS),
            e.streaming && "forceTransmux"in e.streaming && (wi("streaming.forceTransmux configuration", "Please Use mediaSource.forceTransmux instead."),
            e.mediaSource.mediaSource = e.streaming.forceTransmux,
            delete e.streaming.forceTransmux),
            e.streaming && e.streaming.lowLatencyMode && (null == e.streaming.inaccurateManifestTolerance && (e.streaming.inaccurateManifestTolerance = 0),
            null == e.streaming.rebufferingGoal && (e.streaming.rebufferingGoal = .01),
            null == e.streaming.segmentPrefetchLimit && (e.streaming.segmentPrefetchLimit = 2),
            null == e.streaming.retryParameters && (e.streaming.retryParameters = {}),
            null == e.streaming.retryParameters.baseDelay && (e.streaming.retryParameters.baseDelay = 100),
            null == e.manifest && (e.manifest = {}),
            null == e.manifest.retryParameters && (e.manifest.retryParameters = {}),
            null == e.manifest.retryParameters.baseDelay && (e.manifest.retryParameters.baseDelay = 100),
            null == e.drm && (e.drm = {}),
            null == e.drm.retryParameters && (e.drm.retryParameters = {}),
            null == e.drm.retryParameters.baseDelay && (e.drm.retryParameters.baseDelay = 100));
            var n = Bu(this.g, e, hl(this));
            return il(this),
            n
        }
        ,
        e.getConfiguration = function() {
            var e = hl(this);
            return Bu(e, this.g, hl(this)),
            e
        }
        ,
        e.Uh = function() {
            if (this.h) {
                var e = (e = this.h.buffered.length) ? this.h.buffered.end(e - 1) : 0
                  , t = this.getConfiguration().streaming.bufferingGoal;
                if ((t = Math.min(this.h.currentTime + t, this.Ha().end)) <= e)
                    return 1;
                if (!(e <= this.h.currentTime) && e < t)
                    return (e - this.h.currentTime) / (t - this.h.currentTime)
            }
            return 0
        }
        ,
        e.hj = function() {
            for (var e in this.g)
                delete this.g[e];
            Bu(this.g, hl(this), hl(this)),
            il(this)
        }
        ,
        e.ie = function() {
            return this.l
        }
        ,
        e.If = function() {
            return this.i ? this.i.type : null
        }
        ,
        e.ni = function() {
            return this.h
        }
        ,
        e.Zb = function() {
            return this.J
        }
        ,
        e.Gf = function() {
            return this.aa
        }
        ,
        e.ee = function() {
            return this.D || null
        }
        ,
        e.R = function() {
            return this.i ? this.i.presentationTimeline.R() : !(!this.h || !this.h.src) && 1 / 0 == this.h.duration
        }
        ,
        e.wc = function() {
            return !!this.i && this.i.presentationTimeline.wc()
        }
        ,
        e.Pc = function() {
            var e;
            return this.i ? !!(e = this.i.variants).length && !e[0].video : !(!this.h || !this.h.src) && (this.h.videoTracks ? 0 == this.h.videoTracks.length : 0 == this.h.videoHeight)
        }
        ,
        e.Ha = function() {
            if (this.i) {
                if (!this.Xa && "HLS" == this.i.type)
                    return {
                        start: 0,
                        end: 0
                    };
                var e = this.i.presentationTimeline;
                return {
                    start: e.Nc(),
                    end: e.Ob()
                }
            }
            return this.h && this.h.src && (e = this.h.seekable).length ? {
                start: e.start(0),
                end: e.end(e.length - 1)
            } : {
                start: 0,
                end: 0
            }
        }
        ,
        e.Fi = function() {
            this.R() && (this.h.currentTime = this.Ha().end)
        }
        ,
        e.keySystem = function() {
            var e = this.drmInfo();
            return e ? e.keySystem : ""
        }
        ,
        e.drmInfo = function() {
            return this.m ? this.m.g : null
        }
        ,
        e.td = function() {
            return this.m ? this.m.td() : 1 / 0
        }
        ,
        e.Ff = function() {
            return this.m ? this.m.Ff() : []
        }
        ,
        e.ge = function() {
            return this.m ? this.m.ge() : {}
        }
        ,
        e.yd = function() {
            return !!this.M && this.M.g == Ni
        }
        ,
        e.Nb = function() {
            return this.h ? this.K ? this.K.h : 1 : 0
        }
        ,
        e.Pd = function(i) {
            var r = this;
            0 == i ? X("A trick play rate of 0 is unsupported!") : (this.va.ub(),
            this.h.paused && this.h.play(),
            this.K.set(i),
            this.l == Kl && (this.u.playbackRateChanged(i),
            Rs(this.j, 1 < Math.abs(i))),
            this.R() && this.va.o(this.h, "timeupdate", function() {
                var e = r.h.currentTime
                  , t = r.Ha()
                  , n = r.g.streaming.safeSeekOffset;
                0 < i ? e >= t.end && r.od() : e <= t.start + n && r.od()
            }))
        }
        ,
        e.od = function() {
            var e = this.K.Lc();
            this.l == Hl && this.K.set(e),
            this.l == Kl && (this.K.set(e),
            this.u.playbackRateChanged(e),
            Rs(this.j, !1)),
            this.va.ub()
        }
        ,
        e.mb = function() {
            if (this.i) {
                for (var e, t = this.j ? this.j.j : null, n = [], i = 0, r = we(this.i.variants), a = r.next(); !a.done; a = r.next())
                    ai(a = a.value) && ((e = $n(a)).active = a == t,
                    e.active || 1 == i || null == t || a.video != t.video || a.audio != t.audio || (e.active = !0),
                    e.active && i++,
                    n.push(e));
                return n
            }
            return this.h && this.h.audioTracks ? Array.from(this.h.audioTracks).map(ii) : []
        }
        ,
        e.bc = function() {
            if (this.i) {
                for (var e = this.j ? this.j.s : null, t = [], n = we(this.i.textStreams), i = n.next(); !i.done; i = n.next()) {
                    var r = Zn(i = i.value);
                    r.active = i == e,
                    t.push(r)
                }
                return t
            }
            return this.h && this.h.src && this.h.textTracks ? al(this).map(ni) : []
        }
        ,
        e.fe = function() {
            var e = this.tc;
            return (e = this.i ? this.i.imageStreams : e).map(ei)
        }
        ,
        e.Rh = function(r) {
            var a, o, t, s = this;
            return Ie(function(e) {
                return 1 == e.g ? s.l != Kl && s.l != Hl ? e.return(null) : (t = s.tc,
                s.i && (t = s.i.imageStreams),
                (a = t.find(function(e) {
                    return e.id == r
                })) ? a.segmentIndex ? e.F(2) : Te(e, a.createSegmentIndex(), 2) : e.return(null)) : 4 != e.g ? (o = [],
                ls(a.segmentIndex, function(e) {
                    if (t = rl(e.tilesLayout || a.tilesLayout))
                        for (var t = t.rows * t.mc, n = e.h - e.startTime, i = 0; i < t; i++)
                            o.push(s.Kf(r, e.startTime + n * i / t))
                }),
                Te(e, Promise.all(o), 4)) : (t = e.h,
                e.return(t.filter(function(e) {
                    return e
                })))
            })
        }
        ,
        e.Kf = function(t, n) {
            var i, r, a, o, s, u, l, c, h, d, f, p, g = this;
            return Ie(function(e) {
                return 1 == e.g ? g.l != Kl && g.l != Hl ? e.return(null) : (i = g.tc,
                g.i && (i = g.i.imageStreams),
                (i = i.find(function(e) {
                    return e.id == t
                })) ? i.segmentIndex ? e.F(2) : Te(e, i.createSegmentIndex(), 2) : e.return(null)) : null == (r = i.segmentIndex.find(n)) ? e.return(null) : (r = i.segmentIndex.get(r),
                (p = rl(r.tilesLayout || i.tilesLayout)) ? (a = i.width || 0,
                o = i.height || 0,
                s = a / p.mc,
                u = o / p.rows,
                f = p.mc * p.rows,
                l = r.h - r.startTime,
                l = r.C || l / f,
                c = r.startTime,
                d = h = 0,
                1 < f && (f = Math.floor((n - r.startTime) / l),
                c = r.startTime + f * l,
                h = f % p.mc * s,
                d = Math.floor(f / p.mc) * u),
                f = !1,
                (p = r.u) && (f = !0,
                u = p.height,
                h = p.positionX,
                d = p.positionY,
                s = p.width),
                e.return({
                    segment: r,
                    imageHeight: o,
                    imageWidth: a,
                    height: u,
                    positionX: h,
                    positionY: d,
                    startTime: c,
                    duration: l,
                    uris: r.ba(),
                    width: s,
                    sprite: f
                })) : e.return(null))
            })
        }
        ,
        e.jg = function(t) {
            if (this.i && this.j) {
                var e = this.i.textStreams.find(function(e) {
                    return e.id == t.id
                });
                e && e != this.j.s && (Ku(this.C.h, e, !1),
                Ps(this.j, e),
                kl(this),
                this.Wa = e.language)
            } else if (this.h && this.h.src && this.h.textTracks) {
                for (var n = (e = we(e = al(this))).next(); !n.done; n = e.next())
                    ti(n = n.value) == t.id ? n.mode = this.$ ? "showing" : "hidden" : n.mode = "disabled";
                kl(this)
            }
        }
        ,
        e.Me = function(t, e, n) {
            if (e = void 0 !== e && e,
            n = void 0 === n ? 0 : n,
            this.i && this.j) {
                this.g.abr.enabled && X("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");
                var i = this.i.variants.find(function(e) {
                    return e.id == t.id
                });
                i && ai(i) && (El(this, i, !1, e, n),
                this.Ra = new Ci(i,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),
                wl(this))
            } else if (this.h && this.h.audioTracks)
                for (n = (e = we(e = Array.from(this.h.audioTracks))).next(); !n.done; n = e.next())
                    if (ti(n = n.value) == t.id) {
                        Sl(this, n);
                        break
                    }
        }
        ,
        e.Th = function() {
            return Fl(this.mb())
        }
        ,
        e.xi = function() {
            return Fl(this.bc())
        }
        ,
        e.Sh = function() {
            return Array.from(Bl(this.mb()))
        }
        ,
        e.wi = function() {
            return Array.from(Bl(this.bc()))
        }
        ,
        e.Le = function(e, t, n, i) {
            if (n = void 0 === n ? 0 : n,
            i = void 0 === i ? 0 : i,
            this.i && this.G) {
                this.Ra = new Mi(e,t || "",n,"",!1,"","","",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),
                e = function(e, t) {
                    return e.video || t.video ? e.video && t.video ? Math.abs((e.video.height || 0) - (t.video.height || 0)) + Math.abs((e.video.width || 0) - (t.video.width || 0)) : 1 / 0 : 0
                }
                ,
                t = this.j.j;
                var r = this.Ra.create(this.i.variants);
                n = null;
                for (var a = (r = we(r.values())).next(); !a.done; a = r.next())
                    a = a.value,
                    (!n || e(n, t) > e(a, t)) && (n = a);
                n ? (e = $n(n),
                this.Me(e, !0, i)) : Al(this)
            } else
                this.h && this.h.audioTracks && (i = si(this.mb(), e, t || "", !1)[0]) && this.Me(i)
        }
        ,
        e.ig = function(e, t, n) {
            n = void 0 !== n && n,
            this.i && this.G ? (this.Wa = e,
            this.nc = t || "",
            this.Xb = n,
            (e = si(this.i.textStreams, this.Wa, this.nc, this.Xb)[0] || null) && e != this.j.s && (Ku(this.C.h, e, !1),
            this.g.streaming.alwaysStreamText || this.xc()) && (Ps(this.j, e),
            kl(this))) : (e = si(this.bc(), e, t || "", n)[0]) && this.jg(e)
        }
        ,
        e.oj = function(e, t, n) {
            if (t = void 0 === t || t,
            n = void 0 === n ? 0 : n,
            this.i && this.G) {
                for (var i = null, r = we(this.i.variants), a = r.next(); !a.done; a = r.next())
                    if ((a = a.value).audio.label == e) {
                        i = a;
                        break
                    }
                null != i && (this.Ra = new Mi(i.language,"",0,"",!1,"",e,"",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),
                Al(this, t, n))
            } else if (this.h && this.h.audioTracks) {
                for (t = null,
                i = (n = we(n = Array.from(this.h.audioTracks))).next(); !i.done; i = n.next())
                    (i = i.value).label == e && (t = i);
                t && Sl(this, t)
            }
        }
        ,
        e.xc = function() {
            var e = this.$;
            return this.I && this.l == Kl ? this.I.H.isTextVisible() : this.h && this.h.src && this.h.textTracks ? al(this).some(function(e) {
                return "showing" == e.mode
            }) : e
        }
        ,
        e.Sg = function() {
            return this.h && this.h.src && this.h.textTracks ? ol(this).map(ni) : []
        }
        ,
        e.Wh = function(e) {
            if (!this.h || !this.h.src || !this.h.textTracks)
                return [];
            var t = de(e)
              , n = ol(this).filter(function(e) {
                return de(e.language) == t
            });
            if (!n || !n.length)
                return [];
            e = [];
            for (var i = new Set, r = (n = we(n)).next(); !r.done; r = n.next())
                if ((r = r.value) && r.cues)
                    for (var a = (r = we(r.cues)).next(); !a.done; a = r.next()) {
                        var o = {
                            id: a = (a = (o = a.value).id) && "" != a ? a : o.startTime + "-" + o.endTime + "-" + o.text,
                            title: o.text,
                            startTime: o.startTime,
                            endTime: o.endTime
                        };
                        i.has(a) || (e.push(o),
                        i.add(a))
                    }
            return e
        }
        ,
        e.Oe = function(e) {
            if (this.$ != (e = !!e)) {
                if (this.$ = e,
                this.l == Kl)
                    this.I.H.setTextVisibility(e),
                    this.g.streaming.alwaysStreamText || (e ? this.j.s || 0 < (e = si(this.i.textStreams, this.Wa, this.nc, this.Xb)).length && (Ps(this.j, e[0]),
                    kl(this)) : (i = this.j,
                    (r = i.i.get(he)) && (zs(r),
                    Xs(r).catch(function() {}),
                    i.i.delete(he)),
                    i.s = null));
                else if (this.h && this.h.src && this.h.textTracks)
                    for (var t = al(this), n = (t = we(t)).next(); !n.done; n = t.next())
                        "disabled" != (n = n.value).mode && (n.mode = e ? "showing" : "hidden");
                Cl(this)
            }
            var i, r
        }
        ,
        e.oi = function() {
            if (!this.R())
                return null;
            if (this.G)
                var e = this.G.Yd();
            else {
                if (null == this.ha)
                    return new Date;
                e = this.ha
            }
            return this.i ? new Date(1e3 * (this.i.presentationTimeline.i + e)) : this.h && this.h.getStartDate ? (t = this.h.getStartDate(),
            isNaN(t.getTime()) ? null : new Date(t.getTime() + 1e3 * e)) : null;
            var t
        }
        ,
        e.Vg = function() {
            return this.R() ? this.i ? new Date(1e3 * this.i.presentationTimeline.i) : this.h && this.h.getStartDate ? (e = this.h.getStartDate(),
            isNaN(e.getTime()) ? null : e) : null : null;
            var e
        }
        ,
        e.Lb = function() {
            if (this.l == Kl)
                return this.I.Lb();
            var e = {
                total: [],
                audio: [],
                video: [],
                text: []
            };
            return this.l == Hl && (e.total = Ba(this.h.buffered)),
            e
        }
        ,
        e.getStats = function() {
            if (this.l != Kl && this.l != Hl)
                return {
                    width: NaN,
                    height: NaN,
                    streamBandwidth: NaN,
                    decodedFrames: NaN,
                    droppedFrames: NaN,
                    corruptedFrames: NaN,
                    stallsDetected: NaN,
                    gapsJumped: NaN,
                    estimatedBandwidth: NaN,
                    completionPercent: NaN,
                    loadLatency: NaN,
                    manifestTimeSeconds: NaN,
                    drmTimeSeconds: NaN,
                    playTime: NaN,
                    pauseTime: NaN,
                    bufferingTime: NaN,
                    licenseTime: NaN,
                    liveLatency: NaN,
                    maxSegmentDuration: NaN,
                    switchHistory: [],
                    stateHistory: []
                };
            vl(this);
            var e, t, n = (r = this.h).currentTime / r.duration, i = (isNaN(n) || (t = this.C,
            n = Math.round(100 * n),
            t.i = isNaN(t.i) ? n : Math.max(t.i, n)),
            this.G && (this.C.M = this.G.Bg(),
            this.C.N = this.G.Cg()),
            r.getVideoPlaybackQuality && (t = r.getVideoPlaybackQuality(),
            n = this.C,
            e = Number(t.totalVideoFrames),
            n.L = Number(t.droppedVideoFrames),
            n.K = e,
            this.C.J = Number(t.corruptedVideoFrames)),
            t = this.m ? (t = this.m).K || NaN : NaN,
            this.C.u = t,
            this.l == Kl && (t = this.j.j,
            n = this.j.s,
            t && (a = (e = this.K ? this.K.h : 1) * t.bandwidth,
            n && n.bandwidth && (a += e * n.bandwidth),
            this.C.D = a),
            t && t.video && (n = this.C,
            e = t.video.height || NaN,
            n.s = t.video.width || NaN,
            n.l = e),
            this.R() && (t = this.Vg().valueOf() + 1e3 * r.currentTime,
            this.C.G = (Date.now() - t) / 1e3),
            this.i && this.i.presentationTimeline && (this.C.I = this.i.presentationTimeline.g),
            t = this.u.getBandwidthEstimate(),
            this.C.C = t),
            this.l == Hl && (t = this.C,
            n = r.videoHeight || NaN,
            t.s = r.videoWidth || NaN,
            t.l = n),
            this.C), r = i.s;
            t = i.l,
            n = i.D,
            e = i.K;
            for (var a = i.L, o = i.J, s = i.N, u = i.M, l = i.C, c = i.i, h = i.m, d = i.H, f = i.j, p = Gu(i.g, "playing"), g = Gu(i.g, "paused"), m = Gu(i.g, "buffering"), v = i.u, y = i.G, b = i.I, w = function(e) {
                function t(e) {
                    return {
                        timestamp: e.timestamp,
                        state: e.state,
                        duration: e.duration
                    }
                }
                for (var n = [], i = we(e.h), r = i.next(); !r.done; r = i.next())
                    n.push(t(r.value));
                return e.g && n.push(t(e.g)),
                n
            }(i.g), T = [], A = (i = we(i.h.g)).next(); !A.done; A = i.next())
                A = A.value,
                T.push({
                    timestamp: A.timestamp,
                    id: A.id,
                    type: A.type,
                    fromAdaptation: A.fromAdaptation,
                    bandwidth: A.bandwidth
                });
            return {
                width: r,
                height: t,
                streamBandwidth: n,
                decodedFrames: e,
                droppedFrames: a,
                corruptedFrames: o,
                stallsDetected: s,
                gapsJumped: u,
                estimatedBandwidth: l,
                completionPercent: c,
                loadLatency: h,
                manifestTimeSeconds: d,
                drmTimeSeconds: f,
                playTime: p,
                pauseTime: g,
                bufferingTime: m,
                licenseTime: v,
                liveLatency: y,
                maxSegmentDuration: b,
                stateHistory: w,
                switchHistory: T
            }
        }
        ,
        e.Hh = function(t, n, i, r, a, o, s) {
            s = void 0 !== s && s;
            var u, l, c, h, d, f, p, g = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (g.l != Kl && g.l != Hl)
                        throw new ke(1,7,7004);
                    if ("subtitles" != i && "captions" != i && X("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),
                    r) {
                        e.F(2);
                        break
                    }
                    return Te(e, sl(g, t), 3);
                case 3:
                    r = e.h;
                case 2:
                    if (u = [],
                    g.D && (u = g.D.getCuePoints()),
                    g.l == Hl)
                        return Te(e, ul(g, t, n, i = s ? "forced" : i, r, o || "", u), 5);
                    e.F(4);
                    break;
                case 5:
                    if (l = de(n),
                    d = g.bc(),
                    d = d.find(function(e) {
                        return de(e.language) == l && e.label == (o || "") && e.kind == i
                    }))
                        return xl(g),
                        e.return(d);
                    throw new ke(1,2,2012);
                case 4:
                    if (c = He,
                    h = g.h.duration,
                    1 / 0 == (h = g.i ? g.i.presentationTimeline.getDuration() : h))
                        throw new ke(1,4,4033);
                    if (u.length)
                        return Te(e, ll(g, t, g.J, g.g.streaming.retryParameters), 7);
                    e.F(6);
                    break;
                case 7:
                    d = e.h,
                    f = cl(g, d, r, u),
                    f = new Blob([f],{
                        type: "text/vtt"
                    }),
                    t = Go(f),
                    r = "text/vtt";
                case 6:
                    if (f = {
                        id: g.Ag++,
                        originalId: null,
                        groupId: null,
                        createSegmentIndex: function() {
                            return Promise.resolve()
                        },
                        segmentIndex: cs(0, h, [t]),
                        mimeType: r || "",
                        codecs: a || "",
                        kind: i,
                        encrypted: !1,
                        drmInfos: [],
                        keyIds: new Set,
                        language: n,
                        originalLanguage: n,
                        label: o || null,
                        type: c.Da,
                        primary: !1,
                        trickModeVideo: null,
                        emsgSchemeIdUris: null,
                        roles: [],
                        forced: !!s,
                        channelsCount: null,
                        audioSamplingRate: null,
                        spatialAudio: !1,
                        closedCaptions: null,
                        accessibilityPurpose: null,
                        external: !0,
                        fastSwitching: !1
                    },
                    p = an(f.mimeType, f.codecs),
                    gn(p))
                        return g.i.textStreams.push(f),
                        xl(g),
                        e.return(Zn(f));
                    throw new ke(2,2,2014,r)
                }
            })
        }
        ,
        e.Ih = function(t, n) {
            var i, r, a, o, s, u, l, c, h, d, f, p = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (p.l != Kl && p.l != Hl)
                        throw new ke(1,7,7004);
                    if (n) {
                        e.F(2);
                        break
                    }
                    return Te(e, sl(p, t), 3);
                case 3:
                    n = e.h;
                case 2:
                    if ("text/vtt" != n)
                        throw new ke(1,2,2017,t);
                    if (i = He,
                    r = p.h.duration,
                    1 / 0 == (r = p.i ? p.i.presentationTimeline.getDuration() : r))
                        throw new ke(1,4,4045);
                    return Te(e, ll(p, t, p.J, p.g.streaming.retryParameters), 4);
                case 4:
                    if (f = e.h,
                    !(o = yn[n]))
                        throw new ke(2,2,2014,n);
                    for (o = o(),
                    a = {
                        periodStart: 0,
                        segmentStart: 0,
                        segmentEnd: r,
                        vttOffset: 0
                    },
                    f = ne(f),
                    o = o.parseMedia(f, a, t),
                    s = [],
                    u = {},
                    l = we(o),
                    c = l.next(); !c.done; u = {
                        jd: u.jd,
                        jc: u.jc
                    },
                    c = l.next())
                        u.jc = c.value,
                        u.jd = null,
                        h = function(e) {
                            return function() {
                                return null == e.jd && (e.jd = Fe([t], [e.jc.payload])),
                                e.jd || []
                            }
                        }(u),
                        h = new P(u.jc.startTime,u.jc.endTime,h,0,null,null,0,0,1 / 0),
                        u.jc.payload.includes("#xywh") && (4 === (d = u.jc.payload.split("#xywh=")[1].split(",")).length && h.rh({
                            height: parseInt(d[3], 10),
                            positionX: parseInt(d[0], 10),
                            positionY: parseInt(d[1], 10),
                            width: parseInt(d[2], 10)
                        })),
                        s.push(h);
                    return f = {
                        id: p.Ag++,
                        originalId: null,
                        groupId: null,
                        createSegmentIndex: function() {
                            return Promise.resolve()
                        },
                        segmentIndex: new us(s),
                        mimeType: n || "",
                        codecs: "",
                        kind: "",
                        encrypted: !1,
                        drmInfos: [],
                        keyIds: new Set,
                        language: "und",
                        originalLanguage: null,
                        label: null,
                        type: i.cf,
                        primary: !1,
                        trickModeVideo: null,
                        emsgSchemeIdUris: null,
                        roles: [],
                        forced: !1,
                        channelsCount: null,
                        audioSamplingRate: null,
                        spatialAudio: !1,
                        closedCaptions: null,
                        tilesLayout: "1x1",
                        accessibilityPurpose: null,
                        external: !0,
                        fastSwitching: !1
                    },
                    (p.l == Hl ? p.tc : p.i.imageStreams).push(f),
                    xl(p),
                    e.return(ei(f))
                }
            })
        }
        ,
        e.Gh = function(t, n, i) {
            var r, a, o, s = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (s.l != Kl && s.l != Hl)
                        throw new ke(1,7,7004);
                    if (i) {
                        e.F(2);
                        break
                    }
                    return Te(e, sl(s, t), 3);
                case 3:
                    i = e.h;
                case 2:
                    return a = [],
                    s.D && (a = s.D.getCuePoints()),
                    Te(e, ul(s, t, n, "chapters", i, "", a), 4);
                case 4:
                    if (r = e.h,
                    a = s.Sg(),
                    o = a.find(function(e) {
                        return e.language == n
                    }))
                        return Te(e, new Promise(function(e, t) {
                            s.s.na(r, "load", e),
                            s.s.na(r, "error", function() {
                                t(new ke(1,2,2015))
                            })
                        }
                        ), 6);
                    e.F(5);
                    break;
                case 6:
                    return xl(s),
                    e.return(o);
                case 5:
                    throw new ke(1,2,2012)
                }
            })
        }
        ,
        e.ng = function(e, t) {
            this.Ee.width = e,
            this.Ee.height = t
        }
        ,
        e.eg = function(e) {
            if (this.l == Kl) {
                var t = this.j;
                if (e = void 0 === e ? .1 : e,
                t.l.g)
                    t = !1;
                else if (t.u)
                    t = !1;
                else {
                    for (var n = we(t.i.values()), i = n.next(); !i.done; i = n.next())
                        !(i = i.value).wd || i.Ta || i.Eb || (i.wd = !1,
                        Hs(t, i, e));
                    t = !0
                }
            } else
                t = !1;
            return t
        }
        ,
        e.ki = function() {
            return X("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),
            this.i
        }
        ,
        e.li = function() {
            return this.Ie
        }
        ,
        e.rg = function(e) {
            this.oe = e
        }
        ,
        e.ce = function(t, e) {
            if (!this.g.abr.enabled || this.l === Gl || !navigator.onLine)
                return !1;
            if (this.i.variants.some(function(e) {
                return !(!(e = e[t.type]) || e.id === t.id) && ("audio" != t.type || t.language === e.language)
            })) {
                for (var n = we(this.i.variants), i = n.next(); !i.done; i = n.next()) {
                    var r = (i = i.value)[t.type];
                    r && r.id === t.id && (i.disabledUntilTime = Date.now() / 1e3 + e)
                }
                return this.se.za(1),
                e = this.Lb().video.reduce(function(e, t) {
                    return e + t.end - t.start
                }, 0),
                Al(this, !0, e, !0, !1),
                !0
            }
            return !1
        }
        ,
        n("shaka.Player", l),
        l.prototype.setVideoContainer = l.prototype.rg,
        l.prototype.getManifestParserFactory = l.prototype.li,
        l.prototype.getManifest = l.prototype.ki,
        l.prototype.retryStreaming = l.prototype.eg,
        l.prototype.setMaxHardwareResolution = l.prototype.ng,
        l.prototype.addChaptersTrack = l.prototype.Gh,
        l.prototype.addThumbnailsTrack = l.prototype.Ih,
        l.prototype.addTextTrackAsync = l.prototype.Hh,
        l.prototype.getBufferedInfo = l.prototype.Lb,
        l.prototype.getPresentationStartTimeAsDate = l.prototype.Vg,
        l.prototype.getPlayheadTimeAsDate = l.prototype.oi,
        l.prototype.setTextTrackVisibility = l.prototype.Oe,
        l.prototype.getChapters = l.prototype.Wh,
        l.prototype.getChaptersTracks = l.prototype.Sg,
        l.prototype.isTextTrackVisible = l.prototype.xc,
        l.prototype.selectVariantsByLabel = l.prototype.oj,
        l.prototype.selectTextLanguage = l.prototype.ig,
        l.prototype.selectAudioLanguage = l.prototype.Le,
        l.prototype.getTextLanguages = l.prototype.wi,
        l.prototype.getAudioLanguages = l.prototype.Sh,
        l.prototype.getTextLanguagesAndRoles = l.prototype.xi,
        l.prototype.getAudioLanguagesAndRoles = l.prototype.Th,
        l.prototype.selectVariantTrack = l.prototype.Me,
        l.prototype.selectTextTrack = l.prototype.jg,
        l.prototype.getThumbnails = l.prototype.Kf,
        l.prototype.getAllThumbnails = l.prototype.Rh,
        l.prototype.getImageTracks = l.prototype.fe,
        l.prototype.getTextTracks = l.prototype.bc,
        l.prototype.getVariantTracks = l.prototype.mb,
        l.prototype.cancelTrickPlay = l.prototype.od,
        l.prototype.trickPlay = l.prototype.Pd,
        l.prototype.getPlaybackRate = l.prototype.Nb,
        l.prototype.isBuffering = l.prototype.yd,
        l.prototype.getKeyStatuses = l.prototype.ge,
        l.prototype.getActiveSessionsMetadata = l.prototype.Ff,
        l.prototype.getExpiration = l.prototype.td,
        l.prototype.goToLive = l.prototype.Fi,
        l.prototype.seekRange = l.prototype.Ha,
        l.prototype.isAudioOnly = l.prototype.Pc,
        l.prototype.isInProgress = l.prototype.wc,
        l.prototype.isLive = l.prototype.R,
        l.prototype.getAdManager = l.prototype.ee,
        l.prototype.getAssetUri = l.prototype.Gf,
        l.prototype.getNetworkingEngine = l.prototype.Zb,
        l.prototype.getMediaElement = l.prototype.ni,
        l.prototype.getManifestType = l.prototype.If,
        l.prototype.getLoadMode = l.prototype.ie,
        l.prototype.resetConfiguration = l.prototype.hj,
        l.prototype.getBufferFullness = l.prototype.Uh,
        l.prototype.releaseAllMutexes = l.prototype.dj,
        l.prototype.updateStartTime = l.prototype.xj,
        l.prototype.unload = l.prototype.Wc,
        l.prototype.attachCanvas = l.prototype.Eg,
        l.prototype.attach = l.prototype.Gc,
        l.probeSupport = function(l) {
            var c, h, d, f, p;
            return l = void 0 === l || l,
            Ie(function(e) {
                if (1 == e.g)
                    return c = {},
                    l ? Te(e, Ie(function(e) {
                        return 1 == e.g ? (n = "org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),
                        r = [{
                            videoCapabilities: t = [{
                                contentType: 'video/mp4; codecs="avc1.42E01E"'
                            }, {
                                contentType: 'video/webm; codecs="vp8"'
                            }],
                            persistentState: "required",
                            sessionTypes: ["persistent-license"]
                        }, {
                            initDataTypes: ["cenc"],
                            videoCapabilities: t
                        }],
                        a = new Map,
                        t = function(t) {
                            var n, i;
                            return Ie(function(e) {
                                switch (e.g) {
                                case 1:
                                    if (Ee(e, 2),
                                    "org.w3.clearkey" === t && Un())
                                        throw Error("Unsupported keySystem");
                                    return Te(e, navigator.requestMediaKeySystemAccess(t, r), 4);
                                case 4:
                                    return n = e.h,
                                    i = !!(i = n.getConfiguration().sessionTypes) && i.includes("persistent-license"),
                                    Ln() && (i = !1),
                                    a.set(t, {
                                        persistentState: i
                                    }),
                                    Te(e, n.createMediaKeys(), 5);
                                case 5:
                                    Se(e, 0);
                                    break;
                                case 2:
                                    xe(e),
                                    a.set(t, null),
                                    Ae(e)
                                }
                            })
                        }
                        ,
                        n = n.map(t),
                        Te(e, Promise.all(n), 2)) : e.return(sr(a))
                    }), 3) : e.F(2);
                2 != e.g && (c = e.h);
                var r, a, t, n, i = {};
                if (xn())
                    for (var o in Ca)
                        i[o] = !0;
                for (var s = (o = we(["application/dash+xml", "application/x-mpegurl", "application/vnd.apple.mpegurl", "application/vnd.ms-sstr+xml"])).next(); !s.done; s = o.next())
                    i[s = s.value] = xn() ? !!Ca[s] : In(s);
                for (h = i,
                i = {},
                s = (o = we(o = 'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(le(fn)))).next(); !s.done; s = o.next()) {
                    i[s = s.value] = xn() ? !!gn(s) || (ut(s) || !!Qt(s)) : In(s);
                    var u = s.split(";")[0];
                    i[u] = i[u] || i[s]
                }
                for (p in d = {
                    manifest: h,
                    media: i,
                    drm: c
                },
                f = Wl)
                    d[p] = f[p]();
                return e.return(d)
            })
        }
        ,
        l.isBrowserSupported = Wu,
        l.setAdManagerFactory = function(e) {
            ql = e
        }
        ,
        l.registerSupportPlugin = function(e, t) {
            Wl[e] = t
        }
        ;
        var Gl = 0
          , Vl = 1
          , Kl = 2
          , Hl = 3
          , zl = (l.LoadMode = {
            DESTROYED: Gl,
            NOT_LOADED: Vl,
            MEDIA_SOURCE: Kl,
            SRC_EQUALS: Hl
        },
        l.version = "v4.7.11",
        ["4", "7"])
          , Ei = new function(e) {
            this.g = e,
            this.i = Ti,
            this.h = Ai
        }
        (new bi(Number(zl[0]),Number(zl[1])))
          , Xl = ["output-restricted", "internal-error"]
          , Wl = {}
          , ql = null;
        function Yl() {
            this.h = [],
            this.j = this.i = this.g = 0
        }
        function Jl(e, t, n) {
            var i = this;
            this.g = e,
            this.h = t,
            this.j = n,
            this.i = !1,
            this.l = this.h.getVolume(),
            this.m = new nr,
            this.m.o(this.h, google.ima.AdEvent.Type.PAUSED, function() {
                i.i = !0
            }),
            this.m.o(this.h, google.ima.AdEvent.Type.RESUMED, function() {
                i.i = !1
            })
        }
        function Ql(e, t, n, i, r) {
            var u = this;
            this.s = e,
            this.i = t,
            this.D = !1,
            this.u = this.G = null,
            this.H = NaN,
            this.m = r,
            this.j = null,
            this.h = new nr,
            google.ima.settings.setLocale(n),
            google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),
            (e = new google.ima.AdDisplayContainer(this.s,this.i)).initialize(),
            this.l = new google.ima.AdsLoader(e),
            this.l.getSettings().setPlayerType("shaka-player"),
            this.l.getSettings().setPlayerVersion("v4.7.11"),
            this.g = null,
            this.C = i || new google.ima.AdsRenderingSettings,
            this.h.o(this.l, google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function(e) {
                var t, n = u, i = e, r = (n.m(new ce("ads-loaded",(new Map).set("loadTime", Date.now() / 1e3 - n.H))),
                n.G.customPlayheadTracker ? (t = {
                    currentTime: n.i.currentTime
                },
                n.g = i.getAdsManager(t, n.C),
                n.i.muted ? n.g.setVolume(0) : n.g.setVolume(n.i.volume),
                n.h.o(n.i, "timeupdate", function() {
                    n.i.duration && (t.currentTime = n.i.currentTime)
                }),
                n.h.o(n.i, "volumechange", function() {
                    n.j && (n.j.setVolume(n.i.volume),
                    n.i.muted && n.j.setMuted(!0))
                })) : n.g = i.getAdsManager(n.i, n.C),
                n.m(new ce("ima-ad-manager-loaded",(new Map).set("imaAdManager", n.g))),
                n.g.getCuePoints());
                if (r.length) {
                    i = [];
                    for (var a = (r = we(r)).next(); !a.done; a = r.next())
                        i.push({
                            start: a.value,
                            end: null
                        });
                    n.m(new ce("ad-cue-points-changed",(new Map).set("cuepoints", i)))
                }
                var o = n;
                function s(e, t) {
                    e = (new Map).set("originalEvent", e),
                    o.m(new ce(t,e))
                }
                o.h.o(o.g, google.ima.AdErrorEvent.Type.AD_ERROR, function(e) {
                    $l(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, function(e) {
                    ec(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.STARTED, function(e) {
                    ec(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.FIRST_QUARTILE, function(e) {
                    s(e, "ad-first-quartile")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.MIDPOINT, function(e) {
                    s(e, "ad-midpoint")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.THIRD_QUARTILE, function(e) {
                    s(e, "ad-third-quartile")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.COMPLETE, function(e) {
                    s(e, "ad-complete")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, function(e) {
                    tc(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, function(e) {
                    tc(o, e)
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.SKIPPED, function(e) {
                    s(e, "ad-skipped")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.VOLUME_CHANGED, function(e) {
                    s(e, "ad-volume-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.VOLUME_MUTED, function(e) {
                    s(e, "ad-muted")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.PAUSED, function(e) {
                    o.j && (o.j.i = !0,
                    s(e, "ad-paused"))
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.RESUMED, function(e) {
                    o.j && (o.j.i = !1,
                    s(e, "ad-resumed"))
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED, function(e) {
                    o.j && s(e, "ad-skip-state-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.CLICK, function(e) {
                    s(e, "ad-clicked")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_PROGRESS, function(e) {
                    s(e, "ad-progress")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_BUFFERING, function(e) {
                    s(e, "ad-buffering")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.IMPRESSION, function(e) {
                    s(e, "ad-impression")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.DURATION_CHANGE, function(e) {
                    s(e, "ad-duration-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.USER_CLOSE, function(e) {
                    s(e, "ad-closed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.LOADED, function(e) {
                    s(e, "ad-loaded")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, function(e) {
                    s(e, "all-ads-completed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.LINEAR_CHANGED, function(e) {
                    s(e, "ad-linear-changed")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_METADATA, function(e) {
                    s(e, "ad-metadata")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.LOG, function(e) {
                    s(e, "ad-recoverable-error")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.AD_BREAK_READY, function(e) {
                    s(e, "ad-break-ready")
                }),
                o.h.o(o.g, google.ima.AdEvent.Type.INTERACTION, function(e) {
                    s(e, "ad-interaction")
                });
                try {
                    n.g.init(n.i.offsetWidth, n.i.offsetHeight, Zl(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL),
                    n.h.o(n.i, "loadeddata", function() {
                        n.g.resize(n.i.offsetWidth, n.i.offsetHeight, Zl(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
                    }),
                    "ResizeObserver"in z ? (n.u = new ResizeObserver(function() {
                        n.g.resize(n.i.offsetWidth, n.i.offsetHeight, Zl(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
                    }
                    ),
                    n.u.observe(n.i)) : n.h.o(document, "fullscreenchange", function() {
                        n.g.resize(n.i.offsetWidth, n.i.offsetHeight, Zl(n) ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
                    }),
                    n.D ? n.g.start() : n.h.na(n.i, "play", function() {
                        n.D = !0,
                        n.g.start()
                    })
                } catch (e) {
                    tc(n, null)
                }
            }),
            this.h.o(this.l, google.ima.AdErrorEvent.Type.AD_ERROR, function(e) {
                $l(u, e)
            }),
            this.h.o(this.i, "ended", function() {
                u.l.contentComplete()
            }),
            this.h.na(this.i, "play", function() {
                u.D = !0
            })
        }
        function $l(e, t) {
            t.getError(),
            t = (new Map).set("originalEvent", t),
            e.m(new ce("ad-error",t)),
            tc(e, null),
            e.m(new ce("ad-cue-points-changed",(new Map).set("cuepoints", [])))
        }
        function Zl(e) {
            return document.fullscreenEnabled ? document.fullscreenElement : (e = e.i).webkitSupportsFullscreen && e.webkitDisplayingFullscreen
        }
        function ec(e, t) {
            var n = t.getAd();
            n ? (e.j = new Jl(n,e.g,e.i),
            t = (new Map).set("ad", e.j).set("sdkAdObject", n).set("originalEvent", t),
            e.m(new ce("ad-started",t)),
            e.j.isLinear() && (e.s.setAttribute("ad-active", "true"),
            e.i.pause(),
            e.i.muted ? ((t = e.j).l = e.i.volume,
            t.h.setVolume(0)) : e.j.setVolume(e.i.volume))) : X("The IMA SDK fired a " + t.type + " event with no associated ad. Unable to play ad!")
        }
        function tc(e, t) {
            e.m(new ce("ad-stopped",(new Map).set("originalEvent", t))),
            e.j && e.j.isLinear() && (e.s.removeAttribute("ad-active"),
            e.i.ended || e.i.play())
        }
        function nc(e, t, n, i, r) {
            this.h = e,
            this.g = r,
            this.i = t,
            this.j = n,
            this.l = i
        }
        function ic(e, t, n, i) {
            this.D = e,
            this.K = t,
            this.g = n,
            this.l = null,
            this.W = NaN,
            this.i = i,
            this.J = !1,
            this.C = null,
            this.j = [],
            this.M = [],
            this.L = this.G = this.h = null,
            this.H = new Map,
            this.m = [],
            this.u = [],
            this.N = "",
            this.V = !0,
            this.I = "",
            this.s = new nr
        }
        function rc(e) {
            return [e.adId, e.adParameters, e.adSystem, e.adTitle, e.creativeAdId, e.creativeId, e.creativeSequence, e.height, e.width, e.staticResource].join("")
        }
        function ac(e) {
            var t = e.g.currentTime;
            if (0 != t && null == e.C) {
                for (var n, i, r = we(e.j), a = r.next(); !a.done; a = r.next())
                    for (var o = we((a = a.value).ads), s = o.next(); !s.done; s = o.next())
                        if (s = s.value,
                        i) {
                            if (s.startTimeInSeconds < t && s.startTimeInSeconds > i.startTimeInSeconds + i.durationInSeconds) {
                                i = s,
                                n = a;
                                break
                            }
                        } else
                            s.startTimeInSeconds < t && (i = s,
                            n = a);
                n && i && !e.M.includes(i.adId) && (e.C = t,
                e.g.currentTime = n.startTimeInSeconds)
            }
        }
        function oc(e) {
            if (e.g.duration && (e.h || e.j.length)) {
                var t, n, i, r = e.g.currentTime, a = !1;
                if (e.h && (a = !0,
                n = (t = e.G).startTimeInSeconds + .5 * t.durationInSeconds,
                i = t.startTimeInSeconds + .75 * t.durationInSeconds,
                r >= t.startTimeInSeconds + .25 * t.durationInSeconds && !e.u.includes("firstQuartile") ? (e.u.push("firstQuartile"),
                lc(e, "firstQuartile")) : n <= r && !e.u.includes("midpoint") ? (e.u.push("midpoint"),
                lc(e, "midpoint")) : i <= r && !e.u.includes("thirdQuartile") && (e.u.push("thirdQuartile"),
                lc(e, "thirdQuartile")),
                t = e.h.getRemainingTime(),
                0 < (n = e.h.getDuration()) && (t <= 0 || n < t) && sc(e)),
                !e.h || !e.h.isLinear()) {
                    e: for (t = we(e.j),
                    n = t.next(); !n.done && (n = n.value,
                    !e.h || !e.h.isLinear()); n = t.next())
                        for (i = 0; i < n.ads.length; i++) {
                            var o = n.ads[i]
                              , s = o.startTimeInSeconds + o.durationInSeconds;
                            if (o.startTimeInSeconds <= r && r < s) {
                                if (e.M.includes(o.adId)) {
                                    if (e.g.ended)
                                        continue;
                                    e.g.currentTime = s;
                                    break e
                                }
                                sc(e),
                                e.L = n,
                                e.h = new nc(o,i + 1,n.ads.length,!0,e.g),
                                e.G = o,
                                0 === i && lc(e, "breakStart"),
                                uc(e);
                                break
                            }
                        }
                    if (!e.h)
                        for (n = (t = we(e.j)).next(); !n.done && (n = n.value,
                        !e.h); n = t.next())
                            for (i = 0; i < n.nonLinearAdsList.length; i++)
                                if ((o = n.nonLinearAdsList[i]).nonLinearAdList.length) {
                                    s = n.startTimeInSeconds;
                                    var u = e.H.get(rc(o.nonLinearAdList[0]));
                                    if (s <= r && u && u.length) {
                                        sc(e);
                                        for (var l, s = e, c = (u = we(u)).next(); !c.done; c = u.next())
                                            (c = c.value).data.source.length && ((l = document.createElement("img")).src = c.data.source[0].url,
                                            l.style.top = (c.placeholder.top || 0) + "%",
                                            l.style.height = 100 - (c.placeholder.top || 0) + "%",
                                            l.style.left = (c.placeholder.left || 0) + "%",
                                            l.style.maxWidth = 100 - (c.placeholder.left || 0) + "%",
                                            l.style.objectFit = "contain",
                                            l.style.position = "absolute",
                                            s.D.appendChild(l));
                                        e.L = n,
                                        e.h = new nc(o,i + 1,n.ads.length,!1,e.g),
                                        e.G = o,
                                        0 === i && lc(e, "breakStart"),
                                        uc(e);
                                        break
                                    }
                                }
                    a && !e.h && (r = e.g.currentTime,
                    e.C && e.C > r && (e.g.currentTime = e.C),
                    e.C = null)
                }
            }
        }
        function sc(e) {
            if (e.h) {
                for (; e.D.lastChild; )
                    e.D.removeChild(e.D.firstChild);
                e.J || e.M.push(e.G.adId),
                lc(e, "complete");
                for (var t = we(e.m), n = t.next(); !n.done; n = t.next())
                    n = n.value,
                    e.s.hc(n.target, n.type, n.listener);
                e.m = [],
                e.u = [],
                (t = e.h.getPositionInSequence()) === (n = e.h.getSequenceLength()) && lc(e, "breakEnd"),
                e.h = null,
                e.G = null,
                e.L = null
            }
        }
        function uc(e) {
            var t = !1;
            e.g.paused ? t = !0 : (lc(e, "impression"),
            lc(e, "start")),
            e.m.push({
                target: e.g,
                type: "volumechange",
                listener: function() {
                    e.g.muted && lc(e, "mute")
                }
            }),
            e.m.push({
                target: e.g,
                type: "volumechange",
                listener: function() {
                    e.g.muted || lc(e, "unmute")
                }
            }),
            e.m.push({
                target: e.g,
                type: "play",
                listener: function() {
                    t ? (lc(e, "impression"),
                    lc(e, "start"),
                    t = !1) : lc(e, "resume")
                }
            }),
            e.m.push({
                target: e.g,
                type: "pause",
                listener: function() {
                    lc(e, "pause")
                }
            });
            for (var n = we(e.m), i = n.next(); !i.done; i = n.next())
                i = i.value,
                e.s.o(i.target, i.type, i.listener)
        }
        function lc(e, t) {
            var n = e.G.trackingEvents.find(function(e) {
                return e.eventType == t
            });
            if (n = n || e.L.adBreakTrackingEvents.find(function(e) {
                return e.eventType == t
            }))
                for (var i = (n = we(n.beaconUrls)).next(); !i.done; i = n.next())
                    (i = i.value) && "" != i && ((i = qi([i], Ui())).method = "POST",
                    e.K.request(7, i));
            switch (t) {
            case "impression":
                e.i(new ce("ad-impression"));
                break;
            case "start":
                e.i(new ce("ad-started",(new Map).set("ad", e.h)));
                break;
            case "mute":
                e.i(new ce("ad-muted"));
                break;
            case "unmute":
                e.i(new ce("ad-volume-changed"));
                break;
            case "resume":
                e.i(new ce("ad-resumed"));
                break;
            case "pause":
                e.i(new ce("ad-paused"));
                break;
            case "firstQuartile":
                e.i(new ce("ad-first-quartile"));
                break;
            case "midpoint":
                e.i(new ce("ad-midpoint"));
                break;
            case "thirdQuartile":
                e.i(new ce("ad-third-quartile"));
                break;
            case "complete":
                e.i(new ce("ad-complete")),
                e.i(new ce("ad-stopped"));
                break;
            case "breakStart":
                e.D.setAttribute("ad-active", "true");
                break;
            case "breakEnd":
                e.D.removeAttribute("ad-active")
            }
        }
        function cc(e, t) {
            this.g = e,
            this.i = null,
            this.h = t
        }
        function hc(e, t, n, i) {
            var r = this;
            this.u = e,
            this.l = t,
            this.j = null,
            this.H = NaN,
            this.i = i,
            this.I = !1,
            this.C = this.m = this.s = null,
            this.D = "",
            this.G = [],
            this.h = new nr,
            (e = new google.ima.dai.api.UiSettings).setLocale(n),
            this.g = new google.ima.dai.api.StreamManager(this.l,this.u,e),
            this.i(new ce("ima-stream-manager-loaded",(new Map).set("imaStreamManager", this.g))),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.LOADED, function(e) {
                var n;
                e = e,
                (n = r).i(new ce("ads-loaded",(new Map).set("loadTime", Date.now() / 1e3 - n.H))),
                e = e.getStreamData().url,
                n.j.resolve(e),
                n.j = null,
                n.I || n.h.o(n.l, "seeked", function() {
                    var e, t = n.l.currentTime;
                    0 != t && (n.g.streamTimeForContentTime(t),
                    (e = n.g.previousCuePointForStreamTime(t)) && !e.played && (n.s = t,
                    n.l.currentTime = e.start))
                })
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.ERROR, function() {
                r.D.length ? r.j.resolve(r.D) : r.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),
                r.j = null
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED, function() {}),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.STARTED, function(e) {
                e = e.getAd(),
                r.m = new cc(e,r.l),
                r.C && (r.m.i = r.C),
                r.i(new ce("ad-started",(new Map).set("ad", r.m))),
                r.u.setAttribute("ad-active", "true")
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED, function() {
                r.u.removeAttribute("ad-active");
                var e = r.l.currentTime;
                r.s && r.s > e && (r.l.currentTime = r.s,
                r.s = null)
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.AD_PROGRESS, function(e) {
                r.C = e.getStreamData().adProgressData,
                r.m && (r.m.i = r.C)
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE, function() {
                r.i(new ce("ad-first-quartile"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.MIDPOINT, function() {
                r.i(new ce("ad-midpoint"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE, function() {
                r.i(new ce("ad-third-quartile"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.COMPLETE, function() {
                r.i(new ce("ad-complete")),
                r.i(new ce("ad-stopped")),
                r.u.removeAttribute("ad-active"),
                r.m = null
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.SKIPPED, function() {
                r.i(new ce("ad-skipped")),
                r.i(new ce("ad-stopped"))
            }),
            this.h.o(this.g, google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED, function(e) {
                var t = e.getStreamData();
                e = [];
                for (var n = (t = we(t.cuepoints)).next(); !n.done; n = t.next())
                    n = n.value,
                    e.push({
                        start: n.start,
                        end: n.end
                    });
                r.G = e,
                r.i(new ce("ad-cue-points-changed",(new Map).set("cuepoints", e)))
            })
        }
        function dc() {
            d.call(this),
            this.g = this.i = this.h = null,
            this.j = new Yl,
            this.m = navigator.language,
            this.l = null
        }
        function fc(e, t) {
            if (t && t.type)
                switch (t.type) {
                case "ads-loaded":
                    e.j.h.push(t.loadTime);
                    break;
                case "ad-started":
                    e.j.g++;
                    break;
                case "ad-complete":
                    e.j.i++;
                    break;
                case "ad-skipped":
                    e.j.j++
                }
            e.dispatchEvent(t)
        }
        function pc(e) {
            return JSON.stringify(e, function(e, t) {
                if ("function" != typeof t) {
                    if (t instanceof Event || t instanceof ce) {
                        var n = {};
                        for (i in t)
                            (e = t[i]) && "object" == typeof e ? "detail" == i && (n[i] = e) : i in Event || (n[i] = e);
                        return n
                    }
                    if (t instanceof Error) {
                        var i = new Set(["name", "message", "stack"]);
                        for (n in t)
                            i.add(n);
                        for (n = (e = we(Object.getOwnPropertyNames(t))).next(); !n.done; n = e.next())
                            i.add(n.value);
                        for (e = {},
                        n = (i = we(i)).next(); !n.done; n = i.next())
                            e[n = n.value] = t[n];
                        t = {
                            __type__: "Error",
                            contents: e
                        }
                    } else if (t instanceof TimeRanges) {
                        for (i = {
                            __type__: "TimeRanges",
                            length: t.length,
                            start: [],
                            end: []
                        },
                        n = (t = we(Ba(t))).next(); !n.done; n = t.next())
                            e = (n = n.value).end,
                            i.start.push(n.start),
                            i.end.push(e);
                        t = i
                    } else
                        t = t instanceof Uint8Array ? {
                            __type__: "Uint8Array",
                            entries: Array.from(t)
                        } : "number" == typeof t ? isNaN(t) ? "NaN" : isFinite(t) ? t : t < 0 ? "-Infinity" : "Infinity" : t;
                    return t
                }
            })
        }
        function gc(e) {
            return JSON.parse(e, function(e, t) {
                if ("NaN" == t)
                    var n = NaN;
                else if ("-Infinity" == t)
                    n = -1 / 0;
                else if ("Infinity" == t)
                    n = 1 / 0;
                else if (t && "object" == typeof t && "TimeRanges" == t.__type__)
                    n = {
                        length: (i = t).length,
                        start: function(e) {
                            return i.start[e]
                        },
                        end: function(e) {
                            return i.end[e]
                        }
                    };
                else if (t && "object" == typeof t && "Uint8Array" == t.__type__)
                    n = new Uint8Array(t.entries);
                else if (t && "object" == typeof t && "Error" == t.__type__) {
                    for (n in e = t.contents,
                    t = Error(e.message),
                    e)
                        t[n] = e[n];
                    n = t
                } else
                    n = t;
                var i;
                return n
            })
        }
        (e = Jl.prototype).getDuration = function() {
            return this.g.getDuration()
        }
        ,
        e.getMinSuggestedDuration = function() {
            return this.g.getMinSuggestedDuration()
        }
        ,
        e.getRemainingTime = function() {
            return this.h.getRemainingTime()
        }
        ,
        e.isPaused = function() {
            return this.i
        }
        ,
        e.isSkippable = function() {
            return 0 <= this.g.getSkipTimeOffset()
        }
        ,
        e.getTimeUntilSkippable = function() {
            var e = this.g.getSkipTimeOffset()
              , e = this.getRemainingTime() - e;
            return Math.max(e, 0)
        }
        ,
        e.canSkipNow = function() {
            return this.h.getAdSkippableState()
        }
        ,
        e.skip = function() {
            return this.h.skip()
        }
        ,
        e.pause = function() {
            return this.h.pause()
        }
        ,
        e.play = function() {
            return this.h.resume()
        }
        ,
        e.getVolume = function() {
            return this.h.getVolume()
        }
        ,
        e.setVolume = function(e) {
            return this.j.volume = e,
            this.h.setVolume(e)
        }
        ,
        e.isMuted = function() {
            return 0 == this.h.getVolume()
        }
        ,
        e.isLinear = function() {
            return this.g.isLinear()
        }
        ,
        e.resize = function(e, t) {
            var n = !1
              , i = this.j;
            document.fullscreenEnabled ? n = !!document.fullscreenElement : i.webkitSupportsFullscreen && (n = i.webkitDisplayingFullscreen),
            this.h.resize(e, t, n ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL)
        }
        ,
        e.setMuted = function(e) {
            (this.j.muted = e) ? (this.l = this.getVolume(),
            this.h.setVolume(0)) : this.h.setVolume(this.l)
        }
        ,
        e.getSequenceLength = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getTotalAds()
        }
        ,
        e.getPositionInSequence = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getAdPosition()
        }
        ,
        e.getTitle = function() {
            return this.g.getTitle()
        }
        ,
        e.getDescription = function() {
            return this.g.getDescription()
        }
        ,
        e.getVastMediaBitrate = function() {
            return this.g.getVastMediaBitrate()
        }
        ,
        e.getVastMediaHeight = function() {
            return this.g.getVastMediaHeight()
        }
        ,
        e.getVastMediaWidth = function() {
            return this.g.getVastMediaWidth()
        }
        ,
        e.getAdId = function() {
            return this.g.getAdId()
        }
        ,
        e.getCreativeAdId = function() {
            return this.g.getCreativeAdId()
        }
        ,
        e.getAdvertiserName = function() {
            return this.g.getAdvertiserName()
        }
        ,
        e.getMediaUrl = function() {
            return this.g.getMediaUrl()
        }
        ,
        e.getTimeOffset = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getTimeOffset()
        }
        ,
        e.getPodIndex = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getPodIndex()
        }
        ,
        e.release = function() {
            this.h = this.g = null
        }
        ,
        n("shaka.ads.ClientSideAd", Jl),
        Ql.prototype.configure = function(e) {
            this.G = e
        }
        ,
        Ql.prototype.stop = function() {
            this.g && this.g.stop(),
            this.s && iu(this.s)
        }
        ,
        Ql.prototype.release = function() {
            this.stop(),
            this.u && this.u.disconnect(),
            this.h && this.h.release(),
            this.g && this.g.destroy(),
            this.l.destroy()
        }
        ,
        (e = nc.prototype).getDuration = function() {
            return this.h.durationInSeconds
        }
        ,
        e.getMinSuggestedDuration = function() {
            return this.getDuration()
        }
        ,
        e.getRemainingTime = function() {
            return this.h.startTimeInSeconds + this.h.durationInSeconds - this.g.currentTime
        }
        ,
        e.isPaused = function() {
            return this.g.paused
        }
        ,
        e.isSkippable = function() {
            return !!this.h.skipOffset
        }
        ,
        e.getTimeUntilSkippable = function() {
            if (!this.h.skipOffset)
                return this.getRemainingTime();
            var e = this.getRemainingTime() - this.h.skipOffset;
            return Math.max(e, 0)
        }
        ,
        e.canSkipNow = function() {
            return 0 == this.getTimeUntilSkippable()
        }
        ,
        e.skip = function() {
            this.g.currentTime += this.getRemainingTime()
        }
        ,
        e.pause = function() {
            return this.g.pause()
        }
        ,
        e.play = function() {
            return this.g.play()
        }
        ,
        e.getVolume = function() {
            return this.g.volume
        }
        ,
        e.setVolume = function(e) {
            this.g.volume = e
        }
        ,
        e.isMuted = function() {
            return this.g.muted
        }
        ,
        e.isLinear = function() {
            return this.l
        }
        ,
        e.resize = function() {}
        ,
        e.setMuted = function(e) {
            this.g.muted = e
        }
        ,
        e.getSequenceLength = function() {
            return this.j || 1
        }
        ,
        e.getPositionInSequence = function() {
            return this.i || 1
        }
        ,
        e.getTitle = function() {
            return this.h.adTitle
        }
        ,
        e.getDescription = function() {
            return ""
        }
        ,
        e.getVastMediaBitrate = function() {
            return 0
        }
        ,
        e.getVastMediaHeight = function() {
            return 0
        }
        ,
        e.getVastMediaWidth = function() {
            return 0
        }
        ,
        e.getAdId = function() {
            return this.h.adId
        }
        ,
        e.getCreativeAdId = function() {
            return this.h.creativeId
        }
        ,
        e.getAdvertiserName = function() {
            return ""
        }
        ,
        e.getMediaUrl = function() {
            return null
        }
        ,
        e.getTimeOffset = function() {
            return 0
        }
        ,
        e.getPodIndex = function() {
            return 0
        }
        ,
        e.release = function() {
            this.j = this.i = this.g = this.h = null
        }
        ,
        n("shaka.ads.MediaTailorAd", nc),
        ic.prototype.stop = function() {
            for (var e = we(this.m), t = e.next(); !t.done; t = e.next())
                t = t.value,
                this.s.hc(t.target, t.type, t.listener);
            sc(this),
            this.m = [],
            this.u = [],
            this.N = "",
            this.V = !0,
            this.I = "",
            this.C = null,
            this.j = [],
            this.M = [],
            this.H.clear()
        }
        ,
        ic.prototype.release = function() {
            this.stop(),
            this.s && this.s.release()
        }
        ,
        ic.prototype.onManifestUpdated = function(e) {
            var n, i, r, a, o, s, u, l, c, h, d, f, p, g, m;
            this.J = e,
            "" != this.N && (i = (n = this).N,
            r = this.V,
            Ie(function(e) {
                if (1 == e.g)
                    return a = qi([i], Ui()),
                    a = n.K.request(7, a),
                    Ee(e, 2),
                    Te(e, a.promise, 4);
                if (2 != e.g) {
                    if (a = e.h,
                    o = [],
                    s = lr(a.data),
                    0 < (s = JSON.parse(s)).avails.length) {
                        if (JSON.stringify(n.j) != JSON.stringify(s.avails)) {
                            for (n.j = s.avails,
                            u = we(n.j),
                            l = u.next(); !l.done; l = u.next())
                                for (c = l.value,
                                h = we(c.nonLinearAdsList),
                                d = h.next(); !d.done; d = h.next())
                                    for (f = d.value,
                                    p = we(f.nonLinearAdList),
                                    g = p.next(); !g.done; g = p.next())
                                        m = g.value,
                                        function(t, n) {
                                            var i, r, a;
                                            Ie(function(e) {
                                                return 1 == e.g ? n.staticResource ? (i = rc(n),
                                                t.H.get(i) ? e.return() : (r = qi([n.staticResource], Ui()),
                                                r = t.K.request(7, r),
                                                Ee(e, 2),
                                                t.H.set(i, []),
                                                Te(e, r.promise, 4))) : e.return() : 2 != e.g ? (r = e.h,
                                                a = lr(r.data),
                                                a = JSON.parse(a),
                                                a = a.apps,
                                                t.H.set(i, a),
                                                Se(e, 0)) : (xe(e),
                                                t.H.delete(i),
                                                void Ae(e))
                                            })
                                        }(n, m);
                            o = n.getCuePoints(),
                            n.i(new ce("ad-cue-points-changed",(new Map).set("cuepoints", o)))
                        }
                    } else
                        n.j.length && n.i(new ce("ad-cue-points-changed",(new Map).set("cuepoints", o))),
                        sc(n),
                        n.j = [];
                    return r && (n.J || 0 < o.length) && (oc(t = n),
                    t.J || (ac(t),
                    t.s.o(t.g, "seeked", function() {
                        ac(t)
                    }),
                    t.s.o(t.g, "ended", function() {
                        sc(t)
                    })),
                    t.s.o(t.g, "timeupdate", function() {
                        oc(t)
                    })),
                    Se(e, 0)
                }
                var t;
                xe(e),
                Ae(e)
            }),
            this.V = !1)
        }
        ,
        ic.prototype.getCuePoints = function() {
            for (var e = [], t = we(this.j), n = t.next(); !n.done; n = t.next())
                for (var i = (n = we(n.value.ads)).next(); !i.done; i = n.next())
                    i = i.value,
                    e.push({
                        start: i.startTimeInSeconds,
                        end: i.startTimeInSeconds + i.durationInSeconds
                    });
            return e
        }
        ,
        (e = cc.prototype).getDuration = function() {
            return this.i ? this.i.duration : -1
        }
        ,
        e.getMinSuggestedDuration = function() {
            return this.getDuration()
        }
        ,
        e.getRemainingTime = function() {
            return this.i ? this.i.duration - this.i.currentTime : -1
        }
        ,
        e.isPaused = function() {
            return this.h.paused
        }
        ,
        e.isSkippable = function() {
            return this.g.isSkippable()
        }
        ,
        e.getTimeUntilSkippable = function() {
            var e = this.g.getSkipTimeOffset()
              , e = this.getRemainingTime() - e;
            return Math.max(e, 0)
        }
        ,
        e.canSkipNow = function() {
            return 0 == this.getTimeUntilSkippable()
        }
        ,
        e.skip = function() {
            this.h.currentTime += this.getRemainingTime()
        }
        ,
        e.pause = function() {
            return this.h.pause()
        }
        ,
        e.play = function() {
            return this.h.play()
        }
        ,
        e.getVolume = function() {
            return this.h.volume
        }
        ,
        e.setVolume = function(e) {
            this.h.volume = e
        }
        ,
        e.isMuted = function() {
            return this.h.muted
        }
        ,
        e.isLinear = function() {
            return !0
        }
        ,
        e.resize = function() {}
        ,
        e.setMuted = function(e) {
            this.h.muted = e
        }
        ,
        e.getSequenceLength = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getTotalAds()
        }
        ,
        e.getPositionInSequence = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 1 : e.getAdPosition()
        }
        ,
        e.getTitle = function() {
            return this.g.getTitle()
        }
        ,
        e.getDescription = function() {
            return this.g.getDescription()
        }
        ,
        e.getVastMediaBitrate = function() {
            return 0
        }
        ,
        e.getVastMediaHeight = function() {
            return this.g.getVastMediaHeight()
        }
        ,
        e.getVastMediaWidth = function() {
            return this.g.getVastMediaWidth()
        }
        ,
        e.getAdId = function() {
            return this.g.getAdId()
        }
        ,
        e.getCreativeAdId = function() {
            return this.g.getCreativeAdId()
        }
        ,
        e.getAdvertiserName = function() {
            return this.g.getAdvertiserName()
        }
        ,
        e.getMediaUrl = function() {
            return null
        }
        ,
        e.getTimeOffset = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getTimeOffset()
        }
        ,
        e.getPodIndex = function() {
            var e = this.g.getAdPodInfo();
            return null == e ? 0 : e.getPodIndex()
        }
        ,
        e.release = function() {
            this.h = this.i = this.g = null
        }
        ,
        n("shaka.ads.ServerSideAd", cc),
        (e = hc.prototype).configure = function() {}
        ,
        e.stop = function() {
            this.D = "",
            this.s = null,
            this.G = []
        }
        ,
        e.release = function() {
            this.stop(),
            this.h && this.h.release()
        }
        ,
        e.onCueMetadataChange = function(e) {
            var t;
            e.key && e.data && ((t = {})[e.key] = e.data,
            this.g.onTimedMetadata(t))
        }
        ,
        e.getCuePoints = function() {
            return this.G
        }
        ,
        t(dc, d),
        (e = dc.prototype).setLocale = function(e) {
            this.m = e
        }
        ,
        e.configure = function(e) {
            this.l = e,
            this.h && this.h.configure(this.l),
            this.g && this.g.configure(this.l)
        }
        ,
        e.initClientSide = function(e, t, n) {
            var i = this;
            if (!z.google || !google.ima || !google.ima.AdsLoader)
                throw new ke(2,10,1e4);
            this.h && this.h.release(),
            this.h = new Ql(e,t,this.m,n,function(e) {
                return fc(i, e)
            }
            ),
            this.h.configure(this.l)
        }
        ,
        e.release = function() {
            this.h && (this.h.release(),
            this.h = null),
            this.i && (this.i.release(),
            this.i = null),
            this.g && (this.g.release(),
            this.g = null),
            d.prototype.release.call(this)
        }
        ,
        e.onAssetUnload = function() {
            this.h && this.h.stop(),
            this.i && this.i.stop(),
            this.g && this.g.stop(),
            this.dispatchEvent(new ce("ad-stopped")),
            this.j = new Yl
        }
        ,
        e.requestClientSideAds = function(e) {
            if (!this.h)
                throw new ke(1,10,10001);
            var t = this.h;
            t.g && t.g.destroy(),
            t.l && t.l.contentComplete(),
            t.H = Date.now() / 1e3,
            t.l.requestAds(e)
        }
        ,
        e.updateClientSideAdsRenderingSettings = function(e) {
            if (!this.h)
                throw new ke(1,10,10001);
            var t = this.h;
            t.C = e,
            t.g && t.g.updateAdsRenderingSettings(t.C)
        }
        ,
        e.initMediaTailor = function(e, t, n) {
            var i = this;
            this.i && this.i.release(),
            this.i = new ic(e,t,n,function(e) {
                return fc(i, e)
            }
            )
        }
        ,
        e.requestMediaTailorStream = function(e, t, n) {
            if (!this.i)
                throw new ke(1,10,10005);
            var i, r, a, o, s, u, l, c, h = this.i;
            return n = void 0 === n ? "" : n,
            e = h.l ? Promise.reject(new ke(1,10,10004)) : (h.l = new Oi,
            i = h,
            r = e,
            a = t,
            Ie(function(e) {
                if (1 == e.g)
                    return (s = qi([r], Ui())).method = "POST",
                    a && (o = JSON.stringify(a),
                    s.body = dr(o)),
                    o = i.K.request(7, s),
                    Ee(e, 2),
                    Te(e, o.promise, 4);
                if (2 != e.g) {
                    if (s = e.h,
                    u = lr(s.data),
                    (u = JSON.parse(u)).manifestUrl && u.trackingUrl)
                        return l = new ge(r),
                        c = new ge(u.trackingUrl),
                        i.N = l.resolve(c).toString(),
                        c = Date.now() / 1e3,
                        c = c - i.W,
                        i.i(new ce("ads-loaded",(new Map).set("loadTime", c))),
                        c = new ge(u.manifestUrl),
                        i.l.resolve(l.resolve(c).toString()),
                        i.l = null,
                        Se(e, 0);
                    throw Error("Insufficient data from MediaTailor.")
                }
                if (xe(e),
                !i.I.length)
                    return i.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),
                    i.l = null,
                    e.return();
                i.l.resolve(i.I),
                i.l = null,
                Ae(e)
            }),
            h.I = n || "",
            h.W = Date.now() / 1e3,
            h.l)
        }
        ,
        e.initServerSide = function(e, t) {
            var n = this;
            if (!z.google || !google.ima || !google.ima.dai)
                throw new ke(2,10,10002);
            this.g && this.g.release(),
            this.g = new hc(e,t,this.m,function(e) {
                return fc(n, e)
            }
            ),
            this.g.configure(this.l)
        }
        ,
        e.requestServerSideStream = function(e, t) {
            if (t = void 0 === t ? "" : t,
            !this.g)
                throw new ke(1,10,10003);
            e.adTagParameters || (e.adTagParameters = {});
            var n = e.adTagParameters;
            return (n.mpt || n.mpv) && X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),
            e.adTagParameters.mpt = "shaka-player",
            e.adTagParameters.mpv = "v4.7.11",
            e = (n = this.g).j ? Promise.reject(new ke(1,10,10004)) : (e instanceof google.ima.dai.api.LiveStreamRequest && (n.I = !0),
            n.j = new Oi,
            n.g.requestStream(e),
            n.D = t || "",
            n.H = Date.now() / 1e3,
            n.j)
        }
        ,
        e.replaceServerSideAdTagParameters = function(e) {
            if (!this.g)
                throw new ke(1,10,10003);
            (e.mpt || e.mpv) && X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),
            e.mpt = "Shaka Player",
            e.mpv = "v4.7.11",
            this.g.g.replaceAdTagParameters(e)
        }
        ,
        e.getServerSideCuePoints = function() {
            return wi("AdManager.getServerSideCuePoints", "Please use getCuePoints function."),
            this.getCuePoints()
        }
        ,
        e.getCuePoints = function() {
            var e = [];
            return this.g && (e = e.concat(this.g.getCuePoints())),
            e = this.i ? e.concat(this.i.getCuePoints()) : e
        }
        ,
        e.getStats = function() {
            var e = this.j;
            return {
                loadTimes: e.h,
                started: e.g,
                playedCompletely: e.i,
                skipped: e.j
            }
        }
        ,
        e.onManifestUpdated = function(e) {
            this.i && this.i.onManifestUpdated(e)
        }
        ,
        e.onDashTimedMetadata = function(e) {
            var t, n;
            this.g && "urn:google:dai:2018" == e.schemeIdUri && (t = e.schemeIdUri,
            n = e.eventElement ? e.eventElement.getAttribute("messageData") : null,
            this.g.g.processMetadata(t, n, e.startTime))
        }
        ,
        e.onHlsTimedMetadata = function(e, t) {
            this.g && this.g.g.processMetadata("ID3", e.data, t)
        }
        ,
        e.onCueMetadataChange = function(e) {
            this.g && this.g.onCueMetadataChange(e)
        }
        ,
        n("shaka.ads.AdManager", dc),
        dc.ADS_LOADED = "ads-loaded",
        dc.AD_STARTED = "ad-started",
        dc.AD_FIRST_QUARTILE = "ad-first-quartile",
        dc.AD_MIDPOINT = "ad-midpoint",
        dc.AD_THIRD_QUARTILE = "ad-third-quartile",
        dc.AD_COMPLETE = "ad-complete",
        dc.AD_STOPPED = "ad-stopped",
        dc.AD_SKIPPED = "ad-skipped",
        dc.AD_VOLUME_CHANGED = "ad-volume-changed",
        dc.AD_MUTED = "ad-muted",
        dc.AD_PAUSED = "ad-paused",
        dc.AD_RESUMED = "ad-resumed",
        dc.AD_SKIP_STATE_CHANGED = "ad-skip-state-changed",
        dc.CUEPOINTS_CHANGED = "ad-cue-points-changed",
        dc.IMA_AD_MANAGER_LOADED = "ima-ad-manager-loaded",
        dc.IMA_STREAM_MANAGER_LOADED = "ima-stream-manager-loaded",
        dc.AD_CLICKED = "ad-clicked",
        dc.AD_PROGRESS = "ad-progress",
        dc.AD_BUFFERING = "ad-buffering",
        dc.AD_IMPRESSION = "ad-impression",
        dc.AD_DURATION_CHANGED = "ad-duration-changed",
        dc.AD_CLOSED = "ad-closed",
        dc.AD_LOADED = "ad-loaded",
        dc.ALL_ADS_COMPLETED = "all-ads-completed",
        dc.AD_LINEAR_CHANGED = "ad-linear-changed",
        dc.AD_METADATA = "ad-metadata",
        dc.AD_RECOVERABLE_ERROR = "ad-recoverable-error",
        dc.AD_ERROR = "ad-error",
        dc.AD_BREAK_READY = "ad-break-ready",
        dc.AD_INTERACTION = "ad-interaction";
        var ql = function() {
            return new dc
        }
          , mc = "ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" ")
          , vc = "buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" ")
          , yc = ["loop", "playbackRate"]
          , bc = ["pause", "play"]
          , wc = {
            getAssetUri: 2,
            getAudioLanguages: 4,
            getAudioLanguagesAndRoles: 4,
            getBufferFullness: 1,
            getBufferedInfo: 2,
            getExpiration: 2,
            getKeyStatuses: 2,
            getPlaybackRate: 2,
            getTextLanguages: 4,
            getTextLanguagesAndRoles: 4,
            getImageTracks: 2,
            getThumbnails: 2,
            isAudioOnly: 10,
            isBuffering: 1,
            isInProgress: 1,
            isLive: 10,
            isTextTrackVisible: 1,
            keySystem: 10,
            seekRange: 1,
            getLoadMode: 10,
            getManifestType: 10
        }
          , Tc = {
            getConfiguration: 4,
            getStats: 5,
            getTextTracks: 2,
            getVariantTracks: 2
        }
          , Ac = {
            getPlayheadTimeAsDate: 1,
            getPresentationStartTimeAsDate: 20
        }
          , Ec = [["getConfiguration", "configure"]]
          , Sc = [["isTextTrackVisible", "setTextTrackVisibility"]]
          , xc = "addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" ")
          , Ic = ["attach", "attachCanvas", "detach", "load", "unload"];
        function kc(e, t, n, i, r, a, o) {
            var s = this;
            this.I = e,
            this.M = o,
            this.j = new I(t),
            this.N = n,
            this.C = !1,
            this.u = i,
            this.H = r,
            this.K = a,
            this.h = this.m = !1,
            this.L = "",
            this.s = null,
            this.D = function() {
                return Nc(s)
            }
            ,
            this.G = function(e, t) {
                switch ((e = gc(t)).type) {
                case "event":
                    var n = e.targetName
                      , i = G(e.event);
                    s.u(n, i);
                    break;
                case "update":
                    for (i in n = e.update)
                        for (var r in e = s.g[i] || {},
                        n[i])
                            e[r] = n[i][r];
                    s.C && (s.N(),
                    s.C = !1);
                    break;
                case "asyncComplete":
                    if (i = e.id,
                    r = e.error,
                    e = s.i[i],
                    delete s.i[i],
                    e)
                        if (r) {
                            for (n in i = new ke(r.severity,r.category,r.code),
                            r)
                                i[n] = r[n];
                            e.reject(i)
                        } else
                            e.resolve()
                }
            }
            ,
            this.g = {
                video: {},
                player: {}
            },
            this.J = 0,
            this.i = {},
            this.l = null,
            Bc.add(this)
        }
        function Cc(e, t, n) {
            (Oc = n).addUpdateListener(e.D),
            n.addMessageListener("urn:x-cast:com.google.shaka.v2", e.G),
            Nc(e),
            Dc(e, {
                type: "init",
                initState: t,
                appData: e.s
            }),
            e.l.resolve()
        }
        function Mc(e, t) {
            var n = 8003;
            switch (t.code) {
            case "cancel":
                n = 8004;
                break;
            case "timeout":
                n = 8005;
                break;
            case "receiver_unavailable":
                n = 8006
            }
            e.l.reject(new ke(2,8,n,t))
        }
        function Lc(e, t) {
            var n = e.K();
            e.l = new Oi,
            e.C = !0,
            Cc(e, n, t)
        }
        function Rc(e) {
            var t = Oc;
            t.removeUpdateListener(e.D),
            t.removeMessageListener("urn:x-cast:com.google.shaka.v2", e.G)
        }
        function Nc(e) {
            var t = !!Oc && "connected" == Oc.status;
            if (e.h && !t) {
                for (var n in e.H(),
                e.g)
                    e.g[n] = {};
                Pc(e)
            }
            e.h = t,
            e.L = t ? Oc.receiver.friendlyName : "",
            e.j.Qa()
        }
        function Pc(e) {
            for (var t in e.i) {
                var n = e.i[t];
                delete e.i[t],
                n.reject(new ke(1,7,7e3))
            }
        }
        function Dc(t, n) {
            n = pc(n);
            var i = Oc;
            try {
                i.sendMessage("urn:x-cast:com.google.shaka.v2", n, function() {}, Y)
            } catch (e) {
                throw n = new ke(2,8,8005,e),
                i = new ce("error",(new Map).set("detail", n)),
                t.u("player", i),
                t.Jc(),
                n
            }
        }
        (e = kc.prototype).destroy = function() {
            return Bc.delete(this),
            Pc(this),
            Oc && Rc(this),
            this.j && (this.j.stop(),
            this.j = null),
            this.H = this.u = null,
            this.h = this.m = !1,
            this.G = this.D = this.l = this.i = this.g = this.s = null,
            Promise.resolve()
        }
        ,
        e.Ba = function() {
            return this.h
        }
        ,
        e.Je = function() {
            return this.L
        }
        ,
        e.init = function() {
            var e;
            this.I.length && (z.chrome && chrome.cast && chrome.cast.isAvailable ? (this.m = !0,
            this.j.Qa(),
            e = new chrome.cast.SessionRequest(this.I,[],null,this.M,null),
            e = new chrome.cast.ApiConfig(e,function(e) {
                for (var t = we(Bc), n = t.next(); !n.done; n = t.next())
                    Lc(n.value, e)
            }
            ,function(e) {
                for (var t = we(Bc), n = t.next(); !n.done; n = t.next())
                    n = n.value,
                    Uc = "available" == e,
                    n.j.Qa()
            }
            ,"origin_scoped"),
            chrome.cast.initialize(e, function() {}, function() {}),
            Uc && this.j.S(_c),
            (e = Oc) && e.status != chrome.cast.SessionStatus.STOPPED ? Lc(this, e) : Oc = null) : z.__onGCastApiAvailable !== Fc && (jc = z.__onGCastApiAvailable || null,
            z.__onGCastApiAvailable = Fc))
        }
        ,
        e.kg = function(e) {
            this.s = e,
            this.h && Dc(this, {
                type: "appData",
                appData: this.s
            })
        }
        ,
        e.cast = function(t) {
            var n = this;
            return Ie(function(e) {
                if (!n.m)
                    throw new ke(1,8,8e3);
                if (!Uc)
                    throw new ke(1,8,8001);
                if (n.h)
                    throw new ke(1,8,8002);
                return n.l = new Oi,
                chrome.cast.requestSession(function(e) {
                    return Cc(n, t, e)
                }, function(e) {
                    return Mc(n, e)
                }),
                Te(e, n.l, 0)
            })
        }
        ,
        e.Jc = function() {
            if (this.h) {
                if (Pc(this),
                Oc) {
                    Rc(this);
                    try {
                        Oc.stop(function() {}, function() {})
                    } catch (e) {}
                    Oc = null
                }
                Nc(this)
            }
        }
        ,
        e.get = function(e, t) {
            var n = this;
            if ("video" == e) {
                if (bc.includes(t))
                    return function() {
                        return n.kh.apply(n, [e, t].concat(le(R.apply(0, arguments))))
                    }
            } else if ("player" == e) {
                if (Ac[t] && !this.get("player", "isLive")())
                    return function() {}
                    ;
                if (xc.includes(t))
                    return function() {
                        return n.kh.apply(n, [e, t].concat(le(R.apply(0, arguments))))
                    }
                    ;
                if (Ic.includes(t))
                    return function() {
                        return n.ej.apply(n, [e, t].concat(le(R.apply(0, arguments))))
                    }
                    ;
                if (wc[t] || Tc[t])
                    return function() {
                        return n.g[e][t]
                    }
            }
            return this.g[e][t]
        }
        ,
        e.set = function(e, t, n) {
            this.g[e][t] = n,
            Dc(this, {
                type: "set",
                targetName: e,
                property: t,
                value: n
            })
        }
        ,
        e.kh = function(e, t) {
            Dc(this, {
                type: "call",
                targetName: e,
                methodName: t,
                args: R.apply(2, arguments)
            })
        }
        ,
        e.ej = function(e, t) {
            var n = R.apply(2, arguments)
              , i = new Oi
              , r = this.J.toString();
            this.J++,
            this.i[r] = i;
            try {
                Dc(this, {
                    type: "asyncCall",
                    targetName: e,
                    methodName: t,
                    args: n,
                    id: r
                })
            } catch (e) {
                i.reject(e)
            }
            return i
        }
        ;
        var _c = .02
          , Uc = !1
          , Oc = null
          , jc = null
          , Bc = new Set;
        function Fc(e) {
            if (jc ? z.__onGCastApiAvailable = jc : delete z.__onGCastApiAvailable,
            jc = null,
            e)
                for (var t = we(Bc), n = t.next(); !n.done; n = t.next())
                    n.value.init();
            "function" == typeof z.__onGCastApiAvailable && z.__onGCastApiAvailable(e)
        }
        function Gc(e, t, n, i) {
            i = void 0 !== i && i,
            d.call(this);
            var r = this
              , a = (this.i = e,
            this.h = t,
            this.m = this.s = this.j = this.u = this.l = null,
            this.G = n,
            this.D = i,
            this.C = new Map,
            this.g = new kc(n,function() {
                return Hc(r)
            }
            ,function() {
                return zc(r)
            }
            ,function(e, t) {
                return Wc(r, e, t)
            }
            ,function() {
                return Xc(r)
            }
            ,function() {
                return Kc(r)
            }
            ,i),
            this);
            a.g.init(),
            a.m = new nr;
            for (var o, s, u = we(mc), l = u.next(); !l.done; l = u.next())
                a.m.o(a.i, l.value, function(e) {
                    a.g.Ba() || (e = G(e),
                    a.j.dispatchEvent(e))
                });
            for (o in V)
                a.m.o(a.h, V[o], function(e) {
                    a.g.Ba() || a.s.dispatchEvent(e)
                });
            for (s in a.l = {},
            u = {},
            a.i)
                u.$c = s,
                Object.defineProperty(a.l, u.$c, {
                    configurable: !1,
                    enumerable: !0,
                    get: function(n) {
                        return function() {
                            var i = a
                              , e = n.$c;
                            if ("addEventListener" == e)
                                return function(e, t, n) {
                                    return i.j.addEventListener(e, t, n)
                                }
                                ;
                            if ("removeEventListener" == e)
                                return function(e, t, n) {
                                    return i.j.removeEventListener(e, t, n)
                                }
                                ;
                            if (i.g.Ba() && 0 == Object.keys(i.g.g.video).length) {
                                var t = i.i[e];
                                if ("function" != typeof t)
                                    return t
                            }
                            return i.g.Ba() ? i.g.get("video", e) : e = "function" == typeof (e = i.i[e]) ? e.bind(i.i) : e
                        }
                    }(u),
                    set: function(n) {
                        return function(e) {
                            var t = n.$c;
                            a.g.Ba() ? a.g.set("video", t, e) : a.i[t] = e
                        }
                    }(u)
                }),
                u = {
                    $c: u.$c
                };
            a.u = {},
            Vc(a, function(t) {
                Object.defineProperty(a.u, t, {
                    configurable: !1,
                    enumerable: !0,
                    get: function() {
                        var i = a
                          , e = t;
                        if ("addEventListener" == (e = i.C.has(e) ? i.C.get(e) : e))
                            return function(e, t, n) {
                                return i.s.addEventListener(e, t, n)
                            }
                            ;
                        if ("removeEventListener" == e)
                            return function(e, t, n) {
                                return i.s.removeEventListener(e, t, n)
                            }
                            ;
                        if ("getMediaElement" == e)
                            return function() {
                                return i.l
                            }
                            ;
                        if ("getSharedConfiguration" == e)
                            return i.g.get("player", "getConfiguration");
                        if ("getNetworkingEngine" == e)
                            return function() {
                                return i.h.Zb()
                            }
                            ;
                        if ("getDrmEngine" == e)
                            return function() {
                                return i.h.m
                            }
                            ;
                        if ("getAdManager" == e)
                            return function() {
                                return i.h.ee()
                            }
                            ;
                        if ("setVideoContainer" == e)
                            return function(e) {
                                return i.h.rg(e)
                            }
                            ;
                        if (i.g.Ba()) {
                            if ("getManifest" == e || "drmInfo" == e)
                                return function() {
                                    return X(e + "() does not work while casting!"),
                                    null
                                }
                                ;
                            if ("attach" == e || "detach" == e)
                                return function() {
                                    return X(e + "() does not work while casting!"),
                                    Promise.resolve()
                                }
                        }
                        return i.g.Ba() && 0 == Object.keys(i.g.g.video).length && (wc[e] || Tc[e]) || !i.g.Ba() ? i.h[e].bind(i.h) : i.g.get("player", e)
                    }
                })
            });
            var c = a
              , h = new Map;
            Vc(c, function(e, t) {
                h.has(t) ? (t = h.get(t),
                e.length < t.length ? c.C.set(e, t) : c.C.set(t, e)) : h.set(t, e)
            }),
            a.j = new d,
            a.j.we = a.l,
            a.s = new d,
            a.s.we = a.u
        }
        function Vc(e, t) {
            function n(e) {
                return "constructor" != e && "function" == typeof r[e] && !a.has(e)
            }
            var i, r = e.h, a = new Set;
            for (i in r)
                n(i) && (a.add(i),
                t(i, r[i]));
            for (e = Object.getPrototypeOf(r),
            i = Object.getPrototypeOf({}); e && e != i; ) {
                for (var o = we(Object.getOwnPropertyNames(e)), s = o.next(); !s.done; s = o.next())
                    n(s = s.value) && (a.add(s),
                    t(s, r[s]));
                e = Object.getPrototypeOf(e)
            }
        }
        function Kc(e) {
            var t = {
                video: {},
                player: {},
                playerAfterLoad: {},
                manifest: e.h.Gf(),
                startTime: null
            };
            e.i.pause();
            for (var n = we(yc), i = n.next(); !i.done; i = n.next())
                i = i.value,
                t.video[i] = e.i[i];
            for (e.i.ended || (t.startTime = e.i.currentTime),
            i = (n = we(Ec)).next(); !i.done; i = n.next()) {
                var i = (r = i.value)[1]
                  , r = e.h[r[0]]();
                t.player[i] = r
            }
            for (i = (n = we(Sc)).next(); !i.done; i = n.next())
                i = (r = i.value)[1],
                r = e.h[r[0]](),
                t.playerAfterLoad[i] = r;
            return t
        }
        function Hc(e) {
            var t = new ce("caststatuschanged");
            e.dispatchEvent(t)
        }
        function zc(e) {
            var t = new ce(e.l.paused ? "pause" : "play");
            e.j.dispatchEvent(t)
        }
        function Xc(i) {
            for (var e = we(Ec), t = e.next(); !t.done; t = e.next()) {
                var t = (n = t.value)[1]
                  , n = i.g.get("player", n[0])();
                i.h[t](n)
            }
            var r, a = i.g.get("player", "getAssetUri")(), o = (n = i.g.get("video", "ended"),
            e = Promise.resolve(),
            i.i.autoplay), s = (t = null,
            n || (t = i.g.get("video", "currentTime")),
            (n = i.g.get("player", "getTextTracks")()) && n.length && (r = n.find(function(e) {
                return e.active
            })),
            i.g.get("player", "isTextTrackVisible")()), u = (a && (i.i.autoplay = !1,
            e = i.h.load(a, t)),
            {});
            for (n = (t = we(yc)).next(); !n.done; n = t.next())
                n = n.value,
                u[n] = i.g.get("video", n);
            e.then(function() {
                if (i.i) {
                    for (var e = we(yc), t = e.next(); !t.done; t = e.next())
                        t = t.value,
                        i.i[t] = u[t];
                    for (t = (e = we(Sc)).next(); !t.done; t = e.next()) {
                        var t = (n = t.value)[1]
                          , n = i.g.get("player", n[0])();
                        i.h[t](n)
                    }
                    i.h.Oe(s),
                    r && i.h.ig(r.language, r.roles, r.forced),
                    i.i.autoplay = o,
                    a && i.i.play()
                }
            }, function(e) {
                e = new ce("error",e = (new Map).set("detail", e)),
                i.h.dispatchEvent(e)
            })
        }
        function Wc(e, t, n) {
            e.g.Ba() && ("video" == t ? e.j.dispatchEvent(n) : "player" == t && e.s.dispatchEvent(n))
        }
        function qc(e, t, n, i) {
            d.call(this);
            var r = this
              , u = (this.g = e,
            this.h = t,
            this.j = new nr,
            this.J = {
                video: e,
                player: t
            },
            this.G = n || function() {}
            ,
            this.K = i || function(e) {
                return e
            }
            ,
            this.i = null,
            this.H = !1,
            this.s = !0,
            this.m = 0,
            this.D = !1,
            this.C = !0,
            this.u = this.l = null,
            this.I = new I(function() {
                $c(r)
            }
            ),
            this)
              , a = cast.receiver.CastReceiverManager.getInstance();
            a.onSenderConnected = function() {
                return Yc(u)
            }
            ,
            a.onSenderDisconnected = function() {
                return Yc(u)
            }
            ,
            a.onSystemVolumeChanged = function() {
                var e = cast.receiver.CastReceiverManager.getInstance().getSystemVolume();
                e && nh(u, {
                    type: "update",
                    update: {
                        video: {
                            volume: e.level,
                            muted: e.muted
                        }
                    }
                }, u.l),
                nh(u, {
                    type: "event",
                    targetName: "video",
                    event: {
                        type: "volumechange"
                    }
                }, u.l)
            }
            ,
            u.u = a.getCastMessageBus("urn:x-cast:com.google.cast.media"),
            u.u.onMessage = function(e) {
                var n = u
                  , t = e
                  , i = gc(t.data);
                switch (i.type) {
                case "PLAY":
                    n.g.play(),
                    ih(n);
                    break;
                case "PAUSE":
                    n.g.pause(),
                    ih(n);
                    break;
                case "SEEK":
                    t = i.currentTime;
                    var r = i.resumeState;
                    null != t && (n.g.currentTime = Number(t)),
                    r && "PLAYBACK_START" == r ? (n.g.play(),
                    ih(n)) : r && "PLAYBACK_PAUSE" == r && (n.g.pause(),
                    ih(n));
                    break;
                case "STOP":
                    n.h.Wc().then(function() {
                        n.h && ih(n)
                    });
                    break;
                case "GET_STATUS":
                    eh(n, Number(i.requestId));
                    break;
                case "VOLUME":
                    r = i.volume,
                    t = r.level,
                    r = r.muted;
                    var a = n.g.volume
                      , o = n.g.muted;
                    null != t && (n.g.volume = Number(t)),
                    null != r && (n.g.muted = r),
                    a == n.g.volume && o == n.g.muted || ih(n);
                    break;
                case "LOAD":
                    n.m = 0,
                    n.D = !1,
                    n.C = !1,
                    t = i.media,
                    r = i.currentTime,
                    a = n.K(t.contentId),
                    o = i.autoplay || !0,
                    n.G(t.customData),
                    o && (n.g.autoplay = !0),
                    n.h.load(a, r).then(function() {
                        n.h && eh(n)
                    }).catch(function(e) {
                        var t = "LOAD_FAILED";
                        7 == e.category && 7e3 == e.code && (t = "LOAD_CANCELLED"),
                        nh(n, {
                            requestId: Number(i.requestId),
                            type: t
                        }, n.u)
                    });
                    break;
                default:
                    nh(n, {
                        requestId: Number(i.requestId),
                        type: "INVALID_REQUEST",
                        reason: "INVALID_COMMAND"
                    }, n.u)
                }
            }
            ,
            u.l = a.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),
            u.l.onMessage = function(e) {
                var t = u
                  , n = e
                  , i = gc(n.data);
                switch (i.type) {
                case "init":
                    t.m = 0,
                    t.D = !1,
                    t.C = !0,
                    !function(t, n, i) {
                        var r, a, o, s, u, l, c, h;
                        Ie(function(e) {
                            switch (e.g) {
                            case 1:
                                for (r in n.player)
                                    a = n.player[r],
                                    t.h[r](a);
                                return t.G(i),
                                o = t.g.autoplay,
                                n.manifest ? (t.g.autoplay = !1,
                                Ee(e, 5),
                                Te(e, t.h.load(n.manifest, n.startTime), 7)) : Te(e, Promise.resolve(), 3);
                            case 7:
                                Se(e, 3);
                                break;
                            case 5:
                                return s = xe(e),
                                s = (new Map).set("detail", s),
                                s = new ce("error",s),
                                t.h && t.h.dispatchEvent(s),
                                e.return();
                            case 3:
                                if (!t.h)
                                    return e.return();
                                for (u in n.video)
                                    l = n.video[u],
                                    t.g[u] = l;
                                for (c in n.playerAfterLoad)
                                    h = n.playerAfterLoad[c],
                                    t.h[c](h);
                                t.g.autoplay = o,
                                n.manifest && (t.g.play(),
                                ih(t)),
                                Ae(e)
                            }
                        })
                    }(t, i.initState, i.appData),
                    $c(t);
                    break;
                case "appData":
                    t.G(i.appData);
                    break;
                case "set":
                    var r = i.targetName
                      , a = i.property;
                    if (i = i.value,
                    "video" == r) {
                        if (n = cast.receiver.CastReceiverManager.getInstance(),
                        "volume" == a) {
                            n.setSystemVolumeLevel(i);
                            break
                        }
                        if ("muted" == a) {
                            n.setSystemVolumeMuted(i);
                            break
                        }
                    }
                    t.J[r][a] = i;
                    break;
                case "call":
                    (r = t.J[i.targetName])[i.methodName].apply(r, i.args);
                    break;
                case "asyncCall":
                    r = i.targetName,
                    a = i.methodName,
                    "player" == r && "load" == a && (t.m = 0,
                    t.D = !1);
                    var o = i.id
                      , s = n.senderId;
                    n = t.J[r],
                    i = n[a].apply(n, i.args),
                    (i = "player" == r && "load" == a ? i.then(function() {
                        t.C = !0
                    }) : i).then(function() {
                        return th(t, s, o, null)
                    }, function(e) {
                        return th(t, s, o, e)
                    })
                }
            }
            ,
            a.start();
            for (var o, s = (a = we(mc)).next(); !s.done; s = a.next())
                u.j.o(u.g, s.value, function(e) {
                    return Qc(u, "video", e)
                });
            for (o in V)
                u.j.o(u.h, V[o], function(e) {
                    return Qc(u, "player", e)
                });
            cast.__platform__ && cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160') ? u.h.ng(3840, 2160) : u.h.ng(1920, 1080),
            u.j.o(u.g, "loadeddata", function() {
                u.D = !0
            }),
            u.j.o(u.h, "loading", function() {
                u.s = !1,
                Jc(u)
            }),
            u.j.o(u.g, "playing", function() {
                u.s = !1,
                Jc(u)
            }),
            u.j.o(u.g, "pause", function() {
                Jc(u)
            }),
            u.j.o(u.h, "unloading", function() {
                u.s = !0,
                Jc(u)
            }),
            u.j.o(u.g, "ended", function() {
                new I(function() {
                    u.g && u.g.ended && (u.s = !0,
                    Jc(u))
                }
                ).S(ah)
            })
        }
        function Yc(e) {
            e.m = 0,
            e.C = !0,
            e.H = 0 != cast.receiver.CastReceiverManager.getInstance().getSenders().length,
            Jc(e)
        }
        function Jc(t) {
            var n;
            Ie(function(e) {
                return 1 == e.g ? Te(e, Promise.resolve(), 2) : t.h ? (n = new ce("caststatuschanged"),
                t.dispatchEvent(n),
                Zc(t) || ih(t),
                void Ae(e)) : e.return()
            })
        }
        function Qc(e, t, n) {
            e.h && ($c(e),
            nh(e, {
                type: "event",
                targetName: t,
                event: n
            }, e.l))
        }
        function $c(e) {
            e.I.S(rh);
            for (var t, n, i = {
                video: {},
                player: {}
            }, r = we(vc), a = r.next(); !a.done; a = r.next())
                a = a.value,
                i.video[a] = e.g[a];
            if (e.h.R())
                for (var o in Ac)
                    0 == e.m % Ac[o] && (i.player[o] = e.h[o]());
            for (t in wc)
                0 == e.m % wc[t] && (i.player[t] = e.h[t]());
            for (n in (r = cast.receiver.CastReceiverManager.getInstance().getSystemVolume()) && (i.video.volume = r.level,
            i.video.muted = r.muted),
            nh(e, {
                type: "update",
                update: i
            }, e.l),
            Tc)
                0 == e.m % Tc[n] && (i = {
                    player: {}
                },
                i.player[n] = e.h[n](),
                nh(e, {
                    type: "update",
                    update: i
                }, e.l));
            e.D && (e.m += 1),
            Zc(e)
        }
        function Zc(e) {
            return e.C && (e.g.duration || e.h.R()) && (eh(e),
            e.C = !1,
            1)
        }
        function eh(e, t) {
            var n = {
                contentId: e.h.Gf(),
                streamType: e.h.R() ? "LIVE" : "BUFFERED",
                contentType: ""
            };
            e.h.R() || (n.duration = e.g.duration),
            e.i && (n.metadata = e.i),
            ih(e, void 0 === t ? 0 : t, n)
        }
        function th(e, t, n, i) {
            e.h && nh(e, {
                type: "asyncComplete",
                id: n,
                error: i
            }, e.l, t)
        }
        function nh(e, t, n, i) {
            e.H && (e = pc(t),
            i ? n.getCastChannel(i).send(e) : n.broadcast(e))
        }
        function ih(e, t, n) {
            n = void 0 === n ? null : n;
            var i = {
                mediaSessionId: 0,
                playbackRate: e.g.playbackRate,
                playerState: e.s ? oh : e.h.yd() ? uh : e.g.paused ? lh : sh,
                currentTime: e.g.currentTime,
                supportedMediaCommands: 63,
                volume: {
                    level: e.g.volume,
                    muted: e.g.muted
                }
            };
            n && (i.media = n),
            nh(e, {
                requestId: void 0 === t ? 0 : t,
                type: "MEDIA_STATUS",
                status: [i]
            }, e.u)
        }
        t(Gc, d),
        (e = Gc.prototype).destroy = function(e) {
            return e && this.g.Jc(),
            this.m && (this.m.release(),
            this.m = null),
            e = [],
            this.h && (e.push(this.h.destroy()),
            this.h = null),
            this.g && (e.push(this.g.destroy()),
            this.g = null),
            this.u = this.l = this.i = null,
            d.prototype.release.call(this),
            Promise.all(e)
        }
        ,
        e.cc = function() {
            return this.l
        }
        ,
        e.Mc = function() {
            return this.u
        }
        ,
        e.kf = function() {
            return this.g.m && Uc
        }
        ,
        e.Ba = function() {
            return this.g.Ba()
        }
        ,
        e.Je = function() {
            return this.g.Je()
        }
        ,
        e.cast = function() {
            var t, n = this;
            return Ie(function(e) {
                return 1 == e.g ? (t = Kc(n),
                Te(e, n.g.cast(t), 2)) : n.h ? Te(e, n.h.Wc(), 0) : e.return()
            })
        }
        ,
        e.kg = function(e) {
            this.g.kg(e)
        }
        ,
        e.vh = function() {
            var t, n;
            (t = this.g).h && (n = t.K(),
            chrome.cast.requestSession(function(e) {
                return Cc(t, n, e)
            }, function(e) {
                return Mc(t, e)
            }))
        }
        ,
        e.Jc = function() {
            this.g.Jc()
        }
        ,
        e.Jg = function(t, n) {
            n = void 0 !== n && n;
            var i = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return t == i.G && n == i.D ? e.return() : (i.G = t,
                    i.D = n,
                    i.g.Jc(),
                    Te(e, i.g.destroy(), 2));
                i.g = null,
                i.g = new kc(t,function() {
                    return Hc(i)
                }
                ,function() {
                    return zc(i)
                }
                ,function(e, t) {
                    return Wc(i, e, t)
                }
                ,function() {
                    return Xc(i)
                }
                ,function() {
                    return Kc(i)
                }
                ,n),
                i.g.init(),
                Ae(e)
            })
        }
        ,
        n("shaka.cast.CastProxy", Gc),
        Gc.prototype.changeReceiverId = Gc.prototype.Jg,
        Gc.prototype.forceDisconnect = Gc.prototype.Jc,
        Gc.prototype.suggestDisconnect = Gc.prototype.vh,
        Gc.prototype.setAppData = Gc.prototype.kg,
        Gc.prototype.receiverName = Gc.prototype.Je,
        Gc.prototype.isCasting = Gc.prototype.Ba,
        Gc.prototype.canCast = Gc.prototype.kf,
        Gc.prototype.getPlayer = Gc.prototype.Mc,
        Gc.prototype.getVideo = Gc.prototype.cc,
        t(qc, d),
        (e = qc.prototype).isConnected = function() {
            return this.H
        }
        ,
        e.Ji = function() {
            return this.s
        }
        ,
        e.rj = function(e) {
            this.i = e
        }
        ,
        e.Nh = function() {
            this.i = null
        }
        ,
        e.sj = function(e) {
            this.i || (this.i = {
                metadataType: cast.receiver.media.MetadataType.GENERIC
            }),
            this.i.title = e
        }
        ,
        e.qj = function(e) {
            this.i || (this.i = {
                metadataType: cast.receiver.media.MetadataType.GENERIC
            }),
            this.i.images = [{
                url: e
            }]
        }
        ,
        e.pj = function(e) {
            this.i || (this.i = {}),
            this.i.artist = e,
            this.i.metadataType = cast.receiver.media.MetadataType.MUSIC_TRACK
        }
        ,
        e.destroy = function() {
            var t, n = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return n.j && (n.j.release(),
                    n.j = null),
                    t = [],
                    n.h && (t.push(n.h.destroy()),
                    n.h = null),
                    n.I && (n.I.stop(),
                    n.I = null),
                    n.g = null,
                    n.J = null,
                    n.G = null,
                    n.H = !1,
                    n.s = !0,
                    n.l = null,
                    n.u = null,
                    d.prototype.release.call(n),
                    Te(e, Promise.all(t), 2);
                cast.receiver.CastReceiverManager.getInstance().stop(),
                Ae(e)
            })
        }
        ,
        n("shaka.cast.CastReceiver", qc),
        qc.prototype.setContentArtist = qc.prototype.pj,
        qc.prototype.setContentImage = qc.prototype.qj,
        qc.prototype.setContentTitle = qc.prototype.sj,
        qc.prototype.clearContentMetadata = qc.prototype.Nh,
        qc.prototype.setContentMetadata = qc.prototype.rj,
        qc.prototype.isIdle = qc.prototype.Ji;
        var rh = .5
          , ah = 5
          , oh = "IDLE"
          , sh = "PLAYING"
          , uh = "BUFFERING"
          , lh = "PAUSED";
        function ch(e, t, n, i, r) {
            if (r <= i)
                return null;
            for (var a = -1, o = -1, s = 0; s < n.length; s++)
                if (n[s].some(function(e) {
                    return null != e && "" != e.g.trim()
                })) {
                    a = s;
                    break
                }
            for (s = n.length - 1; 0 <= s; s--)
                if (n[s].some(function(e) {
                    return null != e && "" != e.g.trim()
                })) {
                    o = s;
                    break
                }
            if (-1 === a || -1 === o)
                return null;
            for (var u = s = !1, l = "white", c = "black", h = hh(i, r, s, u, l, c); a <= o; a++) {
                for (var d, f, p, g, m = n[a], v = -1, y = -1, b = 0; b < m.length; b++)
                    if (null != m[b] && "" !== m[b].g.trim()) {
                        v = b;
                        break
                    }
                for (b = m.length - 1; 0 <= b; b--)
                    if (null != m[b] && "" !== m[b].g.trim()) {
                        y = b;
                        break
                    }
                if (-1 === v || -1 === y)
                    m = dh(i, r),
                    e.nestedCues.push(m);
                else {
                    for (; v <= y; v++)
                        (b = m[v]) ? (d = b.l,
                        f = b.i,
                        p = b.j,
                        g = b.h,
                        d == s && f == u && p == l && g == c || (h.payload && e.nestedCues.push(h),
                        h = hh(i, r, d, f, p, g),
                        s = d,
                        u = f,
                        l = p,
                        c = g),
                        h.payload += b.g) : h.payload += " ";
                    h.payload && e.nestedCues.push(h),
                    a !== o && (h = dh(i, r),
                    e.nestedCues.push(h)),
                    h = hh(i, r, s, u, l, c)
                }
            }
            return e.nestedCues.length ? {
                cue: e,
                stream: t
            } : null
        }
        function hh(e, t, n, i, r, a) {
            return e = new Ct(e,t,""),
            n && e.textDecoration.push("underline"),
            i && (e.fontStyle = "italic"),
            e.color = r,
            e.backgroundColor = a,
            e
        }
        function dh(e, t) {
            return (e = new Ct(e,t,"")).lineBreak = !0,
            e
        }
        function fh(e, t, n, i, r) {
            this.g = e,
            this.l = t,
            this.i = n,
            this.h = i,
            this.j = r
        }
        function ph(e, t) {
            this.i = [],
            this.g = 1,
            this.h = 0,
            this.C = e,
            this.u = t,
            this.j = this.m = !1,
            this.l = "white",
            this.s = "black",
            mh(this)
        }
        function gh(e, t, n) {
            var i = "CC" + (1 + (e.C << 1 | e.u))
              , r = new Ct(t,n,"")
              , a = (r.lineInterpretation = 1,
            Ch.get(e.g));
            return a && (r.line = a),
            ch(r, i, e.i, t, n)
        }
        function mh(e) {
            bh(e, 0, 15),
            e.g = 1
        }
        function vh(e, t, n) {
            if (!(n < 32 || 127 < n)) {
                var i = "";
                switch (t) {
                case wh:
                    i = Sh.has(n) ? Sh.get(n) : String.fromCharCode(n);
                    break;
                case Th:
                    i = xh.get(n);
                    break;
                case Ah:
                    e.i[e.g].pop(),
                    i = Ih.get(n);
                    break;
                case Eh:
                    e.i[e.g].pop(),
                    i = kh.get(n)
                }
                i && e.i[e.g].push(new fh(i,e.m,e.j,e.s,e.l))
            }
        }
        function yh(e, t, n, i) {
            if (!(n < 0 || t < 0))
                if (n <= t)
                    for (--i; 0 <= i; i--)
                        e.i[t + i] = e.i[n + i].map(function(e) {
                            return e
                        });
                else
                    for (var r = 0; r < i; r++)
                        e.i[t + r] = e.i[n + r].map(function(e) {
                            return e
                        })
        }
        function bh(e, t, n) {
            for (var i = 0; i <= n; i++)
                e.i[t + i] = []
        }
        var wh = 0
          , Th = 1
          , Ah = 2
          , Eh = 3
          , Sh = new Map([[39, "’"], [42, "á"], [92, "é"], [92, "é"], [94, "í"], [95, "ó"], [96, "ú"], [123, "ç"], [124, "÷"], [125, "Ñ"], [126, "ñ"], [127, "█"]])
          , xh = new Map([[48, "®"], [49, "°"], [50, "½"], [51, "¿"], [52, "™"], [53, "¢"], [54, "£"], [55, "♪"], [56, "à"], [57, "⠀"], [58, "è"], [59, "â"], [60, "ê"], [61, "î"], [62, "ô"], [63, "û"]])
          , Ih = new Map([[32, "Á"], [33, "É"], [34, "Ó"], [35, "Ú"], [36, "Ü"], [37, "ü"], [38, "‘"], [39, "¡"], [40, "*"], [41, "'"], [42, "─"], [43, "©"], [44, "℠"], [45, "·"], [46, "“"], [47, "”"], [48, "À"], [49, "Â"], [50, "Ç"], [51, "È"], [52, "Ê"], [53, "Ë"], [54, "ë"], [55, "Î"], [56, "Ï"], [57, "ï"], [58, "Ô"], [59, "Ù"], [60, "ù"], [61, "Û"], [62, "«"], [63, "»"]])
          , kh = new Map([[32, "Ã"], [33, "ã"], [34, "Í"], [35, "Ì"], [36, "ì"], [37, "Ò"], [38, "ò"], [39, "Õ"], [40, "õ"], [41, "{"], [42, "}"], [43, "\\"], [44, "^"], [45, "_"], [46, "|"], [47, "~"], [48, "Ä"], [49, "ä"], [50, "Ö"], [51, "ö"], [52, "ß"], [53, "¥"], [54, "¤"], [55, "│"], [56, "Å"], [57, "å"], [58, "Ø"], [59, "ø"], [60, "┌"], [61, "┐"], [62, "└"], [63, "┘"]])
          , Ch = new Map([[1, 10], [2, 15.33], [3, 20.66], [4, 26], [5, 31.33], [6, 36.66], [7, 42], [8, 47.33], [9, 52.66], [10, 58], [11, 63.33], [12, 68.66], [13, 74], [14, 79.33], [15, 84.66]]);
        function Mh(e, t) {
            this.h = Ph,
            this.s = new ph(e,t),
            this.i = new ph(e,t),
            this.g = this.j = new ph(e,t),
            this.l = 0,
            this.m = null
        }
        function Lh(e, t, n) {
            e.g = e.i;
            var i = e.g
              , r = null;
            return e.h !== _h && e.h !== Uh && (r = gh(i, e.l, n),
            (n = e.i).g = 0 < n.h ? n.h : 0,
            bh(n, 0, 15),
            (n = e.j).g = 0 < n.h ? n.h : 0,
            bh(n, 0, 15),
            i.g = 15),
            e.h = _h,
            i.h = t,
            r
        }
        function Rh(e) {
            e.h = Dh,
            e.g = e.j,
            e.g.h = 0
        }
        function Nh(e) {
            q("Cea608DataChannel", "CEA-608 text mode entered, but is unsupported"),
            e.g = e.s,
            e.h = Uh
        }
        var Ph = 0
          , Dh = 1
          , _h = 3
          , Uh = 4
          , Oh = "black green blue cyan red yellow magenta black".split(" ")
          , jh = "white green blue cyan red yellow magenta white_italics".split(" ");
        function Bh(e, t) {
            this.K = t,
            this.N = e,
            this.L = this.l = !1,
            this.m = this.s = this.I = this.M = this.J = 0,
            this.H = Wh,
            this.i = [],
            this.g = this.h = this.j = 0,
            this.G = this.C = !1,
            this.D = "white",
            this.u = "black",
            Fh(this)
        }
        function Fh(e) {
            e.i = [];
            for (var t = 0; t < 16; t++)
                e.i.push(Gh())
        }
        function Gh() {
            for (var e = [], t = 0; t < 42; t++)
                e.push(null);
            return e
        }
        function Vh(e, t) {
            Kh(e) && (e.i[e.h][e.g] = new fh(t,e.G,e.C,e.u,e.D),
            e.g++)
        }
        function Kh(e) {
            var t = e.g < e.m && 0 <= e.g;
            return e.h < e.s && 0 <= e.h && t
        }
        function Hh(e, t, n) {
            var i = new Ct(e.j,t,"")
              , r = (i.textAlign = e.H === zh ? "left" : e.H === Xh ? "right" : Nt,
            i.region);
            switch (e.K && (r.id += "svc" + e.K),
            r.id += "win" + e.N,
            r.height = e.s,
            r.width = e.m,
            r.heightUnits = 2,
            r.widthUnits = 2,
            r.viewportAnchorX = e.J,
            r.viewportAnchorY = e.M,
            r.viewportAnchorUnits = e.L ? Wt : 2,
            e.I) {
            case qh:
                r.regionAnchorX = 0,
                r.regionAnchorY = 0;
                break;
            case Yh:
                r.regionAnchorX = 50,
                r.regionAnchorY = 0;
                break;
            case Jh:
                r.regionAnchorX = 100,
                r.regionAnchorY = 0;
                break;
            case Qh:
                r.regionAnchorX = 0,
                r.regionAnchorY = 50;
                break;
            case $h:
                r.regionAnchorX = 50,
                r.regionAnchorY = 50;
                break;
            case Zh:
                r.regionAnchorX = 100,
                r.regionAnchorY = 50;
                break;
            case ed:
                r.regionAnchorX = 0,
                r.regionAnchorY = 100;
                break;
            case td:
                r.regionAnchorX = 50,
                r.regionAnchorY = 100;
                break;
            case nd:
                r.regionAnchorX = 100,
                r.regionAnchorY = 100
            }
            return (n = ch(i, "svc" + n, e.i, e.j, t)) && (e.j = t),
            n
        }
        Bh.prototype.isVisible = function() {
            return this.l
        }
        ;
        var zh = 0
          , Xh = 1
          , Wh = 2
          , qh = 0
          , Yh = 1
          , Jh = 2
          , Qh = 3
          , $h = 4
          , Zh = 5
          , ed = 6
          , td = 7
          , nd = 8;
        function id() {
            this.i = [],
            this.h = null,
            this.g = 0
        }
        function rd(e) {
            this.g = 0,
            this.h = e
        }
        function ad(e) {
            if (e.xa())
                return e.h[e.g++];
            throw new ke(2,2,3e3)
        }
        function od(e) {
            this.i = e,
            this.h = [null, null, null, null, null, null, null, null],
            this.g = null
        }
        function sd(e, t) {
            for (var n = [], i = 0; i < 8; i++)
                1 == (1 & t) && e.h[i] && n.push(i),
                t >>= 1;
            return n
        }
        function ud(e, t, n) {
            for (var i = null, r = (t = we(sd(e, t))).next(); !r.done; r = t.next()) {
                var r = r.value
                  , a = e.h[r];
                a.isVisible() && (i = Hh(a, n, e.i)),
                e.h[r] = null
            }
            return i
        }
        function ld(e) {
            e.g = null,
            e.h = [null, null, null, null, null, null, null, null]
        }
        function cd(e, t, n) {
            var i = {
                0: 0,
                1: 0,
                2: 1,
                3: 1
            };
            return dd[(e = i[e]) << 2 | (t = i[t]) << 1 | (n = i[n])]
        }
        rd.prototype.xa = function() {
            return this.g < this.h.length
        }
        ,
        rd.prototype.Ga = function() {
            return this.g
        }
        ,
        rd.prototype.skip = function(e) {
            if (this.g + e > this.h.length)
                throw new ke(2,2,3e3);
            this.g += e
        }
        ;
        var hd = new Map([[32, " "], [33, " "], [37, "…"], [42, "Š"], [44, "Œ"], [48, "█"], [49, "‘"], [50, "’"], [51, "“"], [52, "”"], [53, "•"], [57, "™"], [58, "š"], [60, "œ"], [61, "℠"], [63, "Ÿ"], [118, "⅛"], [119, "⅜"], [120, "⅝"], [121, "⅞"], [122, "│"], [123, "┐"], [124, "└"], [125, "─"], [126, "┘"], [127, "┌"]])
          , dd = "black blue green cyan red magenta yellow white".split(" ");
        function fd() {
            this.h = [],
            this.g = [],
            this.i = new id,
            this.l = 0,
            this.m = new Map([["CC1", new Mh(0,0)], ["CC2", new Mh(0,1)], ["CC3", new Mh(1,0)], ["CC4", new Mh(1,1)]]),
            this.u = this.s = 0,
            this.j = new Map,
            this.D = !0,
            this.C = new Set,
            pd(this)
        }
        function pd(e) {
            e.s = 0,
            e.u = 0;
            for (var t = we(e.m.values()), n = t.next(); !n.done; n = t.next())
                (n = n.value).h = Ph,
                n.g = n.j,
                n.m = null,
                mh(n.i),
                mh(n.j),
                mh(n.s);
            e.D = !0
        }
        function gd(e) {
            for (var t = 0; e; )
                t ^= 1 & e,
                e >>= 1;
            return 1 === t
        }
        function md(e) {
            for (var t = [], n = e, i = e = 0; i < n.length; )
                2 == e && 3 == n[i] ? (e = 0,
                (n = [].concat(le(n))).splice(i, 1),
                n = new Uint8Array(n)) : 0 == n[i] ? e++ : e = 0,
                i++;
            for (e = n,
            i = 0; i < e.length; ) {
                for (n = 0; 255 == e[i]; )
                    n += 255,
                    i++;
                n += e[i++];
                for (var r = 0; 255 == e[i]; )
                    r += 255,
                    i++;
                r += e[i++],
                4 == n && t.push(e.subarray(i, i + r)),
                i += r
            }
            return t
        }
        function vd() {
            this.j = new Map,
            this.i = this.h = 0,
            this.g = yd
        }
        fd.prototype.clear = function() {
            this.l = 0,
            this.h = [],
            this.g = [];
            var e = this.i;
            e.i = [],
            e.h = [],
            e.g = 0,
            pd(this);
            for (var t = (e = we(this.j.values())).next(); !t.done; t = e.next())
                ld(t.value)
        }
        ,
        fd.prototype.extract = function(e, t) {
            if (this.D) {
                for (var n = we(this.m.values()), i = n.next(); !i.done; i = n.next())
                    i.value.l = t;
                this.D = !1
            }
            if (!((e = new gr(e,0)).getLength() < 8) && 181 === e.ra() && 49 === e.Ua() && 1195456820 === e.O() && 3 === e.ra() && 0 != (64 & (n = e.ra())))
                for (n &= 31,
                e.skip(1),
                i = 0; i < n; i++) {
                    var r = e.ra()
                      , a = (4 & r) >> 2
                      , o = e.ra()
                      , s = e.ra();
                    a && (0 == (r &= 3) || 1 == r ? this.h.push({
                        pts: t,
                        type: r,
                        jb: o,
                        Jb: s,
                        order: this.h.length
                    }) : (this.g.push({
                        pts: t,
                        type: r,
                        value: o,
                        order: this.g.length
                    }),
                    this.g.push({
                        pts: t,
                        type: 2,
                        value: s,
                        order: this.g.length
                    })))
                }
        }
        ,
        fd.prototype.decode = function() {
            function e(e, t) {
                return e.pts - t.pts || e.order - t.order
            }
            var t = [];
            this.h.sort(e),
            this.g.sort(e);
            for (var n, i, r = we(this.h), a = r.next(); !a.done; a = r.next())
                (a = function(e, t) {
                    var n = t.type;
                    {
                        var i;
                        16 == (112 & t.jb) && (i = t.jb >> 3 & 1,
                        0 === n ? e.s = i : e.u = i)
                    }
                    if (i = "CC" + (1 + (n << 1 | (n ? e.u : e.s))),
                    n = e.m.get(i),
                    255 === t.jb && 255 === t.Jb || !t.jb && !t.Jb || !gd(t.jb) || !gd(t.Jb))
                        return 45 <= ++e.l && pd(e),
                        null;
                    if (e.l = 0,
                    t.jb &= 127,
                    t.Jb &= 127,
                    !t.jb && !t.Jb)
                        return null;
                    if (e.C.add(i),
                    e = null,
                    16 == (112 & t.jb))
                        e: {
                            if (i = t.jb,
                            e = t.Jb,
                            n.m === (i << 8 | e))
                                n.m = null;
                            else if (n.m = i << 8 | e,
                            16 == (240 & i) && 64 == (192 & e)) {
                                t = [11, 11, 1, 2, 3, 4, 12, 13, 14, 15, 5, 6, 7, 8, 9, 10][(7 & i) << 1 | e >> 5 & 1];
                                var r = (30 & e) >> 1
                                  , a = !(i = "white");
                                r < 7 ? i = jh[r] : 7 === r && (a = !0),
                                e = 1 == (1 & e),
                                n.h !== Uh && (r = n.g,
                                n.h === _h && t !== r.g && (n = 1 + t - r.h,
                                yh(r, n, 1 + r.g - r.h, r.h),
                                bh(r, 0, n - 1),
                                bh(r, t + 1, 15 - t)),
                                r.g = t,
                                r.m = e,
                                r.j = a,
                                r.l = i,
                                r.s = "black")
                            } else if (17 == (247 & i) && 32 == (240 & e))
                                n.g.m = !1,
                                n.g.j = !1,
                                n.g.l = "white",
                                vh(n.g, wh, 32),
                                i = !1,
                                "white_italics" === (t = jh[(14 & e) >> 1]) && (t = "white",
                                i = !0),
                                n.g.m = 1 == (1 & e),
                                n.g.j = i,
                                n.g.l = t;
                            else if (16 == (247 & i) && 32 == (240 & e) || 23 == (247 & i) && 45 == (255 & e))
                                t = "black",
                                0 == (7 & i) && (t = Oh[(14 & e) >> 1]),
                                n.g.s = t;
                            else if (17 == (247 & i) && 48 == (240 & e))
                                vh(n.g, Th, e);
                            else if (18 == (246 & i) && 32 == (224 & e))
                                vh(n.g, 1 & i ? Eh : Ah, e);
                            else if (20 == (246 & i) && 32 == (240 & e)) {
                                switch (e = t.pts,
                                i = null,
                                t.Jb) {
                                case 32:
                                    Rh(n);
                                    break;
                                case 33:
                                    (n = n.g).i[n.g].pop();
                                    break;
                                case 37:
                                    i = Lh(n, 2, e);
                                    break;
                                case 38:
                                    i = Lh(n, 3, e);
                                    break;
                                case 39:
                                    i = Lh(n, 4, e);
                                    break;
                                case 40:
                                    vh(n.g, wh, 32);
                                    break;
                                case 41:
                                    n.h = 2,
                                    n.g = n.i,
                                    n.g.h = 0,
                                    n.l = e;
                                    break;
                                case 42:
                                    mh(n.s),
                                    Nh(n);
                                    break;
                                case 43:
                                    Nh(n);
                                    break;
                                case 44:
                                    t = n.i,
                                    i = null,
                                    n.h !== Uh && (i = gh(t, n.l, e)),
                                    bh(t, 0, 15);
                                    break;
                                case 45:
                                    t = n.g,
                                    n.h !== _h ? i = null : (i = gh(t, n.l, e),
                                    a = t.g - t.h + 1,
                                    yh(t, a - 1, a, t.h),
                                    bh(t, 0, a - 1),
                                    bh(t, t.g, 15 - t.g),
                                    n.l = e);
                                    break;
                                case 46:
                                    bh(n.j, 0, 15);
                                    break;
                                case 47:
                                    t = null,
                                    n.h !== Uh && (t = gh(n.i, n.l, e)),
                                    i = n.j,
                                    n.j = n.i,
                                    n.i = i,
                                    Rh(n),
                                    n.l = e,
                                    i = t
                                }
                                e = i;
                                break e
                            }
                            e = null
                        }
                    else
                        i = t.Jb,
                        vh(n.g, wh, t.jb),
                        vh(n.g, wh, i);
                    return e
                }(this, a.value)) && t.push(a);
            for (r = we(this.g),
            a = r.next(); !a.done; a = r.next())
                n = this.i,
                3 === (i = a.value).type ? (n.g = 2 * (63 & i.value) - 1,
                n.h = []) : n.h && (0 < n.g && (n.h.push(i),
                n.g--),
                0 === n.g && (n.i.push(new rd(n.h)),
                n.h = null,
                n.g = 0));
            for (a = (r = we(this.i.i)).next(); !a.done; a = r.next())
                a = function(e, t) {
                    var n = [];
                    try {
                        for (; t.xa(); ) {
                            var i = ad(t).value
                              , r = (224 & i) >> 5
                              , a = 31 & i;
                            if (0 != (r = 7 === r && 0 != a ? 63 & ad(t).value : r)) {
                                e.C.add("svc" + r),
                                e.j.has(r) || e.j.set(r, new od(r));
                                for (var o = e.j.get(r), s = t.Ga(); t.Ga() - s < a; ) {
                                    var u, l, c = ad(r = t), h = c.value, d = c.pts;
                                    if (16 === h && (u = ad(r),
                                    h = h << 16 | u.value),
                                    0 <= h && h <= 31) {
                                        var f = d;
                                        if (o.g) {
                                            var p = o.g;
                                            switch (r = null,
                                            h) {
                                            case 8:
                                                !Kh(p) || p.g <= 0 && p.h <= 0 || (p.g <= 0 ? (p.g = p.m - 1,
                                                p.h--) : p.g--,
                                                p.i[p.h][p.g] = null);
                                                break;
                                            case 13:
                                                if (p.isVisible() && (r = Hh(p, f, o.i)),
                                                p.h + 1 >= p.s) {
                                                    f = p;
                                                    for (var g = 0, m = 1; m < 16; m++,
                                                    g++)
                                                        f.i[g] = f.i[m];
                                                    for (m = 0; m < 1; m++,
                                                    g++)
                                                        f.i[g] = Gh()
                                                } else
                                                    p.h++;
                                                p.g = 0;
                                                break;
                                            case 14:
                                                p.isVisible() && (r = Hh(p, f, o.i)),
                                                p.i[p.h] = Gh(),
                                                p.g = 0;
                                                break;
                                            case 12:
                                                p.isVisible() && (r = Hh(p, f, o.i)),
                                                Fh(p),
                                                (f = p).h = 0,
                                                f.g = 0
                                            }
                                            var v = r
                                        } else
                                            v = null
                                    } else
                                        v = 128 <= h && h <= 159 ? function(e, t, n, i) {
                                            if (128 <= n && n <= 135)
                                                e.h[i = 7 & n] && (e.g = e.h[i]);
                                            else {
                                                if (136 === n) {
                                                    n = ad(t).value,
                                                    t = null;
                                                    for (var r = (n = we(sd(e, n))).next(); !r.done; r = n.next())
                                                        (r = e.h[r.value]).isVisible() && (t = Hh(r, i, e.i)),
                                                        Fh(r);
                                                    return t
                                                }
                                                if (137 === n)
                                                    for (n = (t = we(sd(e, t = ad(t).value))).next(); !n.done; n = t.next())
                                                        (n = e.h[n.value]).isVisible() || (n.j = i),
                                                        n.l = !0;
                                                else {
                                                    if (138 === n) {
                                                        for (n = ad(t).value,
                                                        t = null,
                                                        r = (n = we(sd(e, n))).next(); !r.done; r = n.next())
                                                            (r = e.h[r.value]).isVisible() && (t = Hh(r, i, e.i)),
                                                            r.l = !1;
                                                        return t
                                                    }
                                                    if (139 === n) {
                                                        for (n = ad(t).value,
                                                        t = null,
                                                        r = (n = we(sd(e, n))).next(); !r.done; r = n.next())
                                                            (r = e.h[r.value]).isVisible() ? t = Hh(r, i, e.i) : r.j = i,
                                                            r.l = !r.l;
                                                        return t
                                                    }
                                                    if (140 === n)
                                                        return ud(e, t = ad(t).value, i);
                                                    if (143 === n)
                                                        return i = ud(e, 255, i),
                                                        ld(e),
                                                        i;
                                                    var a, o, s, u;
                                                    144 === n ? (t.skip(1),
                                                    i = ad(t).value,
                                                    e.g && (e.g.C = 0 < (128 & i),
                                                    e.g.G = 0 < (64 & i))) : 145 === n ? (i = ad(t).value,
                                                    n = ad(t).value,
                                                    t.skip(1),
                                                    e.g && (t = cd((48 & n) >> 4, (12 & n) >> 2, 3 & n),
                                                    e.g.D = cd((48 & i) >> 4, (12 & i) >> 2, 3 & i),
                                                    e.g.u = t)) : 146 === n ? (i = ad(t).value,
                                                    t = ad(t).value,
                                                    e.g && ((e = e.g).h = 15 & i,
                                                    e.g = 63 & t)) : 151 === n ? (t.skip(1),
                                                    t.skip(1),
                                                    i = ad(t).value,
                                                    t.skip(1),
                                                    e.g && (e.g.H = 3 & i)) : 152 <= n && n <= 159 && ((r = null !== e.h[n = (15 & n) - 8]) || ((a = new Bh(n,e.i)).j = i,
                                                    e.h[n] = a),
                                                    i = ad(t).value,
                                                    a = ad(t).value,
                                                    o = ad(t).value,
                                                    s = ad(t).value,
                                                    u = ad(t).value,
                                                    t = ad(t).value,
                                                    r && 0 == (7 & t) || ((t = e.h[n]).h = 0,
                                                    t.g = 0,
                                                    t.G = !1,
                                                    t.C = !1,
                                                    t.D = "white",
                                                    t.u = "black"),
                                                    (t = e.h[n]).l = 0 < (32 & i),
                                                    t.M = 127 & a,
                                                    t.J = o,
                                                    t.I = (240 & s) >> 4,
                                                    t.L = 0 < (128 & a),
                                                    t.s = 1 + (15 & s),
                                                    t.m = 1 + (63 & u),
                                                    e.g = e.h[n])
                                                }
                                            }
                                            return null
                                        }(o, r, h, d) : (4096 <= h && h <= 4127 ? 8 <= (f = 255 & h) && f <= 15 ? r.skip(1) : 16 <= f && f <= 23 ? r.skip(2) : 24 <= f && f <= 31 && r.skip(3) : 4224 <= h && h <= 4255 ? 128 <= (f = 255 & h) && f <= 135 ? r.skip(4) : 136 <= f && f <= 143 && r.skip(5) : 32 <= h && h <= 127 ? (r = h,
                                        o.g && Vh(o.g, 127 === r ? "♪" : String.fromCharCode(r))) : 160 <= h && h <= 255 ? o.g && Vh(o.g, String.fromCharCode(h)) : 4128 <= h && h <= 4223 ? (r = 255 & h,
                                        o.g && (hd.has(r) ? (l = hd.get(r),
                                        Vh(o.g, l)) : Vh(o.g, "_"))) : 4256 <= h && h <= 4351 && o.g && Vh(o.g, 160 != (255 & h) ? "_" : "[CC]"),
                                        null);
                                    (r = v) && n.push(r)
                                }
                            }
                        }
                    } catch (e) {
                        if (!(e instanceof ke && 3e3 === e.code))
                            throw e;
                        q("CEA708_INVALID_DATA", "Buffer read out of bounds / invalid CEA-708 Data.")
                    }
                    return n
                }(this, a.value),
                t.push.apply(t, le(a));
            return this.i.i = [],
            this.h = [],
            this.g = [],
            t
        }
        ,
        fd.prototype.getStreams = function() {
            return Array.from(this.C)
        }
        ,
        n("shaka.cea.CeaDecoder", fd),
        Et = function() {
            return new fd
        }
        ,
        vd.prototype.init = function(e) {
            function t(e) {
                (e = e.name)in Td && (n.g = Td[e])
            }
            var n = this
              , i = []
              , r = [];
            if ((new yr).box("moov", D).box("mvex", D).T("trex", function(e) {
                var t = e.reader;
                t.skip(4),
                t.skip(4),
                e = t.O(),
                t = t.O(),
                n.h = e,
                n.i = t
            }).box("trak", D).T("tkhd", function(e) {
                e = Ja(e.reader, e.version),
                i.push(e.trackId)
            }).box("mdia", D).T("mdhd", function(e) {
                e = qa(e.reader, e.version),
                r.push(e.timescale)
            }).box("minf", D).box("stbl", D).T("stsd", br).box("avc1", t).box("avc3", t).box("hev1", t).box("hvc1", t).box("dvh1", t).box("dvhe", t).box("encv", wr).box("sinf", D).box("frma", function(e) {
                (e = $a(e.reader).wa)in Td && (n.g = Td[e])
            }).parse(e, !0),
            !i.length || !r.length || i.length != r.length)
                throw new ke(2,2,2010);
            this.g == yd && X("Unable to determine bitstream format for CEA parsing!"),
            i.forEach(function(e, t) {
                n.j.set(e, r[t])
            })
        }
        ,
        vd.prototype.parse = function(e) {
            var g = this;
            if (this.g == yd)
                return [];
            var m = []
              , v = this.h
              , y = this.i
              , b = 0
              , w = []
              , T = null
              , A = 9e4;
            return (new yr).box("moof", function(e) {
                b = e.start,
                w = [],
                D(e)
            }).box("traf", D).T("trun", function(e) {
                e = Ya(e.reader, e.version, e.flags),
                w.push(e)
            }).T("tfhd", function(e) {
                e = Xa(e.reader, e.flags),
                v = e.Og || g.h,
                y = e.Qh || g.i,
                e = e.trackId,
                g.j.has(e) && (A = g.j.get(e))
            }).T("tfdt", function(e) {
                T = Wa(e.reader, e.version).baseMediaDecodeTime
            }).box("mdat", function(e) {
                if (null === T)
                    throw X("Unable to find base media decode time for CEA captions!"),
                    new ke(2,2,2010);
                var t = g
                  , n = e.reader
                  , i = T
                  , r = A
                  , a = v
                  , o = y
                  , s = b - e.start - 8
                  , u = w
                  , l = m
                  , c = 0
                  , h = o
                  , d = u.map(function(e) {
                    return e.lh
                });
                for ((d = [].concat.apply([], le(d))).length && (h = d[0].sampleSize || o),
                n.skip(s + u[0].Ph); n.xa(); ) {
                    s = n.O();
                    var f = n.ra()
                      , p = null;
                    switch (p = !1,
                    u = 1,
                    t.g) {
                    case bd:
                        p = 6 == (p = 31 & f);
                        break;
                    case wd:
                        u = 2,
                        n.skip(1),
                        p = 39 == (p = f >> 1 & 63) || 40 == p;
                        break;
                    default:
                        return
                    }
                    if (p)
                        for (f = 0,
                        c < d.length && (f = d[c].Ke || 0),
                        f = (i + f) / r,
                        u = we(md(n.Sb(s - u))),
                        p = u.next(); !p.done; p = u.next())
                            l.push({
                                packet: p.value,
                                pts: f
                            });
                    else
                        try {
                            n.skip(s - u)
                        } catch (e) {
                            break
                        }
                    0 == (h -= s + 4) && (i = c < d.length ? i + (d[c].gg || a) : i + a,
                    h = ++c < d.length && d[c].sampleSize || o)
                }
            }).parse(e, !1),
            m
        }
        ,
        n("shaka.cea.Mp4CeaParser", vd);
        var yd = 0
          , bd = 1
          , wd = 2
          , Td = {
            avc1: bd,
            avc3: bd,
            hev1: wd,
            hvc1: wd,
            dvh1: wd,
            dvhe: wd
        };
        function Ad() {}
        function Ed(e, t, n) {
            var i = function(e) {
                for (var t = [], n = (e = we(e)).next(); !n.done; n = e.next())
                    (n = function(e) {
                        var t = e.getAttribute("schemeIdUri")
                          , n = Fr(e, "urn:mpeg:cenc:2013", "default_KID")
                          , i = Br(e, "urn:mpeg:cenc:2013", "pssh").map(Vr);
                        if (!t)
                            return null;
                        if (t = t.toLowerCase(),
                        n && (n = n.replace(/-/g, "").toLowerCase()).includes(" "))
                            throw new ke(2,4,4009);
                        var r = [];
                        try {
                            r = i.map(function(e) {
                                return {
                                    initDataType: "cenc",
                                    initData: Lr(e),
                                    keyId: null
                                }
                            })
                        } catch (e) {
                            throw new ke(2,4,4007)
                        }
                        return {
                            node: e,
                            Jd: t,
                            keyId: n,
                            init: 0 < r.length ? r : null
                        }
                    }(n.value)) && t.push(n);
                return t
            }(e)
              , r = null
              , a = (e = [],
            [])
              , o = null
              , s = new Set(i.map(function(e) {
                return e.keyId
            }));
            if (s.delete(null),
            1 < s.size)
                throw new ke(2,4,4010);
            if (!t) {
                if (1 < (a = i.filter(function(e) {
                    return "urn:mpeg:dash:sea:2012" == e.Jd
                })).length)
                    throw new ke(2,4,4050);
                a.length && (o = function(e) {
                    if (!z.crypto || !z.crypto.subtle)
                        throw X("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),
                        new ke(2,4,4042);
                    var t = Or(e.node, "urn:mpeg:dash:schema:sea:2012", "SegmentEncryption");
                    if (!t)
                        throw new ke(2,4,4051);
                    if ("urn:mpeg:dash:sea:aes128-cbc:2013" != t.getAttribute("schemeIdUri"))
                        throw new ke(2,4,4051);
                    if (!(t = Or(e.node, "urn:mpeg:dash:schema:sea:2012", "CryptoPeriod")))
                        throw new ke(2,4,4051);
                    if (e = t.getAttribute("IV"),
                    t = t.getAttribute("keyUriTemplate"),
                    !e || !t)
                        throw new ke(2,4,4051);
                    if (16 != (e = Rr(e.substr(2))).byteLength)
                        throw new ke(2,4,4048);
                    return {
                        Qi: t,
                        iv: e
                    }
                }(a[0])),
                (a = i.filter(function(e) {
                    return "urn:mpeg:dash:mp4protection:2011" == e.Jd ? (r = e.init || r,
                    !1) : "urn:mpeg:dash:sea:2012" != e.Jd
                })).length && (0 == (e = function(e, t, n, i) {
                    for (var r, a = [], o = (t = we(t)).next(); !o.done; o = t.next()) {
                        o = o.value;
                        var s, u, l = n[o.Jd];
                        l && (r = (r = Or(o.node, "urn:microsoft:playready", "pro")) ? (r = Lr(r.textContent),
                        s = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]),
                        [{
                            initData: _r(r, s, new Set, 0),
                            initDataType: "cenc",
                            keyId: o.keyId
                        }]) : null,
                        s = null,
                        "urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e" === o.Jd && (s = 0 == (s = i).size ? null : (u = new Uint8Array([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75]),
                        [{
                            initData: _r(new Uint8Array([]), u, s, 1),
                            initDataType: "cenc",
                            keyId: o.keyId
                        }])),
                        r = Ge(l, o.init || e || r || s),
                        (l = Id.get(l)) && (r.licenseServerUri = l(o)),
                        a.push(r))
                    }
                    return a
                }(r, a, n, s)).length && (e = [Ge("", r)]))
            }
            if (i.length && !o && (t || !a.length))
                for (e = [],
                n = (t = we(Object.values(n))).next(); !n.done; n = t.next())
                    "org.w3.clearkey" != (n = n.value) && e.push(Ge(n, r));
            if (s = Array.from(s)[0] || null)
                for (n = (t = we(e)).next(); !n.done; n = t.next())
                    for (i = (n = we(n.value.initData)).next(); !i.done; i = n.next())
                        i.value.keyId = s;
            return {
                Ng: s,
                xk: r,
                drmInfos: e,
                gf: o,
                Rg: !0
            }
        }
        function Sd(e) {
            var t = Or(e.node, "https://dashif.org/CPS", "Laurl");
            if (t && t.textContent)
                return t.textContent;
            if (!(e = Or(e.node, "urn:microsoft:playready", "pro")))
                return "";
            if (!(e = function(e) {
                var t, n = 0, i = yt(e);
                if (i.getUint32(0, !0) != e.byteLength)
                    return [];
                e: {
                    for (e = 6,
                    n = []; e < i.byteLength - 1; ) {
                        t = i.getUint16(e, !0),
                        e += 2;
                        var r = i.getUint16(e, !0);
                        if (e += 2,
                        0 != (1 & r) || r + e > i.byteLength) {
                            i = [];
                            break e
                        }
                        var a = ne(i, e, r);
                        n.push({
                            type: t,
                            value: a
                        }),
                        e += r
                    }
                    i = n
                }
                return i
            }(e = Lr(e.textContent)).filter(function(e) {
                return e.type === xd
            })[0]))
                return "";
            if (e = Zr(e = cr(e.value, !0), "WRMHEADER")) {
                for (var n = e, i = (n = we(n.getElementsByTagName("DATA"))).next(); !i.done; i = n.next())
                    for (var r = (i = we(i.value.childNodes)).next(); !r.done; r = i.next())
                        if ((r = r.value)instanceof Element && "LA_URL" == r.tagName)
                            return r.textContent;
                return ""
            }
            return ""
        }
        At["video/mp4"] = function() {
            return new vd
        }
        ,
        Ad.prototype.init = function() {}
        ,
        Ad.prototype.parse = function(e) {
            var t = [];
            if (!uo(e = ne(e)))
                return t;
            var n = (e = (new oo).parse(e)).sd()
              , i = e.le();
            switch (e = [],
            n.video) {
            case "avc":
                e.push(6);
                break;
            case "hvc":
                e.push(39),
                e.push(40)
            }
            if (!e.length)
                return t;
            for (i = (n = we(i)).next(); !i.done; i = n.next())
                if (i = i.value,
                e.includes(i.type) && null != i.time)
                    for (var r = we(md(i.data)), a = r.next(); !a.done; a = r.next())
                        t.push({
                            packet: a.value,
                            pts: i.time
                        });
            return t
        }
        ,
        n("shaka.cea.TsCeaParser", Ad),
        At["video/mp2t"] = function() {
            return new Ad
        }
        ;
        var xd = 1
          , Id = (new Map).set("com.widevine.alpha", function(e) {
            var t = Or(e.node, "https://dashif.org/CPS", "Laurl");
            return t && t.textContent ? t.textContent : (e = Or(e.node, "urn:microsoft", "laurl")) && e.getAttribute("licenseUrl") || ""
        }).set("com.microsoft.playready", Sd).set("com.microsoft.playready.recommendation", Sd).set("com.microsoft.playready.software", Sd).set("com.microsoft.playready.hardware", Sd).set("org.w3.clearkey", function(e) {
            var t = Or(e.node, "https://dashif.org/CPS", "Laurl");
            return t && t.textContent ? t.textContent : (e = Or(e.node, "http://dashif.org/guidelines/clearKey", "Laurl")) && "EME-1.0" === e.getAttribute("Lic_type") && e.textContent ? e.textContent : ""
        });
        function kd(e, t, n, i, r, a) {
            var o = {
                RepresentationID: t,
                Number: n,
                SubNumber: i,
                Bandwidth: r,
                Time: a
            };
            return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g, function(e, t, n, i) {
                if ("$$" == e)
                    return "$";
                var r = o[t];
                if (null == r)
                    return e;
                switch ("RepresentationID" == t && n && (n = void 0),
                "Time" == t && "bigint" != typeof r && (.2 <= Math.abs(r - Math.round(r)) && X("Calculated $Time$ values must be close to integers"),
                r = Math.round(r)),
                i) {
                case void 0:
                case "d":
                case "i":
                case "u":
                    e = r.toString();
                    break;
                case "o":
                    e = r.toString(8);
                    break;
                case "x":
                    e = r.toString(16);
                    break;
                case "X":
                    e = r.toString(16).toUpperCase();
                    break;
                default:
                    e = r.toString()
                }
                return n = z.parseInt(n, 10) || 1,
                Array(Math.max(0, n - e.length) + 1).join("0") + e
            })
        }
        function Cd(e, t) {
            var n = 1
              , i = ((r = Ld(e, t, "timescale")) && (n = qr(r) || 1),
            Ld(e, t, "duration"))
              , r = qr(i || "")
              , a = ((r = "image" == e.P.contentType ? Jr(i || "") : r) && (r /= n),
            Ld(e, t, "startNumber"))
              , i = Number(Ld(e, t, "presentationTimeOffset")) || 0
              , o = Yr(a || "")
              , s = (null != a && null != o || (o = 1),
            Rd(e, t, "SegmentTimeline"));
            if (t = null,
            s) {
                t = n,
                e = e.ma.duration || 1 / 0;
                for (var a = o, s = jr(s, "S"), u = [], l = -i, c = 0; c < s.length; ++c) {
                    var h = s[c]
                      , d = s[c + 1]
                      , f = W(h, "t", Yr)
                      , p = W(h, "d", Yr)
                      , g = W(h, "r", Wr)
                      , h = W(h, "k", Wr) || 0;
                    if (null != f && (f -= i),
                    !p)
                        break;
                    if (f = null != f ? f : l,
                    (g = g || 0) < 0)
                        if (d) {
                            if (null == (d = W(d, "t", Yr)))
                                break;
                            if (d <= f)
                                break;
                            g = Math.ceil((d - f) / p) - 1
                        } else {
                            if (1 / 0 == e)
                                break;
                            if (e <= f / t)
                                break;
                            g = Math.ceil((e * t - f) / p) - 1
                        }
                    for (0 < u.length && f != l && (u[u.length - 1].end = f / t),
                    d = 0; d <= g; ++d)
                        u.push({
                            start: f / t,
                            end: (l = f + p) / t,
                            zg: f,
                            Bb: h,
                            nj: u.length + a
                        }),
                        f = l
                }
                t = u
            }
            return {
                timescale: n,
                Pa: r,
                Nd: o,
                Tb: i / n || 0,
                yg: i,
                timeline: t
            }
        }
        function Md(e, t) {
            return [t(e.P), t(e.Ea), t(e.Ka)].filter(Tn)
        }
        function Ld(e, t, n) {
            t = Md(e, t),
            e = null;
            for (var i = (t = we(t)).next(); !i.done && !(e = i.value.getAttribute(n)); i = t.next())
                ;
            return e
        }
        function Rd(e, t, n) {
            t = Md(e, t),
            e = null;
            for (var i = (t = we(t)).next(); !i.done && !(e = Ur(i.value, n)); i = t.next())
                ;
            return e
        }
        function Nd(e, t, n, i, r, a) {
            if (a = void 0 === a ? 0 : a,
            Fr(e, "http://www.w3.org/1999/xlink", "href"))
                return o = function(n, i, r, e, a, o) {
                    for (var s = Fr(n, "http://www.w3.org/1999/xlink", "href"), t = Fr(n, "http://www.w3.org/1999/xlink", "actuate") || "onRequest", u = we(Array.from(n.attributes)), l = u.next(); !l.done; l = u.next())
                        "http://www.w3.org/1999/xlink" == (l = l.value).namespaceURI && n.removeAttributeNS(l.namespaceURI, l.localName);
                    if (5 <= o)
                        return Bi(new ke(2,4,4028));
                    if ("onLoad" != t)
                        return Bi(new ke(2,4,4027));
                    var c = Fe([e], [s]);
                    return a.request(0, qi(c, i)).Fa(function(e) {
                        if (!(e = ea(e.data, n.tagName)))
                            return Bi(new ke(2,4,4001,s));
                        for (; n.childNodes.length; )
                            n.removeChild(n.childNodes[0]);
                        for (; e.childNodes.length; ) {
                            var t = e.childNodes[0];
                            e.removeChild(t),
                            n.appendChild(t)
                        }
                        for (t = (e = we(Array.from(e.attributes))).next(); !t.done; t = e.next())
                            n.setAttributeNode(t.value.cloneNode(!1));
                        return Nd(n, i, r, c[0], a, o + 1)
                    })
                }(e, t, n, i, r, a),
                n ? o.Fa(void 0, function() {
                    return Nd(e, t, n, i, r, a)
                }) : o;
            for (var o = [], s = we(Array.from(e.childNodes)), u = s.next(); !u.done; u = s.next())
                (u = u.value)instanceof Element && ("urn:mpeg:dash:resolve-to-zero:2013" == Fr(u, "http://www.w3.org/1999/xlink", "href") ? e.removeChild(u) : "SegmentTimeline" != u.tagName && o.push(Nd(u, t, n, i, r, a)));
            return Ki(o).Fa(function() {
                return e
            })
        }
        function Pd(e, t, n, i, r, a, o) {
            var s, u = (new yr).T("sidx", function(e) {
                s = function(e, t, n, i, r, a, o) {
                    var s = []
                      , u = (o.reader.skip(4),
                    o.reader.O());
                    if (0 == u)
                        throw new ke(2,3,3005);
                    {
                        var l, c;
                        c = 0 == o.version ? (l = o.reader.O(),
                        o.reader.O()) : (l = o.reader.Uc(),
                        o.reader.Uc())
                    }
                    o.reader.skip(2);
                    var h = o.reader.Ua();
                    for (e = e + o.size + c,
                    c = 0; c < h; c++) {
                        var d = o.reader.O()
                          , f = (2147483648 & d) >>> 31
                          , p = (d &= 2147483647,
                        o.reader.O());
                        if (o.reader.skip(4),
                        1 == f)
                            throw new ke(2,3,3006);
                        s.push(new P(l / u + n,(l + p) / u + n,function() {
                            return a
                        }
                        ,e,e + d - 1,t,n,i,r)),
                        l += p,
                        e += d
                    }
                    return o.parser.stop(),
                    s
                }(t, i, r, a, o, n, e)
            });
            if (e && u.parse(e),
            s)
                return s;
            throw new ke(2,3,3004)
        }
        function Dd(e) {
            this.h = yt(e),
            this.g = new gr(this.h,0)
        }
        function _d(e) {
            var t = Ud(e);
            if (7 < t.length)
                throw new ke(2,3,3002);
            for (var n = 0, i = (t = we(t)).next(); !i.done; i = t.next())
                n = 256 * n + i.value;
            t = Ud(e);
            e: {
                for (var r = (i = we(Od)).next(); !r.done; r = i.next())
                    if (pt(t, new Uint8Array(r.value))) {
                        i = !0;
                        break e
                    }
                i = !1
            }
            if (i)
                t = e.h.byteLength - e.g.Ga();
            else {
                if (8 == t.length && 224 & t[1])
                    throw new ke(2,3,3001);
                for (r = i = 0; r < t.length; r++) {
                    var a = t[r];
                    i = 0 == r ? a & (1 << 8 - t.length) - 1 : 256 * i + a
                }
                t = i
            }
            return t = e.g.Ga() + t <= e.h.byteLength ? t : e.h.byteLength - e.g.Ga(),
            i = yt(e.h, e.g.Ga(), t),
            e.g.skip(t),
            new jd(n,i)
        }
        function Ud(e) {
            var t = e.g.Ga()
              , n = e.g.ra();
            if (0 == n)
                throw new ke(2,3,3002);
            return n = 8 - Math.floor(Math.log2(n)),
            e.g.skip(n - 1),
            ne(e.h, t, n)
        }
        Dd.prototype.xa = function() {
            return this.g.xa()
        }
        ;
        var Od = [[255], [127, 255], [63, 255, 255], [31, 255, 255, 255], [15, 255, 255, 255, 255], [7, 255, 255, 255, 255, 255], [3, 255, 255, 255, 255, 255, 255], [1, 255, 255, 255, 255, 255, 255, 255]];
        function jd(e, t) {
            this.id = e,
            this.g = t
        }
        function Bd(e) {
            if (8 < e.g.byteLength)
                throw new ke(2,3,3002);
            if (8 == e.g.byteLength && 224 & e.g.getUint8(0))
                throw new ke(2,3,3001);
            for (var t = 0, n = 0; n < e.g.byteLength; n++)
                t = 256 * t + e.g.getUint8(n);
            return t
        }
        function Fd(e, t, n, i, r, a, o, s, u) {
            function l() {
                return r
            }
            var c = [];
            e = new Dd(e.g);
            for (var h = null, d = null; e.xa(); ) {
                var f, p = _d(e);
                187 != p.id || (f = function(e) {
                    var t = new Dd(e.g);
                    if (179 != (e = _d(t)).id)
                        throw new ke(2,3,3013);
                    if (e = Bd(e),
                    183 != (t = _d(t)).id)
                        throw new ke(2,3,3012);
                    t = new Dd(t.g);
                    for (var n = 0; t.xa(); ) {
                        var i = _d(t);
                        if (241 == i.id) {
                            n = Bd(i);
                            break
                        }
                    }
                    return {
                        wj: e,
                        cj: n
                    }
                }(p)) && (p = n * f.wj,
                f = t + f.cj,
                null != h && c.push(new P(h + o,p + o,l,d,f - 1,a,o,s,u)),
                h = p,
                d = f)
            }
            return null != h && c.push(new P(h + o,i + o,l,d,null,a,o,s,u)),
            c
        }
        function Gd(e, t, n) {
            if (!(t = Rd(e, t, "Initialization")))
                return null;
            var i = e.P.zb()
              , r = t.getAttribute("sourceURL")
              , a = (r && (i = Fe(i, [r])),
            r = 0,
            null);
            return (t = W(t, "range", Xr)) && (r = t.start,
            a = t.end),
            new Na(function() {
                return i
            }
            ,r,a,Wd(e),null,null,n)
        }
        function Vd(e, n, t) {
            var i = Number(Ld(e, Hd, "presentationTimeOffset")) || 0
              , r = Ld(e, Hd, "timescale")
              , a = 1
              , o = i / (a = r ? qr(r) || 1 : a) || 0
              , s = Gd(e, Hd, t)
              , i = e;
            if (Xd(i, s),
            !zd(i))
                throw new ke(2,4,4002);
            var u = En(e);
            return {
                Kc: function() {
                    var e = Rd(u, Hd, "RepresentationIndex")
                      , t = u.P.zb();
                    return (e = e && e.getAttribute("sourceURL")) && (t = Fe(t, [e])),
                    e = zd(u),
                    Kd(u, n, s, t, e.start, e.end, o)
                }
            }
        }
        function Kd(o, s, u, l, c, h, d) {
            var f, p, g, m, v, y, b, w, T, A, E, S;
            return Ie(function(e) {
                if (1 == e.g)
                    return f = o.presentationTimeline,
                    p = !o.Yb || !o.ma.Mf,
                    g = o.ma.start,
                    m = o.ma.duration,
                    v = o.P.mimeType.split("/")[1],
                    y = null,
                    w = [(b = s)(l, c, h, !1), "webm" == v ? b(u.ba(), u.hb, u.Na, !0) : null],
                    b = null,
                    Te(e, Promise.all(w), 2);
                if (b = e.h,
                w = b[0],
                T = b[1] || null,
                A = g - d,
                E = g,
                S = m ? g + m : 1 / 0,
                "mp4" == v)
                    var t = Pd(w, c, l, u, A, E, S);
                else {
                    if (440786851 != _d(t = new Dd(T)).id)
                        throw new ke(2,3,3008);
                    if (408125543 != (n = _d(t)).id)
                        throw new ke(2,3,3009);
                    for (var t = n.g.byteOffset, n = new Dd(n.g), i = null; n.xa(); ) {
                        var r = _d(n);
                        if (357149030 == r.id) {
                            i = r;
                            break
                        }
                    }
                    if (!i)
                        throw new ke(2,3,3010);
                    for (i = new Dd(i.g),
                    r = 1e6,
                    n = null; i.xa(); ) {
                        var a = _d(i);
                        if (2807729 == a.id)
                            r = Bd(a);
                        else if (17545 == a.id)
                            if (4 == a.g.byteLength)
                                n = a.g.getFloat32(0);
                            else {
                                if (8 != a.g.byteLength)
                                    throw new ke(2,3,3003);
                                n = a.g.getFloat64(0)
                            }
                    }
                    if (null == n)
                        throw new ke(2,3,3011);
                    if (n *= i = r / 1e9,
                    475249515 != (r = _d(new Dd(w))).id)
                        throw new ke(2,3,3007);
                    t = Fd(r, t, i, n, l, u, A, E, S)
                }
                return T = t,
                f.Dd(T),
                y = new us(T),
                p && y.Ic(E, S, !0),
                e.return(y)
            })
        }
        function Hd(e) {
            return e.Ld
        }
        function zd(e) {
            var t = Rd(e, Hd, "RepresentationIndex");
            return e = Xr((e = Ld(e, Hd, "indexRange")) || ""),
            e = t ? W(t, "range", Xr, e) : e
        }
        function Xd(e, t) {
            var n = e.P.mimeType.split("/")[1];
            if (e.P.contentType != he && "mp4" != n && "webm" != n)
                throw new ke(2,4,4006);
            if ("webm" == n && !t)
                throw new ke(2,4,4005)
        }
        function Wd(e) {
            var t = e.P;
            return {
                bandwidth: e.bandwidth,
                audioSamplingRate: t.audioSamplingRate,
                codecs: t.codecs,
                contentType: t.contentType,
                frameRate: t.frameRate || null,
                height: t.height || null,
                mimeType: t.mimeType,
                channelsCount: t.De,
                pixelAspectRatio: t.pixelAspectRatio || null,
                width: t.width || null
            }
        }
        function qd(e, t, n) {
            var i, r, a = Gd(e, Yd, n), o = (r = function(t) {
                return [t.P.fc, t.Ea.fc, t.Ka.fc].filter(Tn).map(function(e) {
                    return jr(e, "SegmentURL")
                }).reduce(function(e, t) {
                    return 0 < e.length ? e : t
                }).map(function(e) {
                    return e.getAttribute("indexRange") && !t.Zg && (t.Zg = !0),
                    {
                        Vi: e.getAttribute("media"),
                        start: (e = W(e, "mediaRange", Xr, {
                            start: 0,
                            end: null
                        })).start,
                        end: e.end
                    }
                })
            }(i = e),
            0 == (u = (i = Cd(i, Yd)).Nd) && (u = 1),
            o = 0,
            i.Pa ? o = i.Pa * (u - 1) : i.timeline && 0 < i.timeline.length && (o = i.timeline[0].start),
            {
                Pa: i.Pa,
                startTime: o,
                Nd: u,
                Tb: i.Tb,
                timeline: i.timeline,
                Rc: r
            });
            if (!o.Pa && !o.timeline && 1 < o.Rc.length)
                throw new ke(2,4,4002);
            if (!o.Pa && !e.ma.duration && !o.timeline && 1 == o.Rc.length)
                throw new ke(2,4,4002);
            if (o.timeline && 0 == o.timeline.length)
                throw new ke(2,4,4002);
            var s = null
              , u = null
              , l = (e.Ka.id && e.P.id && (u = t[e.Ka.id + "," + e.P.id]) && (s = u.segmentIndex),
            function(e, t, n, i, r, a) {
                var o = i.Rc.length;
                i.timeline && i.timeline.length != i.Rc.length && (o = Math.min(i.timeline.length, i.Rc.length));
                for (var s = e - i.Tb, u = t ? e + t : 1 / 0, l = [], c = i.startTime, h = {}, d = 0; d < o; h = {
                    kd: h.kd,
                    fd: h.fd
                },
                d++) {
                    h.fd = i.Rc[d];
                    var f = void 0;
                    f = null != i.Pa ? c + i.Pa : i.timeline ? i.timeline[d].end : c + t,
                    h.kd = null,
                    l.push(new P(e + c,e + f,function(e) {
                        return function() {
                            return null == e.kd && (e.kd = Fe(n(), [e.fd.Vi])),
                            e.kd
                        }
                    }(h),h.fd.start,h.fd.end,r,s,e,u,[],"",null,null,Da,a)),
                    c = f
                }
                return l
            }(e.ma.start, e.ma.duration, e.P.zb, o, a, n));
            return t = !s,
            s ? s.Cd(l, e.presentationTimeline.Ab()) : s = new us(l),
            e.presentationTimeline.Dd(l),
            e.Yb && e.ma.Mf || s.Ic(e.ma.start, e.ma.duration ? e.ma.start + e.ma.duration : 1 / 0, t),
            u && (u.segmentIndex = s),
            {
                Kc: function() {
                    return s && 0 != s.$b() || s.ze(l),
                    Promise.resolve(s)
                }
            }
        }
        function Yd(e) {
            return e.fc
        }
        function Jd(e, t, n, i, I, k, C) {
            var r, M = function(e, t) {
                var n = Ld(e, Qd, "initialization");
                if (!n)
                    return null;
                var i = e.P.id
                  , r = e.bandwidth || null
                  , a = e.P.zb;
                return new Na(function() {
                    var e = kd(n, i, null, null, r, null);
                    return Fe(a(), [e])
                }
                ,0,null,Wd(e),null,null,t)
            }(e, C), L = (a = Cd(r = e, Qd),
            o = Ld(r, Qd, "media"),
            r = Ld(r, Qd, "index"),
            {
                Pa: a.Pa,
                timescale: a.timescale,
                Nd: a.Nd,
                Tb: a.Tb,
                yg: a.yg,
                timeline: a.timeline,
                Sc: o,
                xd: r
            }), a = L, o = a.xd ? 1 : 0;
            if (0 == (o = (o += a.timeline ? 1 : 0) + (a.Pa ? 1 : 0)))
                throw new ke(2,4,4002);
            if (1 != o && (a.xd && (a.timeline = null),
            a.Pa = null),
            !a.xd && !a.Sc)
                throw new ke(2,4,4002);
            var R = En(e);
            if (L.xd)
                return Xd(e, M),
                {
                    Kc: function() {
                        var e = kd(L.xd, R.P.id, null, null, R.bandwidth || null, null)
                          , e = Fe(R.P.zb(), [e]);
                        return Kd(R, t, M, e, 0, null, L.Tb)
                    }
                };
            if (L.Pa)
                return i || "image" === e.Ea.contentType || (e.presentationTimeline.Wf(L.Pa),
                e.presentationTimeline.Ce(e.ma.start)),
                {
                    Kc: function() {
                        var e = R
                          , r = L
                          , t = I
                          , a = M
                          , n = k
                          , o = C;
                        function s(t) {
                            var n = (i = (t - p) * f) + r.Tb
                              , e = i + h
                              , i = e + f;
                            return (e = new P(e,Math.min(i, l()),function() {
                                var e = n * g;
                                return "BigInt"in z && e > Number.MAX_SAFE_INTEGER && (e = BigInt(n) * BigInt(g)),
                                e = kd(m, y, t, null, v, e),
                                Fe(b(), [e])
                            }
                            ,0,null,a,w,h,l(),[],"",null,null,Da,o)).h = i,
                            e
                        }
                        function u() {
                            var e = [Math.max(c.Ab(), h), Math.min(c.ac(), l())].map(function(e) {
                                return e - h
                            });
                            return [Math.ceil(e[0] / f), Math.ceil(e[1] / f) - 1].map(function(e) {
                                return e + p
                            })
                        }
                        function l() {
                            var e = null != i && n[i] || d;
                            return e ? h + e : 1 / 0
                        }
                        var c = e.presentationTimeline
                          , h = e.ma.start
                          , i = e.Ka.id
                          , d = e.ma.duration
                          , f = r.Pa
                          , p = r.Nd
                          , g = r.timescale
                          , m = r.Sc
                          , v = e.bandwidth || null
                          , y = e.P.id
                          , b = e.P.zb
                          , w = h - r.Tb
                          , T = u();
                        e = e.Yb ? Math.max(T[0], T[1] - t + 1) : T[0],
                        T = T[1],
                        t = [];
                        for (var A = e; A <= T; ++A) {
                            var E = s(A);
                            t.push(E)
                        }
                        var S, x = new us(t);
                        return t = c.ac() < l(),
                        A = c.R(),
                        (t || A) && (S = Math.max(e, T + 1),
                        x.Qe(f, function() {
                            var e = c.Ab();
                            x.yb(e),
                            (t = we(u())).next();
                            for (var t = t.next().value, n = []; S <= t; ) {
                                var i = s(S);
                                n.push(i),
                                S++
                            }
                            return e > l() && !n.length ? null : n
                        })),
                        Promise.resolve(x)
                    }
                };
            var s = null
              , u = (i = null,
            e.Ka.id && e.P.id && (i = n[i = e.Ka.id + "," + e.P.id]) && (s = i.segmentIndex),
            e.ma.start)
              , l = e.ma.duration ? u + e.ma.duration : 1 / 0
              , c = !(e.Yb && e.ma.Mf);
            return s ? (Zd(n = s, L, u, l, c, M),
            n.yb(e.presentationTimeline.Ab())) : s = new $d(L,e.P.id,e.bandwidth,e.P.zb,u,l,M,c,C,e.P.hg),
            L.timeline && "image" !== e.Ea.contentType && e.presentationTimeline.hh(L.timeline, u),
            i && e.Yb && (i.segmentIndex = s),
            {
                Kc: function() {
                    return s instanceof $d && 0 == s.$b() && Zd(s, L, u, l, c, M),
                    Promise.resolve(s)
                }
            }
        }
        function Qd(e) {
            return e.Md
        }
        function $d(e, t, n, i, r, a, o, s, u, l) {
            us.call(this, []),
            this.h = e,
            this.H = t,
            this.D = n,
            this.G = i,
            this.i = r,
            this.l = a,
            this.u = o,
            this.C = u,
            this.I = l,
            s && ef(this)
        }
        function Zd(e, t, n, i, r, a) {
            var o;
            e.u = a,
            e.h ? (n = e.h.timeline,
            e.h.Sc = t.Sc,
            o = n[n.length - 1],
            0 < (t = t.timeline.filter(function(e) {
                return e.start >= o.end
            })).length && e.h.timeline.push.apply(e.h.timeline, le(t)),
            e.l !== i && (e.l = i)) : (e.h = t,
            e.i = n,
            e.l = i),
            r && ef(e)
        }
        function ef(e) {
            if (!e.s) {
                for (var t = e.h.timeline; t.length && t[t.length - 1].start >= e.l; )
                    t.pop();
                e.yb(e.i)
            }
        }
        function tf(e, t, n, i, r, a, o) {
            return e = kd(e, t, n, a, i || null, r),
            Fe(o(), [e]).map(function(e) {
                return e.toString()
            })
        }
        function nf(e) {
            this.s = null,
            this.C = e,
            this.I = new Hi,
            this.j = [],
            this.h = null,
            this.m = [],
            this.D = null,
            this.H = [],
            this.G = 300,
            this.l = new Map,
            this.i = new Map,
            this.g = null,
            this.u = "UNKNOWN"
        }
        function rf(a, o) {
            var s, u;
            return Ie(function(e) {
                if (1 == e.g)
                    return s = Fe(a.j, [function(e, t) {
                        if (!e.m.length)
                            return t;
                        t = new ge(t);
                        var n = e.D || e.m[0]
                          , i = Math.round(e.C.getBandwidthEstimate())
                          , r = t.g;
                        return "DASH" == e.u ? (r.add("_DASH_pathway", n),
                        r.add("_DASH_throughput", String(i))) : "HLS" == e.u && (r.add("_HLS_pathway", n),
                        r.add("_HLS_throughput", String(i))),
                        je(r) && me(t, r),
                        t.toString()
                    }(a, o)]),
                    s = qi(s, a.s.retryParameters),
                    s = a.C.networkingEngine.request(8, s),
                    zi(a.I, s),
                    Ee(e, 2),
                    Te(e, s.promise, 4);
                if (2 != e.g) {
                    s = e.h,
                    u = lr(s.data),
                    u = JSON.parse(u);
                    if (1 == u.VERSION) {
                        var t = a;
                        var n = u;
                        var i = s.uri;
                        null != t.g && (t.g.stop(),
                        t.g = null);
                        var r = n["RELOAD-URI"] || i;
                        t.g = new I(function() {
                            rf(t, r)
                        }
                        ),
                        (i = n.TTL) && (t.G = i);
                        t.g.S(t.G),
                        t.m = n["PATHWAY-PRIORITY"] || [],
                        t.H = n["PATHWAY-CLONES"] || []
                    }
                    return Se(e, 0)
                }
                if ((u = xe(e)) && 7001 == u.code)
                    return e.return();
                null != a.g && (a.g.stop(),
                a.g = null),
                a.g = new I(function() {
                    rf(a, o)
                }
                ),
                a.g.S(a.G),
                Ae(e)
            })
        }
        function af(e, t, n, i) {
            var r = e.l.get(t);
            (r = r || new Map).set(n, i),
            e.l.set(t, r)
        }
        function of(i, e, t) {
            t = void 0 !== t && t,
            e = i.l.get(e) || new Map;
            for (var n, r = [], a = {}, o = we(i.m), s = o.next(); !s.done; a = {
                lc: a.lc
            },
            s = o.next())
                a.lc = s.value,
                (s = e.get(a.lc)) ? r.push({
                    cg: a.lc,
                    location: s
                }) : (s = i.H.find(function(t) {
                    return function(e) {
                        return e.Nj == t.lc
                    }
                }(a))) && (n = e.get(s["BASE-ID"])) && (s["URI-REPLACEMENT"].Dh ? (se(n = new ge(n), s["URI-REPLACEMENT"].Dh),
                r.push({
                    cg: a.lc,
                    location: n.toString()
                })) : r.push({
                    cg: a.lc,
                    location: n
                }));
            for (a = Date.now(),
            s = (o = we(i.i.keys())).next(); !s.done; s = o.next())
                s = s.value,
                (n = i.i.get(s)) < a && i.i.delete(s);
            if ((r = r.filter(function(e) {
                for (var t = we(i.i.keys()), n = t.next(); !n.done; n = t.next())
                    if (n.value.includes(new ge(e.location).Kb))
                        return !1;
                return !0
            })).length && (i.D = r[0].cg),
            !(r = r.map(function(e) {
                return e.location
            })).length && i.h)
                for (s = (a = we(i.h.split(","))).next(); !s.done; s = a.next())
                    (o = e.get(s.value)) && (i.D = i.h,
                    r.push(o));
            if (!r.length)
                for (a = (e = we(e.values())).next(); !a.done; a = e.next())
                    r.push(a.value);
            return t ? r : Fe(i.j, r)
        }
        function sf() {
            this.j = [],
            this.h = [],
            this.g = [],
            this.l = [],
            this.i = [],
            this.m = !1,
            this.s = new Set
        }
        function uf(e, t) {
            for (var n = [], i = [], r = [], a = [], o = (e = we(e)).next(); !o.done; o = e.next()) {
                var s, u = o.value, o = new Map(u.audioStreams.map(function(e) {
                    return [Nf(e), e]
                })), l = new Map(u.videoStreams.map(function(e) {
                    return [Rf(e), e]
                })), c = new Map(u.textStreams.map(function(e) {
                    return [Pf(e), e]
                })), u = new Map(u.imageStreams.map(function(e) {
                    return [Df(e), e]
                }));
                t && (s = kf(he),
                c.set(Pf(s), s),
                s = kf("image"),
                u.set(Df(s), s)),
                n.push(o),
                i.push(l),
                r.push(c),
                a.push(u)
            }
            return {
                Fg: n,
                Ah: i,
                wh: r,
                Yg: a
            }
        }
        function lf(t) {
            var n, i, r, a, o, s, u, l, c, h, d, f, p, g, m, v, y, b, w, T, A, E, S, x, I, k, C, M;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (n = He,
                    1 == t.length)
                        return e.return(t[0]);
                    for (y = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.U
                        }).map(function(e) {
                            return [Nf(e), e]
                        }))
                    }),
                    i = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.ia
                        }).map(function(e) {
                            return [Rf(e), e]
                        }))
                    }),
                    r = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.Da
                        }).map(function(e) {
                            return [Pf(e), e]
                        }))
                    }),
                    a = t.map(function(e) {
                        return new Map(e.filter(function(e) {
                            return e.type === n.cf
                        }).map(function(e) {
                            return [Df(e), e]
                        }))
                    }),
                    o = we(r),
                    s = o.next(); !s.done; s = o.next())
                        u = s.value,
                        l = If(n.Da),
                        u.set(Pf(l), l);
                    for (c = we(a),
                    h = c.next(); !h.done; h = c.next())
                        d = h.value,
                        f = If(n.cf),
                        d.set(Df(f), f);
                    return Te(e, cf(p = new sf, [], y, 0, pf, mf), 2);
                case 2:
                    return g = e.h,
                    Te(e, cf(p, [], i, 0, pf, mf), 3);
                case 3:
                    return m = e.h,
                    Te(e, cf(p, [], r, 0, pf, mf), 4);
                case 4:
                    return v = e.h,
                    Te(e, cf(p, [], a, 0, pf, mf), 5);
                case 5:
                    if (y = e.h,
                    b = 0,
                    m.length && g.length)
                        for (E = we(g),
                        S = E.next(); !S.done; S = E.next())
                            for (x = S.value,
                            I = we(m),
                            k = I.next(); !k.done; k = I.next())
                                C = k.value,
                                M = b++,
                                C.variantIds.push(M),
                                x.variantIds.push(M);
                    else
                        for (w = m.concat(g),
                        T = we(w),
                        A = T.next(); !A.done; A = T.next())
                            A.value.variantIds = [b++];
                    return e.return(m.concat(g).concat(v).concat(y))
                }
            })
        }
        function cf(s, u, l, c, h, d) {
            var f, p, g, m, v, y, b, w, T, A, E, S, x, I, k, C;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    for (f = [],
                    p = 0; p < c; p++)
                        f.push(new Set);
                    for (g = c; g < l.length; g++)
                        f.push(new Set(l[g].values()));
                    m = we(u),
                    v = m.next();
                case 2:
                    if (v.done) {
                        e.F(4);
                        break
                    }
                    return y = v.value,
                    Te(e, (t = s,
                    n = y,
                    i = l,
                    r = c,
                    a = d,
                    o = f,
                    Ie(function(e) {
                        return 1 == e.g ? (vf(t, i, n),
                        n.matchedStreams ? n.segmentIndex ? Te(e, hf(n, r), 2) : e.F(2) : e.return(!1)) : (df(n, r, a, o),
                        e.return(!0))
                    })), 5);
                case 5:
                    if (!e.h)
                        throw new ke(2,4,4037);
                    v = m.next(),
                    e.F(2);
                    break;
                case 4:
                    for (b = we(f),
                    w = b.next(); !w.done; w = b.next())
                        for (T = w.value,
                        A = we(T),
                        E = A.next(); !E.done; E = A.next())
                            S = E.value,
                            (S = function(e, t, n, i, r, a) {
                                if (Lf(t))
                                    return null;
                                var o = i(t);
                                return vf(e, n, o),
                                o.createSegmentIndex && (o.createSegmentIndex = function() {
                                    return Ie(function(e) {
                                        return o.segmentIndex ? e.F(0) : (o.segmentIndex = new ds,
                                        Te(e, hf(o, 0), 0))
                                    })
                                }
                                ),
                                o.matchedStreams && o.matchedStreams.length ? (df(o, 0, r, a),
                                o) : null
                            }(s, S, l, h, d, f)) && u.push(S);
                    for (x = we(f),
                    w = x.next(); !w.done; w = x.next())
                        for (I = w.value,
                        k = {},
                        C = we(I),
                        E = C.next(); !E.done; k = {
                            Wd: k.Wd
                        },
                        E = C.next())
                            if (k.Wd = E.value,
                            !Lf(k.Wd) && u.some(function(t) {
                                return function(e) {
                                    return bf(s, t.Wd, e)
                                }
                            }(k)))
                                throw new ke(2,4,4037);
                    return e.return(u)
                }
                var t, n, i, r, a, o
            })
        }
        function hf(t, n) {
            var i, r, a, o, s, u, l;
            return Ie(function(e) {
                if (1 == e.g) {
                    for (i = [],
                    r = t.matchedStreams,
                    a = we(r),
                    o = a.next(); !o.done; o = a.next())
                        s = o.value,
                        i.push(s.createSegmentIndex()),
                        s.trickModeVideo && !s.trickModeVideo.segmentIndex && i.push(s.trickModeVideo.createSegmentIndex());
                    return Te(e, Promise.all(i), 2)
                }
                if (t.segmentIndex instanceof ds)
                    for (u = {},
                    l = n; l < r.length; u = {
                        Gb: u.Gb
                    },
                    l++)
                        u.Gb = r[l],
                        u.Gb.segmentIndex && (ls(u.Gb.segmentIndex, function(t) {
                            return function(e) {
                                e.codecs = t.Gb.codecs,
                                e.mimeType = t.Gb.mimeType,
                                e.ka && (e.ka.codecs = t.Gb.codecs,
                                e.ka.mimeType = t.Gb.mimeType)
                            }
                        }(u)),
                        t.segmentIndex.h.push(u.Gb.segmentIndex));
                Ae(e)
            })
        }
        function df(e, t, n, i) {
            for (var r = e.matchedStreams; t < r.length; t++) {
                n(e, o = r[t]);
                var a = !0;
                if (a = "audio" == e.type && 0 == Qe(e.language, o.language) ? !1 : a) {
                    i[t].delete(o);
                    for (var o, a = new Set(e.codecs.split(",")), s = (o = we(o.codecs.split(","))).next(); !s.done; s = o.next())
                        (s = s.value) && a.add(s);
                    s = Array.from(a),
                    a = new Set,
                    o = [];
                    for (var u = (s = we(s)).next(); !u.done; u = s.next()) {
                        var l = ln(u = u.value);
                        a.has(l) || (o.push(u),
                        a.add(l))
                    }
                    e.codecs = o.join(",")
                }
            }
        }
        function ff(e) {
            var n = Object.assign({}, e);
            return n.originalId = null,
            n.createSegmentIndex = function() {
                return Promise.resolve()
            }
            ,
            n.closeSegmentIndex = function() {
                if (n.segmentIndex && (n.segmentIndex.release(),
                n.segmentIndex = null),
                n.matchedStreams)
                    for (var e = we(n.matchedStreams), t = e.next(); !t.done; t = e.next())
                        (t = t.value).segmentIndex && (t.segmentIndex.release(),
                        t.segmentIndex = null)
            }
            ,
            n.roles = n.roles.slice(),
            n.segmentIndex = null,
            n.emsgSchemeIdUris = [],
            n.keyIds = new Set,
            n.closedCaptions = null,
            n.trickModeVideo = null,
            n
        }
        function pf(e) {
            return (e = Object.assign({}, e)).roles = e.roles.slice(),
            e.keyIds = new Set,
            e.segments = [],
            e.variantIds = [],
            e.closedCaptions = null,
            e
        }
        function gf(e, t) {
            function n(e, t) {
                e = e || [];
                for (var n = (t = we(t)).next(); !n.done; n = t.next())
                    n = n.value,
                    e.includes(n) || e.push(n);
                return e
            }
            e.roles = n(e.roles, t.roles),
            t.emsgSchemeIdUris && (e.emsgSchemeIdUris = n(e.emsgSchemeIdUris, t.emsgSchemeIdUris));
            for (var i = we(t.keyIds), r = i.next(); !r.done; r = i.next())
                e.keyIds.add(r.value);
            if (null == e.originalId ? e.originalId = t.originalId : e.originalId += "," + (t.originalId || ""),
            i = ya(e.drmInfos, t.drmInfos),
            t.drmInfos.length && e.drmInfos.length && !i.length)
                throw new ke(2,4,4038);
            if (e.drmInfos = i,
            e.encrypted = e.encrypted || t.encrypted,
            t.closedCaptions)
                for (e.closedCaptions || (e.closedCaptions = new Map),
                r = (i = we(t.closedCaptions)).next(); !r.done; r = i.next()) {
                    var r = (a = we(r.value)).next().value
                      , a = a.next().value;
                    e.closedCaptions.set(r, a)
                }
            t.trickModeVideo ? (e.trickModeVideo || (e.trickModeVideo = ff(t.trickModeVideo),
            e.trickModeVideo.createSegmentIndex = function() {
                return e.trickModeVideo.segmentIndex = e.segmentIndex.clone(),
                Promise.resolve()
            }
            ),
            gf(e.trickModeVideo, t.trickModeVideo)) : e.trickModeVideo && gf(e.trickModeVideo, t)
        }
        function mf(e, t) {
            for (var n = (n = e.roles) || [], i = we(t.roles), r = i.next(); !r.done; r = i.next())
                r = r.value,
                n.includes(r) || n.push(r);
            for (e.roles = n,
            i = (n = we(t.keyIds)).next(); !i.done; i = n.next())
                e.keyIds.add(i.value);
            if (e.encrypted = e.encrypted && t.encrypted,
            e.segments.push.apply(e.segments, le(t.segments)),
            t.closedCaptions)
                for (e.closedCaptions || (e.closedCaptions = new Map),
                n = (t = we(t.closedCaptions)).next(); !n.done; n = t.next())
                    n = (i = we(n.value)).next().value,
                    i = i.next().value,
                    e.closedCaptions.set(n, i)
        }
        function vf(e, t, n) {
            for (var i = [], r = (t = we(t)).next(); !r.done; r = t.next()) {
                if (!(r = function(n, e, t) {
                    var i = null
                      , r = (0,
                    {
                        audio: Nf,
                        video: Rf,
                        text: Pf,
                        image: Df
                    }[t.type])(t);
                    if (e.has(r))
                        i = e.get(r);
                    else {
                        r = {
                            audio: function(e, t) {
                                return bf(n, e, t)
                            },
                            video: function(e, t) {
                                return bf(n, e, t)
                            },
                            text: wf,
                            image: Tf
                        }[t.type];
                        for (var a = {
                            audio: Af,
                            video: Ef,
                            text: Sf,
                            image: xf
                        }[t.type], o = (e = we(e.values())).next(); !o.done; o = e.next())
                            o = o.value,
                            !r(t, o) || t.fastSwitching != o.fastSwitching || i && !a(t, i, o) || (i = o)
                    }
                    return i
                }(e, r.value, n)))
                    return;
                i.push(r)
            }
            n.matchedStreams = i
        }
        function yf(e, t) {
            function n(e) {
                var t;
                return jf.has(e) || (t = un(e),
                jf.set(e, t)),
                jf.get(e)
            }
            return e.mimeType == t.mimeType && n(e.codecs) == n(t.codecs)
        }
        function bf(e, t, n) {
            return !(!yf(t, n) && !e.m || t.drmInfos && !va(t.drmInfos, n.drmInfos))
        }
        function wf(e, t) {
            return !t.language || e.forced === t.forced && 0 != Qe(e.language, t.language) && t.kind == e.kind
        }
        function Tf() {
            return !0
        }
        function Af(t, e, n) {
            var i = yf(t, e)
              , r = yf(t, n);
            if (i && !r)
                return !1;
            if (!i && r)
                return !0;
            if ((i = Qe(t.language, e.language)) < (r = Qe(t.language, n.language)))
                return !0;
            if (r < i)
                return !1;
            if (e.label !== n.label) {
                if (t.label === e.label)
                    return !1;
                if (t.label === n.label)
                    return !0
            }
            return t.roles.length ? (i = e.roles.filter(function(e) {
                return t.roles.includes(e)
            }),
            (r = n.roles.filter(function(e) {
                return t.roles.includes(e)
            })).length > i.length || !(r.length < i.length) && n.roles.length < e.roles.length) : !(n.roles.length || !e.roles.length) || !(n.roles.length && !e.roles.length) && (!(e.primary || !n.primary) || !(e.primary && !n.primary) && ((i = Cf(t.channelsCount, e.channelsCount, n.channelsCount)) == _f || i != Of && ((i = Cf(t.audioSamplingRate, e.audioSamplingRate, n.audioSamplingRate)) == _f || i != Of && !(!t.bandwidth || Mf(t.bandwidth, e.bandwidth, n.bandwidth) != _f))))
        }
        function Ef(e, t, n) {
            var i = yf(e, t)
              , r = yf(e, n);
            if (i && !r)
                return !1;
            if (!i && r)
                return !0;
            if ((i = Cf(e.width * e.height, t.width * t.height, n.width * n.height)) == _f)
                return !0;
            if (i == Of)
                return !1;
            if (e.frameRate) {
                if ((i = Cf(e.frameRate, t.frameRate, n.frameRate)) == _f)
                    return !0;
                if (i == Of)
                    return !1
            }
            return !(!e.bandwidth || Mf(e.bandwidth, t.bandwidth, n.bandwidth) != _f)
        }
        function Sf(t, e, n) {
            var i = Qe(t.language, e.language)
              , r = Qe(t.language, n.language);
            if (i < r)
                return !0;
            if (r < i)
                return !1;
            if (!e.primary && n.primary)
                return !0;
            if (e.primary && !n.primary)
                return !1;
            if (e.label !== n.label) {
                if (t.label === e.label)
                    return !1;
                if (t.label === n.label)
                    return !0
            }
            if (t.roles.length) {
                if (i = e.roles.filter(function(e) {
                    return t.roles.includes(e)
                }),
                (r = n.roles.filter(function(e) {
                    return t.roles.includes(e)
                })).length > i.length)
                    return !0;
                if (r.length < i.length)
                    return !1
            } else {
                if (!n.roles.length && e.roles.length)
                    return !0;
                if (n.roles.length && !e.roles.length)
                    return !1
            }
            return n.mimeType == t.mimeType && n.codecs == t.codecs && (e.mimeType != t.mimeType || e.codecs != t.codecs)
        }
        function xf(e, t, n) {
            return Cf(e.width * e.height, t.width * t.height, n.width * n.height) == _f
        }
        function If(e) {
            return {
                id: 0,
                originalId: "",
                groupId: null,
                primary: !1,
                type: e,
                mimeType: "",
                codecs: "",
                language: "",
                originalLanguage: null,
                label: null,
                width: null,
                height: null,
                encrypted: !1,
                keyIds: new Set,
                segments: [],
                variantIds: [],
                roles: [],
                forced: !1,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                closedCaptions: null,
                external: !1,
                fastSwitching: !1
            }
        }
        function kf(e) {
            return {
                id: 0,
                originalId: "",
                groupId: null,
                createSegmentIndex: function() {
                    return Promise.resolve()
                },
                segmentIndex: new us([]),
                mimeType: "",
                codecs: "",
                encrypted: !1,
                drmInfos: [],
                keyIds: new Set,
                language: "",
                originalLanguage: null,
                label: null,
                type: e,
                primary: !1,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                roles: [],
                forced: !1,
                channelsCount: null,
                audioSamplingRate: null,
                spatialAudio: !1,
                closedCaptions: null,
                accessibilityPurpose: null,
                external: !1,
                fastSwitching: !1
            }
        }
        function Cf(e, t, n) {
            if (t == e && e != n)
                return Of;
            if (n == e && e != t)
                return _f;
            if (e < t) {
                if (n <= e || n - e < t - e)
                    return _f;
                if (t - e < n - e)
                    return Of
            } else {
                if (e < n)
                    return Of;
                if (e - n < e - t)
                    return _f;
                if (e - t < e - n)
                    return Of
            }
            return Uf
        }
        function Mf(e, t, n) {
            return t = Math.abs(e - t),
            (e = Math.abs(e - n)) < t ? _f : t < e ? Of : Uf
        }
        function Lf(e) {
            switch (e.type) {
            case he:
                return !e.language;
            case "image":
                return !e.tilesLayout;
            default:
                return
            }
        }
        function Rf(e) {
            return JSON.stringify([e.fastSwitching, e.width, e.frameRate, e.codecs, e.mimeType, e.label, e.roles, e.closedCaptions ? Array.from(e.closedCaptions.entries()) : null, e.bandwidth])
        }
        function Nf(e) {
            return JSON.stringify([e.fastSwitching, e.channelsCount, e.language, e.bandwidth, e.label, e.codecs, e.mimeType, e.roles, e.audioSamplingRate, e.primary])
        }
        function Pf(e) {
            return JSON.stringify([e.language, e.label, e.codecs, e.mimeType, e.bandwidth, e.roles])
        }
        function Df(e) {
            return JSON.stringify([e.width, e.codecs, e.mimeType])
        }
        t($d, us),
        (e = $d.prototype).$b = function() {
            return this.h ? this.h.timeline.length : 0
        }
        ,
        e.release = function() {
            us.prototype.release.call(this),
            this.h = null
        }
        ,
        e.yb = function(e) {
            if (this.h) {
                for (var t = 0, n = this.h.timeline, i = 0; i < n.length && n[i].end + this.i <= e; i += 1)
                    t += 1;
                0 < t && (this.h.timeline = n.slice(t),
                this.g.length >= t && (this.g = this.g.slice(t)),
                this.j += t,
                0 === this.$b() && this.release())
            }
        }
        ,
        e.find = function(e) {
            if (this.h && this.h.timeline && this.h.timeline.length && e < this.h.timeline[0].start + this.i)
                return this.j;
            if (!this.h)
                return null;
            var t = this.h.timeline;
            if (e < this.i || e >= this.l)
                return null;
            for (var n = t.length - 1, i = 0; i < t.length; i++) {
                var r = (a = t[i]).start + this.i
                  , a = i < n ? t[i + 1].start + this.i : 1 / 0 === this.l ? a.end + this.i : this.l;
                if (r <= e && e < a)
                    return i + this.j
            }
            return null
        }
        ,
        e.get = function(e) {
            var t = this;
            if ((e -= this.j) < 0 || e >= this.$b() || !this.h)
                return null;
            if (!(o = this.g[e])) {
                var n = this.h.Sc
                  , i = this.h.timeline[e]
                  , r = i.nj
                  , a = this.h.yg + i.zg
                  , o = this.i - this.h.Tb
                  , s = this.i + i.end
                  , u = s;
                e === this.$b() - 1 && 1 / 0 !== this.l && (u = this.l);
                for (var l = [], c = (i.end - i.start) / i.Bb, h = {}, d = 0; d < i.Bb; h = {
                    ld: h.ld,
                    $e: h.$e
                },
                d++) {
                    var f = i.start + c * d
                      , p = f + c;
                    h.$e = d + 1,
                    h.ld = null,
                    f = new P(this.i + f,this.i + p,function(e) {
                        return function() {
                            return t.h ? (null == e.ld && (e.ld = tf(t.h.Sc, t.H, r, t.D, a, e.$e, t.G)),
                            e.ld) : []
                        }
                    }(h),0,null,this.u,o,this.i,this.l,[],"",null,null,Da,this.C),
                    0 == this.I ? 0 < d && f.xe() : 0 != d % this.I && f.xe(),
                    l.push(f)
                }
                (o = new P(this.i + i.start,u,function() {
                    return 0 < i.Bb ? [] : tf(n, t.H, r, t.D, a, null, t.G)
                }
                ,0,null,this.u,o,this.i,this.l,l,"",null,null,Da,this.C,0 < i.Bb)).h = s,
                this.g[e] = o
            }
            return o
        }
        ,
        nf.prototype.configure = function(e) {
            this.s = e
        }
        ,
        nf.prototype.destroy = function() {
            return this.C = this.s = null,
            this.j = [],
            this.h = null,
            this.m = [],
            this.H = [],
            this.l.clear(),
            null != this.g && (this.g.stop(),
            this.g = null),
            this.I.destroy()
        }
        ,
        nf.prototype.setManifestType = function(e) {
            this.u = e
        }
        ,
        (e = sf.prototype).release = function() {
            for (var e = we(this.h.concat(this.g, this.l, this.i)), t = e.next(); !t.done; t = e.next())
                (t = t.value).segmentIndex && t.segmentIndex.release();
            this.h = [],
            this.g = [],
            this.l = [],
            this.i = [],
            this.j = []
        }
        ,
        e.Ci = function() {
            return this.j
        }
        ,
        e.Jf = function() {
            return this.l.slice()
        }
        ,
        e.ei = function() {
            return this.i
        }
        ,
        e.Kg = function(t, n) {
            var i, r, a, o, s, u, l, c, h, d, f, p, g, m, v, y, b, w, T, A, E, S, x, I = this;
            return Ie(function(e) {
                if (1 == e.g) {
                    if (i = He,
                    !n && 1 == t.length)
                        return c = uf(t, !1),
                        s = c.Fg,
                        u = c.Ah,
                        l = c.wh,
                        c = c.Yg,
                        I.h = Array.from(s[0].values()),
                        I.g = Array.from(u[0].values()),
                        I.l = Array.from(l[0].values()),
                        I.i = Array.from(c[0].values()),
                        e.F(2);
                    for (r = -1,
                    a = 0; a < t.length; a++)
                        o = t[a],
                        I.s.has(o.id) || (I.s.add(o.id),
                        -1 == r && (r = a));
                    return -1 == r ? e.return() : (s = uf(t, !0),
                    u = s.Fg,
                    l = s.Ah,
                    c = s.wh,
                    f = s.Yg,
                    Te(e, Promise.all([cf(I, I.h, u, r, ff, gf), cf(I, I.g, l, r, ff, gf), cf(I, I.l, c, r, ff, gf), cf(I, I.i, f, r, ff, gf)]), 2))
                }
                if (h = 0,
                d = [],
                I.g.length && I.h.length)
                    for (y = we(I.h),
                    b = y.next(); !b.done; b = y.next())
                        for (w = b.value,
                        T = we(I.g),
                        A = T.next(); !A.done; A = T.next())
                            E = A.value,
                            S = ya(w.drmInfos, E.drmInfos),
                            w.drmInfos.length && E.drmInfos.length && !S.length || (x = h++,
                            d.push({
                                id: x,
                                language: w.language,
                                disabledUntilTime: 0,
                                primary: w.primary,
                                audio: w,
                                video: E,
                                bandwidth: (w.bandwidth || 0) + (E.bandwidth || 0),
                                drmInfos: S,
                                allowedByApplication: !0,
                                allowedByKeySystem: !0,
                                decodingInfos: []
                            }));
                else
                    for (f = I.g.length ? I.g : I.h,
                    p = we(f),
                    g = p.next(); !g.done; g = p.next())
                        m = g.value,
                        v = h++,
                        d.push({
                            id: v,
                            language: m.language,
                            disabledUntilTime: 0,
                            primary: m.primary,
                            audio: m.type == i.U ? m : null,
                            video: m.type == i.ia ? m : null,
                            bandwidth: m.bandwidth || 0,
                            drmInfos: m.drmInfos,
                            allowedByApplication: !0,
                            allowedByKeySystem: !0,
                            decodingInfos: []
                        });
                I.j = d,
                Ae(e)
            })
        }
        ,
        n("shaka.util.PeriodCombiner", sf),
        sf.prototype.combinePeriods = sf.prototype.Kg,
        sf.prototype.getImageStreams = sf.prototype.ei,
        sf.prototype.getTextStreams = sf.prototype.Jf,
        sf.prototype.getVariants = sf.prototype.Ci;
        var _f = 1
          , Uf = 0
          , Of = -1
          , jf = new Map;
        function Bf() {
            var e = this;
            this.i = this.h = null,
            this.s = [],
            this.j = null,
            this.K = 1,
            this.m = {},
            this.M = {},
            this.l = new sf,
            this.H = 0,
            this.J = new at(5),
            this.I = new I(function() {
                var t, n, i;
                t = e,
                Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        return n = 0,
                        Ee(e, 2),
                        Te(e, Ff(t), 4);
                    case 4:
                        n = e.h,
                        Se(e, 3);
                        break;
                    case 2:
                        if (i = xe(e),
                        t.i) {
                            if (t.h.raiseFatalErrorOnManifestUpdateRequestFailure)
                                return t.i.onError(i),
                                e.return();
                            i.severity = 1,
                            t.i.onError(i)
                        }
                    case 3:
                        if (!t.i)
                            return e.return();
                        t.i.onManifestUpdated(),
                        Kf(t, n),
                        Ae(e)
                    }
                })
            }
            ),
            this.G = new Hi,
            this.C = null,
            this.L = [],
            this.D = 1 / 0,
            this.u = !1,
            this.g = null
        }
        function Ff(o) {
            var s, u, l, c;
            return Ie(function(e) {
                return 1 == e.g ? (u = o.s,
                1 < o.s.length && o.g && ((s = of(o.g, "Location", !0)).length && (u = s)),
                s = qi(u, o.h.retryParameters),
                u = Date.now(),
                Te(e, Wf(o, s, 0, {
                    type: 4
                }), 2)) : 3 != e.g ? (l = e.h,
                o.i ? (l.uri && l.uri != l.originalUri && !o.s.includes(l.uri) && o.s.unshift(l.uri),
                Te(e, (t = o,
                n = l.data,
                i = l.uri,
                Ie(function(e) {
                    if (1 != e.g)
                        return a = e.h,
                        e.return(Gf(t, a, i));
                    if (a = ea(n, "MPD"))
                        return t.h.dash.disableXlinkProcessing ? e.return(Gf(t, a, i)) : (r = t.h.dash.xlinkFailGracefully,
                        r = Nd(a, t.h.retryParameters, r, i, t.i.networkingEngine),
                        zi(t.G, r),
                        Te(e, r.promise, 2));
                    throw new ke(2,4,4001,i)
                })), 3)) : e.return(0)) : (l = Date.now(),
                c = (l - u) / 1e3,
                o.J.sample(1, c),
                e.return(c));
                var t, n, i, r, a
            })
        }
        function Gf(c, h, d) {
            var f, p, g, m, v, y, b, w, T, A, E, S, x, I, k, C, M, L, R, N, P, D, _, U, O, j, B, F, G, V, K, H;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    for ((w = c.h.dash.manifestPreprocessor) && w(h),
                    c.g && c.g.l.clear(),
                    f = [d],
                    p = [],
                    g = new Map,
                    w = jr(h, "Location"),
                    m = we(w),
                    v = m.next(); !v.done; v = m.next())
                        b = v.value,
                        y = b.getAttribute("serviceLocation"),
                        (b = Vr(b)) && (b = Fe(f, [b])[0],
                        y && (c.g ? af(c.g, "Location", y, b) : g.set(y, b)),
                        p.push(b));
                    if (c.g ? 0 < (w = of(c.g, "Location", !0)).length && (f = c.s = w) : p.length && (f = c.s = p),
                    w = Promise.resolve(),
                    (V = Ur(h, "ContentSteering")) && c.i)
                        for (R = V.getAttribute("defaultServiceLocation"),
                        c.g ? (c.g.j = f,
                        c.g.h = R) : (c.g = new nf(c.i),
                        c.g.configure(c.h),
                        c.g.setManifestType("DASH"),
                        c.g.j = f,
                        c.g.h = R,
                        (R = Vr(V)) && (W(V, "queryBeforeStart", Qr, !1) ? w = rf(c.g, R) : rf(c.g, R))),
                        T = we(g.keys()),
                        A = T.next(); !A.done; A = T.next())
                            E = A.value,
                            S = g.get(E),
                            af(c.g, "Location", E, S);
                    if (V = jr(h, "BaseURL"),
                    I = !1,
                    c.g)
                        for (k = we(V),
                        C = k.next(); !C.done; C = k.next())
                            L = C.value,
                            M = L.getAttribute("serviceLocation"),
                            L = Vr(L),
                            M && L && (af(c.g, "BaseURL", M, L),
                            I = !0);
                    if (I && c.g || (R = V.map(Vr),
                    x = Fe(f, R)),
                    N = function() {
                        return c.g && I ? of(c.g, "BaseURL") : x || []
                    }
                    ,
                    G = 0,
                    V && V.length && (G = W(V[0], "availabilityTimeOffset", Jr) || 0),
                    V = c.h.dash.ignoreMinBufferTime,
                    P = 0,
                    V || (P = W(h, "minBufferTime", zr) || 0),
                    c.H = W(h, "minimumUpdatePeriod", zr, -1),
                    V = W(h, "availabilityStartTime", Hr),
                    H = W(h, "timeShiftBufferDepth", zr),
                    K = c.h.dash.ignoreSuggestedPresentationDelay,
                    B = null,
                    K || (B = W(h, "suggestedPresentationDelay", zr)),
                    K = c.h.dash.ignoreMaxSegmentDuration,
                    D = null,
                    K || (D = W(h, "maxSegmentDuration", zr)),
                    K = h.getAttribute("type") || "static",
                    c.j)
                        for (_ = c.j.presentationTimeline,
                        U = we(Object.values(c.m)),
                        O = U.next(); !O.done; O = U.next())
                            (j = O.value).segmentIndex && j.segmentIndex.yb(_.Ab());
                    else
                        F = c.h.defaultPresentationDelay || 1.5 * P,
                        _ = new fe(V,null != B ? B : F,c.h.dash.autoCorrectDrift);
                    return _.Vc("static" == K),
                    null == (H = _.R() && !isNaN(c.h.availabilityWindowOverride) ? c.h.availabilityWindowOverride : H) && (H = 1 / 0),
                    _.Ne(H),
                    V = h.getAttribute("profiles") || "",
                    B = {
                        Yb: "static" != K,
                        presentationTimeline: _,
                        Ka: null,
                        ma: null,
                        Ea: null,
                        P: null,
                        bandwidth: 0,
                        Zg: !1,
                        Hc: G,
                        profiles: V.split(",")
                    },
                    F = function(e, t, n, i) {
                        var r = W(i, "mediaPresentationDuration", zr)
                          , a = []
                          , o = 0;
                        i = jr(i, "Period");
                        for (var s = 0; s < i.length; s++) {
                            var u, l = i[s], c = i[s + 1], h = W(l, "start", zr, o), d = l.id, f = W(l, "duration", zr), p = null;
                            if (c ? null != (u = W(c, "start", zr)) && (p = u - h) : null != r && (p = r - h),
                            null == p && (p = f),
                            !(null !== e.C && null !== d && null !== h && h < e.C) || e.L.includes(d) || s + 1 == i.length) {
                                if (null !== h && (null === e.C || h > e.C) && (e.C = h),
                                o = function(S, x, e, t) {
                                    x.Ka = Hf(S, t.node, null, e),
                                    x.ma = t,
                                    x.Ka.Hc = x.Hc,
                                    x.Ka.id || (x.Ka.id = "__shaka_period_" + t.start);
                                    var n = jr(t.node, "EventStream");
                                    e = x.presentationTimeline.Ab();
                                    for (var i = (n = we(n)).next(); !i.done; i = n.next())
                                        !function(e, t, n, i, r) {
                                            for (var a = i.getAttribute("schemeIdUri") || "", o = i.getAttribute("value") || "", s = W(i, "timescale", Yr) || 1, u = (i = we(jr(i, "Event"))).next(); !u.done; u = i.next()) {
                                                var l = W(u = u.value, "presentationTime", Yr) || 0
                                                  , c = W(u, "duration", Yr) || 0;
                                                c = (l = l / s + t) + c / s,
                                                null != n && (l = Math.min(l, t + n),
                                                c = Math.min(c, t + n)),
                                                c < r || (u = {
                                                    schemeIdUri: a,
                                                    value: o,
                                                    startTime: l,
                                                    endTime: c,
                                                    id: u.getAttribute("id") || "",
                                                    eventElement: u
                                                },
                                                e.i.onTimelineRegionAdded(u))
                                            }
                                        }(S, t.start, t.duration, i.value, e);
                                    if (e = jr(t.node, "AdaptationSet").map(function(e) {
                                        var t = S
                                          , n = x;
                                        function i(e) {
                                            switch (e) {
                                            case 1:
                                            case 6:
                                            case 13:
                                            case 14:
                                            case 15:
                                                return "SDR";
                                            case 16:
                                                return "PQ";
                                            case 18:
                                                return "HLG"
                                            }
                                        }
                                        n.Ea = Hf(t, e, n.Ka, null);
                                        var r = !1
                                          , a = jr(e, "Role")
                                          , o = a.map(function(e) {
                                            return e.getAttribute("value")
                                        }).filter(Tn)
                                          , s = void 0
                                          , u = n.Ea.contentType == he;
                                        u && (s = "subtitle");
                                        for (var l, c = (a = we(a)).next(); !c.done; c = a.next()) {
                                            var h = (c = c.value).getAttribute("schemeIdUri");
                                            if (null == h || "urn:mpeg:dash:role:2011" == h)
                                                switch (c = c.getAttribute("value"),
                                                c) {
                                                case "main":
                                                    r = !0;
                                                    break;
                                                case "caption":
                                                case "subtitle":
                                                    s = c
                                                }
                                        }
                                        h = jr(e, "EssentialProperty"),
                                        a = null;
                                        var d = !1;
                                        c = !1;
                                        for (var f = (h = we(h)).next(); !f.done; f = h.next()) {
                                            var p = (f = f.value).getAttribute("schemeIdUri");
                                            "http://dashif.org/guidelines/trickmode" == p ? a = f.getAttribute("value") : "urn:mpeg:mpegB:cicp:TransferCharacteristics" == p ? l = i(parseInt(f.getAttribute("value"), 10)) : "urn:mpeg:mpegB:cicp:ColourPrimaries" != p && "urn:mpeg:mpegB:cicp:MatrixCoefficients" != p && ("urn:mpeg:dash:ssr:2023" == p ? d = !0 : c = !0)
                                        }
                                        for (h = we(h = jr(e, "SupplementalProperty")),
                                        f = h.next(); !f.done; f = h.next())
                                            "urn:mpeg:mpegB:cicp:TransferCharacteristics" == (f = f.value).getAttribute("schemeIdUri") && (l = i(parseInt(f.getAttribute("value"), 10)));
                                        h = jr(e, "Accessibility");
                                        var g, m = new Map;
                                        for (h = we(h),
                                        f = h.next(); !f.done; f = h.next())
                                            if (p = f.value,
                                            f = p.getAttribute("schemeIdUri"),
                                            p = p.getAttribute("value"),
                                            "urn:scte:dash:cc:cea-608:2015" == f)
                                                if (f = 1,
                                                null != p)
                                                    for (var v = we(p = p.split(";")), y = v.next(); !y.done; y = v.next()) {
                                                        var b = y.value
                                                          , w = y = void 0;
                                                        w = b.includes("=") ? (b = b.split("="),
                                                        y = b[0].startsWith("CC") ? b[0] : "CC" + b[0],
                                                        b[1] || "und") : (y = "CC" + f,
                                                        2 == p.length ? f += 2 : f++,
                                                        b),
                                                        m.set(y, de(w))
                                                    }
                                                else
                                                    m.set("CC1", "und");
                                            else if ("urn:scte:dash:cc:cea-708:2015" == f)
                                                if (f = 1,
                                                null != p)
                                                    for (p = we(p.split(";")),
                                                    y = p.next(); !y.done; y = p.next())
                                                        y = y.value,
                                                        b = v = void 0,
                                                        b = y.includes("=") ? (y = y.split("="),
                                                        v = "svc" + y[0],
                                                        y[1].split(",")[0].split(":").pop()) : (v = "svc" + f,
                                                        f++,
                                                        y),
                                                        m.set(v, de(b));
                                                else
                                                    m.set("svc1", "und");
                                            else
                                                "urn:mpeg:dash:role:2011" == f ? null != p && (o.push(p),
                                                "captions" == p && (s = "caption")) : "urn:tva:metadata:cs:AudioPurposeCS:2007" == f && ("1" == p ? g = "visually impaired" : "2" == p && (g = "hard of hearing"));
                                        if (c)
                                            return null;
                                        var T = Ed(c = jr(e, "ContentProtection"), t.h.dash.ignoreDrmInfo, t.h.dash.keySystemsByURI)
                                          , A = de(n.Ea.language || "und")
                                          , E = e.getAttribute("label");
                                        if ((c = jr(e, "Label")) && c.length && (c = c[0]).textContent && (E = c.textContent),
                                        c = jr(e, "Representation"),
                                        0 == (e = c.map(function(e) {
                                            return (e = function(d, e, t, n, i, r, a, o, s, u, l) {
                                                if (e.P = Hf(d, u, e.Ea, null),
                                                d.D = Math.min(d.D, e.P.Hc),
                                                !function(e) {
                                                    var t = e.Ld ? 1 : 0;
                                                    return 0 == (t = (t += e.fc ? 1 : 0) + (e.Md ? 1 : 0)) ? e.contentType == he || "application" == e.contentType : (1 != t && (e.Ld && (e.fc = null),
                                                    e.Md = null),
                                                    !0)
                                                }(e.P))
                                                    return null;
                                                var c = e.ma.start
                                                  , h = (e.bandwidth = W(u, "bandwidth", qr) || 0,
                                                e.P.contentType)
                                                  , f = h == he || "application" == h;
                                                h = "image" == h;
                                                try {
                                                    var p, g, m, v, y, b, w = void 0;
                                                    t.gf && (p = e.P.zb,
                                                    g = Fe(p(), [t.gf.Qi]),
                                                    m = qi(g, d.h.retryParameters),
                                                    w = {
                                                        method: "AES-128",
                                                        iv: t.gf.iv,
                                                        firstMediaSequenceNumber: 0,
                                                        fetchKey: function() {
                                                            var t, n, i;
                                                            return Ie(function(e) {
                                                                if (1 == e.g)
                                                                    return Te(e, Wf(d, m, 6), 2);
                                                                if (3 != e.g) {
                                                                    if ((t = e.h).data && 16 == t.data.byteLength)
                                                                        return n = {
                                                                            name: "AES-CBC"
                                                                        },
                                                                        i = w,
                                                                        Te(e, z.crypto.subtle.importKey("raw", t.data, n, !0, ["decrypt"]), 3);
                                                                    throw new ke(2,4,4049)
                                                                }
                                                                i.cryptoKey = e.h,
                                                                w.fetchKey = void 0,
                                                                Ae(e)
                                                            })
                                                        }
                                                    }),
                                                    p = function(e, t, n, i) {
                                                        return r = d,
                                                        a = e,
                                                        o = t,
                                                        s = n,
                                                        u = i,
                                                        Ie(function(e) {
                                                            return 1 == e.g ? (l = $i,
                                                            c = u ? 0 : 1,
                                                            h = Ms(a, o, s, r.h.retryParameters),
                                                            Te(e, Wf(r, h, l, {
                                                                type: c
                                                            }), 2)) : (h = e.h,
                                                            e.return(h.data))
                                                        });
                                                        var r, a, o, s, u, l, c, h
                                                    }
                                                    ,
                                                    v = e.P.Ld ? Vd(e, p, w) : e.P.fc ? qd(e, d.m, w) : e.P.Md ? Jd(e, p, d.m, !!d.j, d.h.dash.initialSegmentLimit, d.M, w) : (y = e.ma.duration || 0,
                                                    b = e.P.zb,
                                                    {
                                                        Kc: function() {
                                                            return Promise.resolve(cs(c, y, b()))
                                                        }
                                                    })
                                                } catch (e) {
                                                    if ((f || h) && 4002 == e.code)
                                                        return null;
                                                    throw e
                                                }
                                                p = function(e, t, n, i) {
                                                    var r = Ed(e, n, i);
                                                    if (t.Rg)
                                                        e = 1 == t.drmInfos.length && !t.drmInfos[0].keySystem,
                                                        n = 0 == r.drmInfos.length,
                                                        (0 == t.drmInfos.length || e && !n) && (t.drmInfos = r.drmInfos),
                                                        t.Rg = !1;
                                                    else if (0 < r.drmInfos.length && (t.drmInfos = t.drmInfos.filter(function(t) {
                                                        return r.drmInfos.some(function(e) {
                                                            return e.keySystem == t.keySystem
                                                        })
                                                    }),
                                                    0 == t.drmInfos.length))
                                                        throw new ke(2,4,4008);
                                                    return r.Ng || t.Ng
                                                }(p = jr(u, "ContentProtection"), t, d.h.dash.ignoreDrmInfo, d.h.dash.keySystemsByURI),
                                                p = new Set(p ? [p] : []),
                                                g = !1,
                                                jr(u, "SupplementalProperty").some(function(e) {
                                                    return "tag:dolby.com,2018:dash:EC3_ExtensionType:2018" == e.getAttribute("schemeIdUri") && "JOC" == e.getAttribute("value")
                                                }) && (g = !0);
                                                var T, A, E = !1;
                                                if (f && (E = o.includes("forced_subtitle") || o.includes("forced-subtitle")),
                                                h && !(T = (u = jr(u, "EssentialProperty").find(function(e) {
                                                    return ["http://dashif.org/thumbnail_tile", "http://dashif.org/guidelines/thumbnail_tile"].includes(e.getAttribute("schemeIdUri"))
                                                })) ? u.getAttribute("value") : T))
                                                    return null;
                                                u = e.P.codecs,
                                                e.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10") && (u.includes("hvc1.2.4.L153.B0") || u.includes("hev1.2.4.L153.B0")) && (A = "PQ");
                                                var S = (u = e.P.id ? e.Ka.id + "," + e.P.id : "") && d.m[u] ? d.m[u] : {
                                                    id: d.K++,
                                                    originalId: e.P.id,
                                                    groupId: null,
                                                    createSegmentIndex: function() {
                                                        return Promise.resolve()
                                                    },
                                                    closeSegmentIndex: function() {
                                                        S.segmentIndex && (S.segmentIndex.release(),
                                                        S.segmentIndex = null)
                                                    },
                                                    segmentIndex: null,
                                                    mimeType: e.P.mimeType,
                                                    codecs: e.P.codecs,
                                                    frameRate: e.P.frameRate,
                                                    pixelAspectRatio: e.P.pixelAspectRatio,
                                                    bandwidth: e.bandwidth,
                                                    width: e.P.width,
                                                    height: e.P.height,
                                                    kind: n,
                                                    encrypted: 0 < t.drmInfos.length,
                                                    drmInfos: t.drmInfos,
                                                    keyIds: p,
                                                    language: i,
                                                    originalLanguage: e.Ea.language,
                                                    label: r,
                                                    type: e.Ea.contentType,
                                                    primary: a,
                                                    trickModeVideo: null,
                                                    emsgSchemeIdUris: e.P.emsgSchemeIdUris,
                                                    roles: o,
                                                    forced: E,
                                                    channelsCount: e.P.De,
                                                    audioSamplingRate: e.P.audioSamplingRate,
                                                    spatialAudio: g,
                                                    closedCaptions: s,
                                                    hdr: A,
                                                    videoLayout: void 0,
                                                    tilesLayout: T,
                                                    accessibilityPurpose: l,
                                                    external: !1,
                                                    fastSwitching: !1
                                                };
                                                return S.createSegmentIndex = function() {
                                                    var t;
                                                    return Ie(function(e) {
                                                        if (1 == e.g)
                                                            return S.segmentIndex ? e.F(0) : (t = S,
                                                            Te(e, v.Kc(), 3));
                                                        t.segmentIndex = e.h,
                                                        Ae(e)
                                                    })
                                                }
                                                ,
                                                u && e.Yb && !d.m[u] && (d.m[u] = S),
                                                S
                                            }(t, n, T, s, A, E, r, o, m, e, g)) && (e.hdr = e.hdr || l,
                                            e.fastSwitching = d),
                                            e
                                        }).filter(function(e) {
                                            return !!e
                                        })).length) {
                                            if (a = "image" == n.Ea.contentType,
                                            t.h.dash.ignoreEmptyAdaptationSet || u || a)
                                                return null;
                                            throw new ke(2,4,4003)
                                        }
                                        if (!n.Ea.contentType || "application" == n.Ea.contentType)
                                            for (n.Ea.contentType = Xf(e[0].mimeType, e[0].codecs),
                                            u = we(e),
                                            f = u.next(); !f.done; f = u.next())
                                                f.value.type = n.Ea.contentType;
                                        for (u = n.Ea.id || "__fake__" + t.K++,
                                        h = we(e),
                                        f = h.next(); !f.done; f = h.next()) {
                                            for (f = f.value,
                                            p = we(T.drmInfos),
                                            v = p.next(); !v.done; v = p.next())
                                                (v = v.value).keyIds = v.keyIds && f.keyIds ? new Set([].concat(le(v.keyIds), le(f.keyIds))) : v.keyIds || f.keyIds;
                                            t.h.dash.enableAudioGroups && (f.groupId = u)
                                        }
                                        return c = c.map(function(e) {
                                            return e.getAttribute("id")
                                        }).filter(Tn),
                                        {
                                            id: u,
                                            contentType: n.Ea.contentType,
                                            language: A,
                                            yk: r,
                                            streams: e,
                                            drmInfos: T.drmInfos,
                                            wg: a,
                                            gj: c
                                        }
                                    }).filter(Tn),
                                    x.Yb) {
                                        for (t = [],
                                        n = we(e),
                                        i = n.next(); !i.done; i = n.next())
                                            for (var r = (i = we(i.value.gj)).next(); !r.done; r = i.next())
                                                t.push(r.value);
                                        if (t.length != new Set(t).size)
                                            throw new ke(2,4,4018)
                                    }
                                    for (t = e.filter(function(e) {
                                        return !e.wg
                                    }),
                                    e = we(e = e.filter(function(e) {
                                        return e.wg
                                    })),
                                    n = e.next(); !n.done; n = e.next()) {
                                        n = n.value,
                                        i = n.wg.split(" ");
                                        for (var a = (r = we(t)).next(); !a.done; a = r.next()) {
                                            var o = a.value;
                                            if (i.includes(o.id)) {
                                                a = {};
                                                for (var s = (o = we(o.streams)).next(); !s.done; a = {
                                                    Xd: a.Xd
                                                },
                                                s = o.next())
                                                    a.Xd = s.value,
                                                    a.Xd.trickModeVideo = n.streams.find(function(t) {
                                                        return function(e) {
                                                            return un(t.Xd.codecs) == un(e.codecs)
                                                        }
                                                    }(a))
                                            }
                                        }
                                    }
                                    if (e = Vf(S.h.disableAudio, t, "audio"),
                                    n = Vf(S.h.disableVideo, t, "video"),
                                    i = Vf(S.h.disableText, t, he),
                                    t = Vf(S.h.disableThumbnails, t, "image"),
                                    0 === n.length && 0 === e.length)
                                        throw new ke(2,4,4004);
                                    return {
                                        id: x.Ka.id,
                                        audioStreams: e,
                                        videoStreams: n,
                                        textStreams: i,
                                        imageStreams: t
                                    }
                                }(e, t, n, {
                                    start: h,
                                    duration: p,
                                    node: l,
                                    Mf: null == p || !c
                                }),
                                a.push(o),
                                t.Ka.id && p && (e.M[t.Ka.id] = p),
                                null == p) {
                                    o = null;
                                    break
                                }
                                o = h + p
                            }
                        }
                        return e.L = a.map(function(e) {
                            return e.id
                        }),
                        null != r ? {
                            periods: a,
                            duration: r,
                            Pg: !1
                        } : {
                            periods: a,
                            duration: o,
                            Pg: !0
                        }
                    }(c, B, N, h),
                    H = F.duration,
                    G = F.periods,
                    "static" != K && F.Pg || _.gb(H || 1 / 0),
                    c.D && !c.u && c.i.isAutoLowLatencyMode() && (c.i.enableLowLatencyMode(),
                    c.u = c.i.isLowLatencyMode()),
                    c.u ? _.mh(c.D) : c.D && X("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),
                    _.Wf(D || 1),
                    Te(e, c.l.Kg(G, B.Yb), 2);
                case 2:
                    return Te(e, w, 3);
                case 3:
                    if (c.u && (P = 0),
                    c.j) {
                        c.j.variants = c.l.j,
                        0 < (V = c.l.Jf()).length && (c.j.textStreams = V),
                        c.j.imageStreams = c.l.i,
                        c.i.filter(c.j),
                        e.F(4);
                        break
                    }
                    if (c.j = {
                        presentationTimeline: _,
                        variants: c.l.j,
                        textStreams: c.l.Jf(),
                        imageStreams: c.l.i,
                        offlineSessionIds: [],
                        minBufferTime: P || 0,
                        sequenceMode: c.h.dash.sequenceMode,
                        ignoreManifestTimestampsInSegmentsMode: !1,
                        type: "DASH",
                        serviceDescription: function(e) {
                            if (!(e = Ur(e, "ServiceDescription")))
                                return null;
                            var t = Ur(e, "Latency")
                              , n = Ur(e, "PlaybackRate");
                            {
                                var i;
                                if (t && t.getAttribute("max") || n)
                                    return e = t && t.getAttribute("max") ? parseInt(t.getAttribute("max"), 10) / 1e3 : null,
                                    i = n ? parseFloat(n.getAttribute("max")) : null,
                                    t = t && t.getAttribute("min") ? parseInt(t.getAttribute("min"), 10) / 1e3 : null,
                                    n = n ? parseFloat(n.getAttribute("min")) : null,
                                    {
                                        maxLatency: e,
                                        maxPlaybackRate: i,
                                        minLatency: t,
                                        minPlaybackRate: n
                                    }
                            }
                            return null
                        }(h)
                    },
                    _.yh())
                        return K = jr(h, "UTCTiming"),
                        Te(e, (t = c,
                        n = N,
                        i = K,
                        Ie(function(e) {
                            switch (e.g) {
                            case 1:
                                a = i.map(function(e) {
                                    return {
                                        scheme: e.getAttribute("schemeIdUri"),
                                        value: e.getAttribute("value")
                                    }
                                }),
                                r = t.h.dash.clockSyncUri,
                                !a.length && r && a.push({
                                    scheme: "urn:mpeg:dash:utc:http-head:2014",
                                    value: r
                                }),
                                r = we(a),
                                a = r.next();
                            case 2:
                                if (a.done) {
                                    e.F(4);
                                    break
                                }
                                switch (o = a.value,
                                Ee(e, 5),
                                s = o.scheme,
                                u = o.value,
                                s) {
                                case "urn:mpeg:dash:utc:http-head:2014":
                                case "urn:mpeg:dash:utc:http-head:2012":
                                    return e.F(7);
                                case "urn:mpeg:dash:utc:http-xsdate:2014":
                                case "urn:mpeg:dash:utc:http-iso:2014":
                                case "urn:mpeg:dash:utc:http-xsdate:2012":
                                case "urn:mpeg:dash:utc:http-iso:2012":
                                    return e.F(8);
                                case "urn:mpeg:dash:utc:direct:2014":
                                case "urn:mpeg:dash:utc:direct:2012":
                                    return l = Date.parse(u),
                                    e.return(isNaN(l) ? 0 : l - Date.now());
                                case "urn:mpeg:dash:utc:http-ntp:2014":
                                case "urn:mpeg:dash:utc:ntp:2014":
                                case "urn:mpeg:dash:utc:sntp:2014":
                                    X("NTP UTCTiming scheme is not supported");
                                    break;
                                default:
                                    X("Unrecognized scheme in UTCTiming element", s)
                                }
                                e.F(9);
                                break;
                            case 7:
                                return Te(e, zf(t, n, u, "HEAD"), 10);
                            case 10:
                                return e.return(e.h);
                            case 8:
                                return Te(e, zf(t, n, u, "GET"), 11);
                            case 11:
                                return e.return(e.h);
                            case 9:
                                Se(e, 3);
                                break;
                            case 5:
                                xe(e);
                            case 3:
                                a = r.next(),
                                e.F(2);
                                break;
                            case 4:
                                return X("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),
                                e.return(0)
                            }
                        })), 6);
                    e.F(5);
                    break;
                case 6:
                    if (H = e.h,
                    !c.i)
                        return e.return();
                    _.nh(H);
                case 5:
                    _.ve();
                case 4:
                    c.i.makeTextStreamsForClosedCaptions(c.j),
                    Ae(e)
                }
                var t, n, i, r, a, o, s, u, l
            })
        }
        function Vf(e, t, n) {
            return e || !t.length ? [] : t.reduce(function(e, t) {
                return t.contentType != n || e.push.apply(e, le(t.streams)),
                e
            }, [])
        }
        function Kf(e, t) {
            e.H < 0 || e.I.S(Math.max(e.H - t, ot(e.J)))
        }
        function Hf(e, t, n, i) {
            n = n || {
                contentType: "",
                mimeType: "",
                codecs: "",
                emsgSchemeIdUris: [],
                frameRate: void 0,
                pixelAspectRatio: void 0,
                De: null,
                audioSamplingRate: null,
                Hc: 0,
                hg: 0
            },
            i = i || n.zb;
            var r, a = t.getAttribute("id"), o = jr(t, "BaseURL"), s = !1;
            if (e.g)
                for (var u = (g = we(o)).next(); !u.done; u = g.next()) {
                    var u = (l = u.value).getAttribute("serviceLocation")
                      , l = Vr(l);
                    u && l && (af(e.g, a, u, l),
                    s = !0)
                }
            s && e.g || (r = o.map(Vr)),
            g = t.getAttribute("contentType") || n.contentType,
            u = t.getAttribute("mimeType") || n.mimeType,
            l = t.getAttribute("codecs") || n.codecs;
            var c = W(t, "frameRate", $r) || n.frameRate
              , h = t.getAttribute("sar") || n.pixelAspectRatio
              , d = function(e, t) {
                t = t.slice();
                for (var n = (e = we(e)).next(); !n.done; n = e.next())
                    n = n.value.getAttribute("schemeIdUri"),
                    t.includes(n) || t.push(n);
                return t
            }(jr(t, "InbandEventStream"), n.emsgSchemeIdUris)
              , f = function(e) {
                for (var t = (e = we(e)).next(); !t.done; t = e.next()) {
                    var n = t.value;
                    if ((t = n.getAttribute("schemeIdUri")) && (n = n.getAttribute("value")))
                        switch (t) {
                        case "urn:mpeg:dash:outputChannelPositionList:2012":
                            return n.trim().split(/ +/).length;
                        case "urn:mpeg:dash:23003:3:audio_channel_configuration:2011":
                        case "urn:dts:dash:audio_channel_configuration:2012":
                            if (t = parseInt(n, 10))
                                return t;
                            continue;
                        case "tag:dolby.com,2014:dash:audio_channel_configuration:2011":
                        case "urn:dolby:dash:audio_channel_configuration:2011":
                            if (!(t = parseInt(n, 16)))
                                continue;
                            for (e = 0; t; )
                                1 & t && ++e,
                                t >>= 1;
                            return e;
                        case "urn:mpeg:mpegB:cicp:ChannelConfiguration":
                            if (t = [0, 1, 2, 3, 4, 5, 6, 8, 2, 3, 4, 7, 8, 24, 8, 12, 10, 12, 14, 12, 14],
                            (n = parseInt(n, 10)) && 0 < n && n < t.length)
                                return t[n]
                        }
                }
                return null
            }(jr(t, "AudioChannelConfiguration")) || n.De
              , p = W(t, "audioSamplingRate", Yr) || n.audioSamplingRate
              , g = g || Xf(u, l)
              , m = Ur(t, "SegmentBase")
              , v = Ur(t, "SegmentTemplate")
              , y = m && W(m, "availabilityTimeOffset", Jr) || 0
              , b = v && W(v, "availabilityTimeOffset", Jr) || 0
              , w = o && o.length && W(o[0], "availabilityTimeOffset", Jr) || 0
              , y = n.Hc + w + y + b
              , b = null;
            return (w = Ur(t, "SegmentSequenceProperties")) && (w = Ur(w, "SAP")) && (b = W(w, "cadence", Wr)),
            {
                zb: function() {
                    return Fe(i(), o.length ? e.g && s ? of(e.g, a) : r || [] : [])
                },
                Ld: m || n.Ld,
                fc: Ur(t, "SegmentList") || n.fc,
                Md: v || n.Md,
                width: W(t, "width", Yr) || n.width,
                height: W(t, "height", Yr) || n.height,
                contentType: g,
                mimeType: u,
                codecs: l,
                frameRate: c,
                pixelAspectRatio: h,
                emsgSchemeIdUris: d,
                id: a,
                language: t.getAttribute("lang"),
                De: f,
                audioSamplingRate: p,
                Hc: y,
                hg: b || n.hg
            }
        }
        function zf(t, n, i, r) {
            var a, o, s;
            return Ie(function(e) {
                if (1 == e.g)
                    return a = Fe(n(), [i]),
                    (a = qi(a, t.h.retryParameters)).method = r,
                    a = t.i.networkingEngine.request(4, a),
                    zi(t.G, a),
                    Te(e, a.promise, 2);
                if (a = e.h,
                "HEAD" == r) {
                    if (!a.headers || !a.headers.date)
                        return e.return(0);
                    o = a.headers.date
                } else
                    o = lr(a.data);
                return s = Date.parse(o),
                isNaN(s) ? e.return(0) : e.return(s - Date.now())
            })
        }
        function Xf(e, t) {
            return gn(t = an(e, t)) ? he : e.split("/")[0]
        }
        function Wf(e, t, n, i) {
            return t = e.i.networkingEngine.request(n, t, i),
            zi(e.G, t),
            t.promise
        }
        function qf() {}
        (e = Bf.prototype).configure = function(e) {
            this.h = e,
            this.g && this.g.configure(this.h),
            this.l && (this.l.m = this.h.dash.multiTypeVariantsAllowed && lt())
        }
        ,
        e.start = function(t, n) {
            var i, r = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return r.u = n.isLowLatencyMode(),
                    r.s = [t],
                    r.i = n,
                    Te(e, Ff(r), 2);
                if (i = e.h,
                r.i && Kf(r, i),
                r.i)
                    return e.return(r.j);
                throw new ke(2,7,7001)
            })
        }
        ,
        e.stop = function() {
            for (var e = we(Object.values(this.m)), t = e.next(); !t.done; t = e.next())
                (t = t.value).segmentIndex && t.segmentIndex.release();
            return this.l && this.l.release(),
            this.h = this.i = null,
            this.s = [],
            this.j = null,
            this.m = {},
            (this.l = null) != this.I && (this.I.stop(),
            this.I = null),
            this.g && this.g.destroy(),
            this.G.destroy()
        }
        ,
        e.update = function() {
            var t, n = this;
            return Ie(function(e) {
                return 1 == e.g ? (Ee(e, 2),
                Te(e, Ff(n), 4)) : 2 != e.g ? Se(e, 0) : (t = xe(e),
                n.i && t ? (n.i.onError(t),
                void Ae(e)) : e.return())
            })
        }
        ,
        e.onExpirationUpdated = function() {}
        ,
        e.onInitialVariantChosen = function(e) {
            var t, n;
            this.j && this.j.presentationTimeline.R() && ((t = e.video || e.audio) && t.segmentIndex && (e = this.j.presentationTimeline.ac(),
            null != (n = t.segmentIndex.find(e)) && (t = t.segmentIndex.get(n)) && (this.H = t.endTime - e,
            Kf(this, 0))))
        }
        ,
        e.banLocation = function(e) {
            this.g && this.g.i.set(e, Date.now() + 6e4)
        }
        ,
        n("shaka.dash.DashParser", Bf),
        Ca["application/dash+xml"] = function() {
            return new Bf
        }
        ,
        Ca["video/vnd.mpeg.dash.mpd"] = function() {
            return new Bf
        }
        ,
        n("shaka.dependencies", qf),
        qf.has = function(e) {
            return Qf.has(e)
        }
        ,
        qf.add = function(e, t) {
            if (!Jf[e])
                throw Error(e + " is not supported");
            e == Yf ? wi("mux.js", "mux.js is no longer used in Shaka Player.") : Qf.set(e, function() {
                return t
            })
        }
        ;
        var Yf = "muxjs"
          , Jf = {
            zk: Yf,
            ISOBoxer: "ISOBoxer"
        }
          , Qf = (qf.Allowed = Jf,
        new Map([["ISOBoxer", function() {
            return z.ISOBoxer
        }
        ]]));
        function $f(e, t, n) {
            this.type = e,
            this.g = t,
            this.segments = n || null
        }
        function Zf(e, t, n, i) {
            this.id = e,
            this.name = t,
            this.g = n,
            this.value = void 0 === i ? null : i
        }
        function ep(e) {
            var t = (new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI");
            return e.toString(t)
        }
        function pe(e, t, n) {
            return (e = e.getAttribute(t)) ? e.value : n || null
        }
        function tp(e, t) {
            if (e = e.getAttribute(t))
                return e.value;
            throw new ke(2,4,4023,t)
        }
        function np(e, t, n) {
            n = void 0 === n ? [] : n,
            this.g = t,
            this.h = e,
            this.Bb = n
        }
        function ip(e, t) {
            this.name = e,
            this.value = t
        }
        function rp(e, t) {
            return e.filter(function(e) {
                return e.name == t
            })
        }
        function ap(e, t) {
            return e.filter(function(e) {
                return tp(e, "TYPE") == t
            })
        }
        function op(e, t) {
            for (var n = (e = we(e)).next(); !n.done; n = e.next())
                if ((n = n.value).name === t)
                    return n;
            return null
        }
        function sp(e, t, n) {
            return n = void 0 === n ? 0 : n,
            (e = op(e, t)) ? Number(e.value) : n
        }
        function up(e, t, n) {
            return t ? lp(e, [t], n) : []
        }
        function lp(e, t, n) {
            if (!t.length)
                return [];
            t = Fe(e, t),
            e = [];
            for (var i = (t = we(t)).next(); !i.done; i = t.next()) {
                var r = e
                  , a = r.push
                  , o = i.value;
                if ((i = n) && i.size) {
                    var s = (o = String(o).replace(/%7B/g, "{").replace(/%7D/g, "}")).match(/{\$\w*}/g);
                    if (s)
                        for (var u = (s = we(s)).next(); !u.done; u = s.next()) {
                            var l = (u = u.value).slice(2, u.length - 1)
                              , c = i.get(l);
                            if (!c)
                                throw new ke(2,4,4039,l);
                            o = o.replace(u, c)
                        }
                    i = o
                } else
                    i = o;
                a.call(r, i)
            }
            return e
        }
        function cp(e) {
            this.h = e || "",
            this.g = 0
        }
        function hp(e) {
            dp(e, /[ \t]+/gm)
        }
        function dp(e, t) {
            return t.lastIndex = e.g,
            t = null == (t = t.exec(e.h)) ? null : {
                position: t.index,
                length: t[0].length,
                results: t
            },
            e.g == e.h.length || null == t || t.position != e.g ? null : (e.g += t.length,
            t.results)
        }
        function fp(e) {
            return e.g != e.h.length && (e = dp(e, /[^ \t\n]*/gm)) ? e[0] : null
        }
        function pp() {
            this.g = 0
        }
        function gp(e, t) {
            var n = (t = (t = lr(t)).replace(/\r\n|\r(?=[^\n]|$)/gm, "\n").trim()).split(/\n+/m);
            if (!/^#EXTM3U($|[ \t\n])/m.test(n[0]))
                throw new ke(2,4,4015);
            for (var i = !(t = 0), r = we(n), a = r.next(); !a.done; a = r.next())
                if (a = a.value,
                /^#(?!EXT)/m.test(a) || i)
                    i = !1;
                else {
                    if (a = mp(e, a),
                    --e.g,
                    vp.includes(a.name)) {
                        t = 1;
                        break
                    }
                    "EXT-X-STREAM-INF" == a.name && (i = !0)
                }
            for (r = [],
            i = !0,
            a = 0; a < n.length; a++) {
                var o = n[a]
                  , s = n[a + 1];
                if (/^#(?!EXT)/m.test(o) || i)
                    i = !1;
                else {
                    if (o = mp(e, o),
                    yp.includes(o.name)) {
                        if (1 != t)
                            throw new ke(2,4,4017);
                        o = n.splice(a, n.length - a);
                        for (var n = [], i = [], a = [], s = null, u = (o = we(o)).next(); !u.done; u = o.next())
                            u = u.value,
                            /^(#EXT)/.test(u) ? (u = mp(e, u),
                            vp.includes(u.name) ? r.push(u) : "EXT-X-MAP" == u.name ? s = u : "EXT-X-PART" == u.name ? a.push(u) : "EXT-X-PRELOAD-HINT" == u.name ? "PART" == pe(u, "TYPE") ? a.push(u) : "MAP" == pe(u, "TYPE") && (u.name = "EXT-X-MAP",
                            s = u) : i.push(u)) : /^#(?!EXT)/m.test(u) || (u = u.trim(),
                            s && i.push(s),
                            n.push(new np(u,i,a)),
                            i = [],
                            a = []);
                        return a.length && (s && i.push(s),
                        n.push(new np("",i,a))),
                        new $f(t,r,n)
                    }
                    r.push(o),
                    "EXT-X-STREAM-INF" == o.name && (o.g.push(new ip("URI",s)),
                    i = !0)
                }
            }
            return new $f(t,r)
        }
        function mp(e, t) {
            if (e = e.g++,
            !(a = t.match(/^#(EXT[^:]*)(?::(.*))?$/)))
                throw new ke(2,4,4016,t);
            t = a[1];
            var n, i, r = a[2], a = [];
            if (r) {
                (i = dp(r = new cp(r), /^([^,=]+)(?:,|$)/g)) && (n = i[1]);
                for (var o = /([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g; i = dp(r, o); )
                    a.push(new ip(i[1],i[2] || i[3])),
                    hp(r)
            }
            return new Zf(e,t,a,n)
        }
        Zf.prototype.toString = function(t) {
            var e = "#" + this.name
              , n = this.g ? this.g.filter(function(e) {
                return !t || !t.has(e.name)
            }).map(function(e) {
                return e.name + "=" + (isNaN(Number(e.value)) ? '"' + e.value + '"' : e.value)
            }) : [];
            return this.value && n.unshift(this.value),
            0 < n.length && (e += ":" + n.join(",")),
            e
        }
        ,
        Zf.prototype.getAttribute = function(t) {
            var e = this.g.filter(function(e) {
                return e.name == t
            });
            return e.length ? e[0] : null
        }
        ;
        var vp = "EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF".split(" ")
          , yp = "EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");
        function bp() {}
        function wp(e) {
            try {
                var t = Tp(e);
                return Gi({
                    uri: e,
                    originalUri: e,
                    data: t.data,
                    headers: {
                        "content-type": t.contentType
                    }
                })
            } catch (e) {
                return Bi(e)
            }
        }
        function Tp(e) {
            var t = e.split(":");
            if (t.length < 2 || "data" != t[0])
                throw new ke(2,1,1004,e);
            if ((t = t.slice(1).join(":").split(",")).length < 2)
                throw new ke(2,1,1004,e);
            var n = t[0]
              , i = (e = z.decodeURIComponent(t.slice(1).join(",")),
            n = (t = n.split(";"))[0],
            !1);
            return 1 < t.length && "base64" == t[t.length - 1] && (i = !0,
            t.pop()),
            {
                data: (i ? Lr : dr)(e),
                contentType: n
            }
        }
        function Ap(e) {
            var t = cn(e);
            return {
                type: t.split("/")[0],
                mimeType: t,
                codecs: e = hn(e),
                language: null,
                height: null,
                width: null,
                channelCount: null,
                sampleRate: null,
                closedCaptions: new Map
            }
        }
        function Ep(e, t) {
            function i(e) {
                return n(e.name)
            }
            function n(e) {
                switch (e = e.toLowerCase()) {
                case "avc1":
                case "avc3":
                    r.push(e + ".42E01E"),
                    o = !0;
                    break;
                case "hev1":
                case "hvc1":
                    r.push(e + ".1.6.L93.90"),
                    o = !0;
                    break;
                case "dvh1":
                case "dvhe":
                    r.push(e + ".05.04"),
                    o = !0;
                    break;
                case "vp09":
                    r.push(e + ".00.10.08"),
                    o = !0;
                    break;
                case "av01":
                    r.push(e + ".0.01M.08"),
                    o = !0;
                    break;
                case "mp4a":
                    r.push("mp4a.40.2"),
                    a = !0;
                    break;
                case "ac-3":
                case "ec-3":
                case "opus":
                case "flac":
                    r.push(e),
                    a = !0
                }
            }
            var r = []
              , a = !1
              , o = !1
              , s = null
              , u = null
              , l = null
              , c = null
              , h = null;
            if ((new yr).box("moov", D).box("trak", D).T("tkhd", function(e) {
                e = Ja(e.reader, e.version),
                u = String(e.height),
                l = String(e.width)
            }).box("mdia", D).T("mdhd", function(e) {
                s = qa(e.reader, e.version).language
            }).box("minf", D).box("stbl", D).T("stsd", br).box("mp4a", function(e) {
                var t = e.reader
                  , n = (t.skip(6),
                t.skip(2),
                t.skip(8),
                t.Ua());
                t.skip(2),
                t.skip(2),
                t.skip(2),
                t = t.Ua() + t.Ua() / 65536,
                c = n,
                h = t,
                (e.reader.xa() ? D : i)(e)
            }).box("esds", function(e) {
                e = function(e) {
                    for (var t, n = "mp4a"; e.xa(); ) {
                        for (var i = e.ra(), r = e.ra(); 128 & r; )
                            r = e.ra();
                        if (3 == i)
                            e.Ua(),
                            128 & (r = e.ra()) && e.Ua(),
                            64 & r && e.skip(e.ra()),
                            32 & r && e.Ua();
                        else if (4 == i)
                            t = e.ra(),
                            e.skip(12);
                        else if (5 == i)
                            break
                    }
                    return t && (n += "." + this.g(t),
                    5 == i && e.xa() && (n += "." + (t = 31 === (t = (248 & (i = e.ra())) >> 3) && e.xa() ? 32 + ((7 & i) << 3) + ((224 & e.ra()) >> 5) : t))),
                    {
                        wa: n
                    }
                }(e.reader),
                r.push(e.wa),
                a = !0
            }).box("ac-3", i).box("ec-3", i).box("opus", i).box("Opus", i).box("fLaC", i).box("avc1", function(e) {
                e = Qa(e.reader, e.name),
                r.push(e.wa),
                o = !0
            }).box("avc3", function(e) {
                e = Qa(e.reader, e.name),
                r.push(e.wa),
                o = !0
            }).box("hev1", i).box("hvc1", i).box("dvh1", i).box("dvhe", i).box("vp09", i).box("av01", i).box("enca", wr).box("encv", wr).box("sinf", D).box("frma", function(e) {
                n(e = $a(e.reader).wa)
            }).parse(e || t, !0),
            !r.length)
                return null;
            var d = a && !o
              , f = new Map;
            if (o) {
                var p = new Tt("video/mp4");
                for (e && p.init(e),
                p.i(t),
                t = (e = we(p.j())).next(); !t.done; t = e.next())
                    t = t.value,
                    f.set(t, t);
                p.h()
            }
            return {
                type: d ? "audio" : "video",
                mimeType: d ? "audio/mp4" : "video/mp4",
                codecs: function(e) {
                    for (var t = new Set, n = [], i = (e = we(e)).next(); !i.done; i = e.next()) {
                        var r = ln(i = i.value);
                        t.has(r) || (n.push(i),
                        t.add(r))
                    }
                    return n
                }(r).join(", "),
                language: s,
                height: u,
                width: l,
                channelCount: c,
                sampleRate: h,
                closedCaptions: f
            }
        }
        function Sp() {
            var e = this;
            this.g = this.i = null,
            this.C = 1,
            this.s = new Map,
            this.J = new Map,
            this.L = new Map,
            this.L.set("video", new Map),
            this.L.set("audio", new Map),
            this.L.set(he, new Map),
            this.L.set("image", new Map),
            this.va = new Set,
            this.h = new Map,
            this.l = null,
            this.Z = "",
            this.sa = new pp,
            this.K = -1,
            this.V = 1 / 0,
            this.$ = this.Xa = !1,
            this.u = new I(function() {
                var t, n, i;
                t = e,
                Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        return t.i ? (Ee(e, 2),
                        n = Date.now(),
                        Te(e, t.update(), 4)) : e.return();
                    case 4:
                        i = Date.now(),
                        Zp(t) && (i = (i - n) / 1e3,
                        t.Ra.sample(1, i),
                        i = t.m,
                        i = Math.max(0, i - ot(t.Ra)),
                        t.u.S(i)),
                        Se(e, 3);
                        break;
                    case 2:
                        if (i = xe(e),
                        !t.i)
                            return e.return();
                        if (t.g.raiseFatalErrorOnManifestUpdateRequestFailure)
                            return t.i.onError(i),
                            e.return();
                        i.severity = 1,
                        t.i.onError(i),
                        t.u.S(.1);
                    case 3:
                        if (!t.i)
                            return e.return();
                        t.i.onManifestUpdated(),
                        Ae(e)
                    }
                })
            }
            ),
            this.aa = ag,
            this.G = null,
            this.ua = 0,
            this.m = 1 / 0,
            this.ha = this.Aa = this.M = 0,
            this.N = new Hi,
            this.H = new Map,
            this.I = new Map,
            this.W = new Map,
            this.Wa = this.D = !1,
            this.Ra = new at(5),
            this.j = null
        }
        function xp(e, t) {
            return Zp(e) ? e.L.get(t.type) : t.ye
        }
        function Ip(e, t, n) {
            t.yc += n,
            t.Qb += n;
            for (var i = we(e = xp(e, t)), r = i.next(); !r.done; r = i.next()) {
                var r = (a = we(r.value)).next().value
                  , a = a.next().value;
                e.set(r, a + n)
            }
            t.ba()
        }
        function kp(u, l, c) {
            var h, d, f, p, g, m, v, y, b;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (h = Ap(u.g.hls.mediaPlaylistFullMimeType),
                    !l.segments.length)
                        return e.return(h);
                    if (m = Math.trunc((l.segments.length - 1) / 2),
                    m = l.segments[m],
                    d = up(c(), l.segments[0].h),
                    f = d[0],
                    f = new ge(f),
                    f = f.Ya.split(".").pop(),
                    p = ng[f])
                        return e.return(Ap(p));
                    if (p = $i,
                    g = null,
                    m = Xp(u, l, m.g, c),
                    u.W.clear(),
                    m)
                        return m = Ms(m.ba(), m.Pb(), m.Mb(), u.g.retryParameters),
                        Te(e, tg(u, m, p, {
                            type: 0
                        }), 3);
                    e.F(2);
                    break;
                case 3:
                    m = e.h,
                    g = m.data;
                case 2:
                    return v = qi(d, u.g.retryParameters),
                    Te(e, tg(u, v, p, {
                        type: 1
                    }), 4);
                case 4:
                    if (v = e.h,
                    (y = v.headers["content-type"]) && (y = y.split(";")[0].toLowerCase()),
                    "ts" == f || "video/mp2t" == y) {
                        var t = ne(o = v.data)
                          , n = (t = (new oo).parse(t)).sd()
                          , i = (t = t.Lf(),
                        [])
                          , r = !1
                          , a = !1;
                        switch (n.audio) {
                        case "aac":
                            i.push("mp4a.40.2"),
                            r = !0;
                            break;
                        case "mp3":
                            i.push("mp4a.40.34"),
                            r = !0;
                            break;
                        case "ac3":
                            i.push("ac-3"),
                            r = !0;
                            break;
                        case "ec3":
                            i.push("ec-3"),
                            r = !0
                        }
                        switch (n.video) {
                        case "avc":
                            t.wa ? i.push(t.wa) : i.push("avc1.42E01E"),
                            a = !0;
                            break;
                        case "hvc":
                            t.wa ? i.push(t.wa) : i.push("hvc1.1.6.L93.90"),
                            a = !0
                        }
                        if (i.length) {
                            if (n = r && !a,
                            r = new Map,
                            a) {
                                (a = new Tt("video/mp2t")).i(o);
                                for (var o, s = (o = we(a.j())).next(); !s.done; s = o.next())
                                    s = s.value,
                                    r.set(s, s);
                                a.h()
                            }
                            t = {
                                type: n ? "audio" : "video",
                                mimeType: "video/mp2t",
                                codecs: i.join(", "),
                                language: null,
                                height: t.height,
                                width: t.width,
                                channelCount: null,
                                sampleRate: null,
                                closedCaptions: r
                            }
                        } else
                            t = null;
                        if (b = t)
                            return e.return(b)
                    } else if (("mp4" == f || "cmfv" == f || "m4s" == f || "video/mp4" == y || "audio/mp4" == y || "video/iso.segment" == y) && (b = Ep(g, v.data)))
                        return e.return(b);
                    return e.return(h)
                }
            })
        }
        function Cp(e) {
            if (Zp(e)) {
                if (e.aa == sg && (t = function(e) {
                    for (var t = 1 / 0, n = 1 / 0, i = (e = we(e.h.values())).next(); !i.done; i = e.next())
                        (i = i.value).stream.segmentIndex && "text" != i.stream.type && (t = Math.min(t, i.Qb),
                        n = Math.min(n, i.yc));
                    return t - n
                }(e),
                e.g.hls.useSafariBehaviorForLive && (t = e.l.s),
                isNaN(e.g.availabilityWindowOverride) || (t = e.g.availabilityWindowOverride),
                e.l.Ne(t)),
                !e.l.m)
                    for (var t, n = (t = we(t = Array.from(e.h.values()).filter(function(e) {
                        return e.stream.segmentIndex
                    }))).next(); !n.done; n = t.next())
                        ("audio" == (n = n.value).type || "video" == n.type) && (n = n.stream.segmentIndex.get(0)) && n.oa && e.l.og(n.oa)
            } else
                e.l.gb(Up(e));
            e.l.ve()
        }
        function Mp(e, t, n) {
            n = new ge(n).g;
            for (var i = new Map, r = (t = we(t)).next(); !r.done; r = t.next()) {
                var a = pe(s = r.value, "NAME")
                  , o = pe(s, "VALUE")
                  , r = pe(s, "QUERYPARAM")
                  , s = pe(s, "IMPORT");
                a && o && (i.has(a) || i.set(a, o)),
                r && (a = n.get(r)[0]) && !i.has(a) && i.set(r, a),
                s && (r = e.s.get(s)) && i.set(s, r)
            }
            return i
        }
        function Lp(e, t) {
            var n = pe(t, "CODECS") || "";
            e.$ = 0 < n.length,
            e.$ || e.g.hls.disableCodecGuessing || (t = [],
            e.g.disableVideo || t.push(e.g.hls.defaultVideoCodec),
            e.g.disableAudio || t.push(e.g.hls.defaultAudioCodec),
            n = t.join(",")),
            e = new Set,
            t = [];
            for (var i = (n = we(n.split(/\s*,\s*/))).next(); !i.done; i = n.next()) {
                var r = ln(i = i.value);
                e.has(r) || (t.push(i),
                e.add(r))
            }
            return t
        }
        function Rp(e) {
            return (e = pe(e, "CHANNELS")) ? parseInt(e.split("/")[0], 10) : null
        }
        function Np(e) {
            return (e = pe(e, "SAMPLE-RATE")) ? parseInt(e, 10) : null
        }
        function Pp(e) {
            return !!(e = pe(e, "CHANNELS")) && e.includes("/JOC")
        }
        function Dp(e, t, n) {
            for (var i = [], r = [], a = new Map, o = we(t), s = o.next(); !s.done; s = o.next()) {
                var s = tp(u = s.value, "URI")
                  , u = tp(u, "GROUP-ID");
                i.push(s),
                r.push(u),
                a.set(u, s)
            }
            if (o = r.sort().join(","),
            s = t[0],
            t = "",
            (u = "subtitles" == (u = tp(s, "TYPE").toLowerCase()) ? he : u) == he)
                t = pe(s, "CODECS") || "";
            else
                for (var l = (r = we(r)).next(); !l.done; l = r.next())
                    if (l = l.value,
                    e.I.has(l)) {
                        t = e.I.get(l);
                        break
                    }
            if (r = i.sort().join(","),
            e.h.has(r))
                return e.h.get(r);
            if (l = e.C++,
            e.j)
                for (var c = (a = we(a)).next(); !c.done; c = a.next()) {
                    var c = (h = we(c.value)).next().value
                      , h = h.next().value;
                    (c = n.get(c)) && af(e.j, l, c, h)
                }
            n = pe(s, "LANGUAGE"),
            a = pe(s, "NAME"),
            c = "YES" == pe(s, "DEFAULT"),
            h = "audio" == u ? Rp(s) : null;
            var d = "audio" == u && Pp(s);
            return (i = _p(e, l, i, t, u, n, c, a, h, null, pe(s, "CHARACTERISTICS"), "YES" == pe(s, "FORCED"), s = "audio" == u ? Np(s) : null, d)).stream && (i.stream.groupId = o),
            e.J.has(o) ? e.J.get(o).push(i) : e.J.set(o, [i]),
            e.h.set(r, i),
            i
        }
        function _p(f, e, t, p, g, m, v, y, b, w, T, A, E, S) {
            function n(t) {
                var n, i, r, a, o, s, u, l, c, h, d;
                return Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        return n = C.ba(),
                        Te(e, $p(f, C.ba(), !0), 2);
                    case 2:
                        if (r = e.h,
                        t.aborted)
                            return e.return();
                        if ((i = r.uri) == r.originalUri || n.includes(i) || k.push(i),
                        r = gp(f.sa, r.data),
                        a = void 0,
                        !f.$ && f.g.hls.disableCodecGuessing)
                            return Te(e, kp(f, r, x), 4);
                        e.F(3);
                        break;
                    case 4:
                        s = e.h,
                        a = s.mimeType,
                        p = s.codecs;
                    case 3:
                        return o = Zp(f),
                        Te(e, Bp(f, 0, r, x, i, p, g, m, v, y, b, w, T, A, E, S, a), 5);
                    case 5:
                        if (s = e.h,
                        t.aborted)
                            return e.return();
                        if (u = s.stream,
                        Zp(f) && !o && zp(f, r),
                        C.yc = s.yc,
                        C.Qb = s.Qb,
                        C.ae = s.ae,
                        C.$d = s.$d,
                        C.vd = s.vd,
                        C.ye = s.ye,
                        C.rb = s.rb,
                        C.sb = s.sb,
                        C.Sf = !0,
                        I.segmentIndex = u.segmentIndex,
                        I.encrypted = u.encrypted,
                        I.drmInfos = u.drmInfos,
                        I.keyIds = u.keyIds,
                        I.mimeType = u.mimeType,
                        I.bandwidth = I.bandwidth || u.bandwidth,
                        I.codecs = I.codecs || u.codecs,
                        I.drmInfos.length && f.i.newDrmInfo(I),
                        g == (d = He).ia || g == d.U)
                            for (l = we(f.h.values()),
                            c = l.next(); !c.done; c = l.next())
                                (h = c.value).Sf || h.type != g || (h.stream.mimeType = u.mimeType);
                        g == d.Da && (d = u.segmentIndex.get(0)) && d.ka && (I.mimeType = "application/mp4"),
                        !function(e) {
                            if (!e.G)
                                return;
                            for (var t = [], n = [], i = (e = we(e.G.variants)).next(); !i.done; i = e.next())
                                (i = i.value).video && t.push(i.video),
                                i.audio && n.push(i.audio);
                            return !(0 < t.length && !t.some(function(e) {
                                return e.segmentIndex
                            }) || 0 < n.length && !n.some(function(e) {
                                return e.segmentIndex
                            }))
                        }(f) || (f.Xa ? jp(f, [C]) : (f.Xa = !0,
                        d = Array.from(f.h.values()),
                        d = d.filter(function(e) {
                            return e.stream.segmentIndex
                        }),
                        jp(f, d),
                        Cp(f),
                        0 < (d = f.m) && f.u.S(d))),
                        Ae(e)
                    }
                })
            }
            function x() {
                return f.j && 1 < t.length ? of(f.j, e) : k.concat(lp([f.Z], t, f.s))
            }
            var I = Gp(f, p, g, m, v, y, b, w, T, A, E, S)
              , k = []
              , C = {
                stream: I,
                type: g,
                jh: k,
                ba: x,
                yc: 0,
                Qb: 0,
                ye: new Map,
                ae: !1,
                $d: !1,
                vd: !1,
                pf: -1,
                rb: -1,
                sb: -1,
                Sf: !1
            }
              , i = null
              , r = new AbortController;
            return I.createSegmentIndex = function() {
                return i || (r = new AbortController,
                i = new Promise(function(e) {
                    e(n(r.signal))
                }
                ))
            }
            ,
            I.closeSegmentIndex = function() {
                i && !I.segmentIndex && r.abort(),
                I.segmentIndex && (I.segmentIndex.release(),
                I.segmentIndex = null),
                i = null
            }
            ,
            C
        }
        function Up(e) {
            for (var t = 1 / 0, n = (e = we(e.h.values())).next(); !n.done; n = e.next())
                (n = n.value).stream.segmentIndex && "text" != n.stream.type && (t = Math.min(t, n.Qb));
            return t
        }
        function Op(e, t) {
            for (var n = [], i = (t = we(t)).next(); !i.done; i = t.next())
                (i = i.value).segmentIndex && ls(i.segmentIndex, function(e) {
                    n.push(e)
                });
            e.l.Dd(n)
        }
        function jp(e, t) {
            if (!Zp(e))
                for (var n = Up(e), i = we(t), r = i.next(); !r.done; r = i.next())
                    r.value.stream.segmentIndex.Ic(0, n);
            Op(e, t.map(function(e) {
                return e.stream
            })),
            (e.g.hls.ignoreManifestProgramDateTime ? function(e, t) {
                for (var n = -1 == e.K, i = we(t), r = i.next(); !r.done; r = i.next()) {
                    var a = (r = r.value).stream.segmentIndex
                      , o = xp(e, r);
                    if (a = a.g[0] || null)
                        for (var s = (o = we(o)).next(); !s.done; s = o.next()) {
                            var u = (s = we(s.value)).next().value;
                            if (s.next().value == a.startTime) {
                                n && (e.K = Math.max(e.K, u)),
                                r.pf = u;
                                break
                            }
                        }
                }
                if (!(e.K < 0))
                    for (r = (t = we(t)).next(); !r.done; r = t.next())
                        (i = (n = r.value).stream.segmentIndex) && (i.g.splice(0, e.K - n.pf),
                        (i = i.g[0] || null) && (i = -i.startTime,
                        n.stream.segmentIndex.offset(i),
                        Ip(e, n, i)))
            }
            : function(e, t) {
                if (1 / 0 == e.V)
                    for (var n = (t = we(t)).next(); !n.done; n = t.next()) {
                        var i = n.value.stream.segmentIndex.g[0] || null;
                        null != i && null != i.oa && (e.V = Math.min(e.V, i.oa))
                    }
                if (1 / 0 != (t = e.V))
                    for (n = (i = we(e.h.values())).next(); !n.done; n = i.next()) {
                        var r = (n = n.value).stream.segmentIndex;
                        if (null != r) {
                            var a = r.g[0] || null;
                            if (null == a.oa)
                                H("Missing EXT-X-PROGRAM-DATE-TIME for stream", n.ba(), "Expect AV sync issues!");
                            else
                                for (Ip(e, n, a.oa - t - a.startTime),
                                r = (n = we(r)).next(); !r.done; r = n.next())
                                    r.value.sg(t)
                        }
                    }
            }
            )(e, t)
        }
        function Bp(m, e, v, y, b, w, T, A, E, S, x, I, k, C, M, L, R) {
            var N, P, D, _, U, O, j, B, F;
            return Ie(function(e) {
                if (1 == e.g) {
                    if (1 != v.type)
                        throw new ke(2,4,4017);
                    N = rp(v.g, "EXT-X-DEFINE"),
                    N = Mp(m, N, b);
                    var t = op(v.g, "EXT-X-PLAYLIST-TYPE")
                      , n = op(v.g, "EXT-X-ENDLIST")
                      , n = t && "VOD" == t.value || n
                      , t = t && "EVENT" == t.value && !n;
                    return t = !n && !t,
                    eg(m, n ? ag : t ? sg : og),
                    Zp(m) && Hp(m, v),
                    R ? e.F(2) : Te(e, (i = m,
                    r = T,
                    a = w,
                    o = v,
                    s = N,
                    u = y,
                    Ie(function(e) {
                        switch (e.g) {
                        case 1:
                            return (l = $i,
                            g = Math.trunc((o.segments.length - 1) / 2),
                            g = up(u(), o.segments[g].h, s),
                            f = new ge(g[0]),
                            f = f.Ya.split(".").pop(),
                            p = ig[r],
                            (p = p[f]) || (p = ng[f]) || (p = Yp(r, a))) ? e.return(p) : (h = 1,
                            d = qi(g, i.g.retryParameters),
                            Ee(e, 2),
                            d.method = "HEAD",
                            Te(e, tg(i, d, l, {
                                type: h
                            }), 4));
                        case 4:
                            f = e.h,
                            c = f.headers["content-type"],
                            Se(e, 3);
                            break;
                        case 2:
                            if (!(p = xe(e)) || 1002 != p.code && 1001 != p.code) {
                                e.F(3);
                                break
                            }
                            return d.method = "GET",
                            Te(e, tg(i, d, l, {
                                type: h
                            }), 6);
                        case 6:
                            g = e.h,
                            c = g.headers["content-type"];
                        case 3:
                            return c ? e.return(c.split(";")[0]) : e.return(Jp(r))
                        }
                    })), 3)
                }
                var i, r, a, o, s, u, l, c, h, d, f, p, g;
                if (2 != e.g && (R = e.h),
                P = Vp(v, R),
                _ = P.drmInfos,
                B = P.keyIds,
                D = P.encrypted,
                P = P.Jh,
                !D || _.length || P)
                    return (P = Gp(m, w, T, A, E, S, x, I, k, C, M, L)).encrypted = D,
                    P.drmInfos = _,
                    P.keyIds = B,
                    P.mimeType = R,
                    D = Zp(m) ? m.L.get(T) : new Map,
                    _ = qp(m, v, P, D, N, y),
                    B = _.segments,
                    (_ = _.bandwidth) && (P.bandwidth = _),
                    Zp(m) && Hp(m, v),
                    _ = B[0].startTime,
                    U = B[B.length - 1],
                    U = U.endTime,
                    j = new us(B),
                    P.segmentIndex = j,
                    O = !!(j = op(v.g, "EXT-X-SERVER-CONTROL")) && null != j.getAttribute("CAN-SKIP-UNTIL"),
                    j = !!j && null != j.getAttribute("CAN-BLOCK-RELOAD"),
                    F = sp(v.g, "EXT-X-MEDIA-SEQUENCE", 0),
                    F = Fp(F, B),
                    B = F.rb,
                    F = F.sb,
                    e.return({
                        stream: P,
                        type: T,
                        jh: [],
                        ba: y,
                        yc: _,
                        Qb: U,
                        ae: O,
                        $d: j,
                        vd: !1,
                        pf: -1,
                        rb: B,
                        sb: F,
                        ye: D,
                        Sf: !1
                    });
                throw new ke(2,4,4026)
            })
        }
        function Fp(e, t) {
            e = e + t.length - 1;
            var n = -1;
            if (!t.length)
                return {
                    rb: ++e,
                    sb: n
                };
            var i = (t = t[t.length - 1]).g;
            return t.g.length ? (n = i.length - 1,
            i[i.length - 1].l || (e++,
            n = 0),
            {
                rb: e,
                sb: n
            }) : {
                rb: ++e,
                sb: n = t.m ? 0 : n
            }
        }
        function Gp(e, t, n, i, r, a, o, s, u, l, c, h) {
            var d = Yp(n, t) || Jp(n)
              , f = [];
            if (u)
                for (var p = (u = we(u.split(","))).next(); !p.done; p = u.next())
                    f.push(p.value);
            return u = void 0,
            p = null,
            n == he ? u = f.includes("public.accessibility.transcribes-spoken-dialog") && f.includes("public.accessibility.describes-music-and-sound") ? "caption" : "subtitle" : f.includes("public.accessibility.describes-video") && (p = "visually impaired"),
            f.length || "subtitle" !== u || f.push("subtitle"),
            {
                id: e.C++,
                originalId: a,
                groupId: null,
                createSegmentIndex: function() {
                    return Promise.resolve()
                },
                segmentIndex: null,
                mimeType: d,
                codecs: t,
                kind: n == he ? "subtitle" : void 0,
                encrypted: !1,
                drmInfos: [],
                keyIds: new Set,
                language: de(i || "und"),
                originalLanguage: i,
                label: a,
                type: n,
                primary: r,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                frameRate: void 0,
                pixelAspectRatio: void 0,
                width: void 0,
                height: void 0,
                bandwidth: void 0,
                roles: f,
                forced: l,
                channelsCount: o,
                audioSamplingRate: c,
                spatialAudio: h,
                closedCaptions: s,
                hdr: void 0,
                videoLayout: void 0,
                tilesLayout: void 0,
                accessibilityPurpose: p,
                external: !1,
                fastSwitching: !1
            }
        }
        function Vp(e, t) {
            var n = [];
            if (e.segments)
                for (var i = (e = we(e.segments)).next(); !i.done; i = e.next())
                    i = rp(i.value.g, "EXT-X-KEY"),
                    n.push.apply(n, le(i));
            for (var i = e = !1, r = [], a = new Set, o = (n = we(n)).next(); !o.done; o = n.next())
                if ("NONE" != (s = tp(o = o.value, "METHOD")))
                    if (e = !0,
                    "AES-128" == s)
                        i = !0;
                    else if (s = pe(o, "KEYFORMAT") || "identity",
                    o = (s = rg[s]) ? s(o, t) : null) {
                        if (o.keyIds)
                            for (var s, u = (s = we(o.keyIds)).next(); !u.done; u = s.next())
                                a.add(u.value);
                        r.push(o)
                    }
            return {
                drmInfos: r,
                keyIds: a,
                encrypted: e,
                Jh: i
            }
        }
        function Kp(r, a, e, o, s) {
            if (!z.crypto || !z.crypto.subtle)
                throw X("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),
                new ke(2,4,4042);
            var t = 0
              , n = pe(a, "IV", "");
            if (n) {
                var i = Rr(n.substr(2));
                if (16 != i.byteLength)
                    throw new ke(2,4,4048)
            } else
                t = sp(e.g, "EXT-X-MEDIA-SEQUENCE", 0);
            var u = {
                method: "AES-128",
                iv: i,
                firstMediaSequenceNumber: t,
                fetchKey: function() {
                    var t, n, i;
                    return Ie(function(e) {
                        if (1 == e.g)
                            return t = up(o(), tp(a, "URI"), s),
                            t = qi(t, r.g.retryParameters),
                            Te(e, tg(r, t, 6), 2);
                        if (3 != e.g) {
                            if ((t = e.h).data && 16 == t.data.byteLength)
                                return n = {
                                    name: "AES-CBC"
                                },
                                i = u,
                                Te(e, z.crypto.subtle.importKey("raw", t.data, n, !0, ["decrypt"]), 3);
                            throw new ke(2,4,4049)
                        }
                        i.cryptoKey = e.h,
                        u.fetchKey = void 0,
                        Ae(e)
                    })
                }
            };
            return u
        }
        function Hp(e, t) {
            var n = 1 / 0
              , i = t.segments;
            if (i.length)
                for (var r = i.length - 1; 0 <= r; ) {
                    var a = op(i[r].g, "EXTINF");
                    if (a) {
                        n = Number(a.value.split(",")[0]);
                        break
                    }
                    r--
                }
            if (!(i = op(t.g, "EXT-X-TARGETDURATION")))
                throw new ke(2,4,4024,"EXT-X-TARGETDURATION");
            i = Number(i.value),
            (r = op(t.g, "EXT-X-PART-INF")) && (e.M = Number(tp(r, "PART-TARGET"))),
            t = op(t.g, "EXT-X-SERVER-CONTROL"),
            e.D && e.M ? (e.m = !e.Wa || 5 * e.M <= n ? Math.min(e.M, e.m) : Math.min(n, e.m),
            e.ha = t ? Number(tp(t, "PART-HOLD-BACK")) : 0) : (e.m = Math.min(n, e.m),
            n = t ? t.getAttribute("HOLD-BACK") : null,
            e.Aa = n ? Number(n.value) : 0),
            e.ua = Math.max(i, e.ua)
        }
        function zp(e, t) {
            var n;
            t = e.g.defaultPresentationDelay || e.ha || e.Aa || ((t = t.segments.length) - 2 < (n = e.g.hls.liveSegmentsDelay) && (n = Math.max(1, t - 2)),
            e.ua * n),
            e.l.og(0),
            e.l.oh(t),
            e.l.Vc(!1)
        }
        function Xp(e, t, n, i, r) {
            var a = op(n, "EXT-X-MAP");
            if (!a)
                return null;
            var o, s, u, l, c, h = tp(a, "URI"), d = up(i(), h, r), h = [d.toString(), pe(a, "BYTERANGE", "")].join("-");
            if (!e.W.has(h)) {
                for (var f = void 0, p = null, g = (n = we(n)).next(); !g.done; g = n.next())
                    "EXT-X-KEY" == (g = g.value).name ? "AES-128" == tp(g, "METHOD") && g.id < a.id && (f = Kp(e, g, t, i, r)) : "EXT-X-BYTERANGE" == g.name && g.id < a.id && (p = g);
                o = d,
                d = p,
                u = f,
                l = 0,
                c = null,
                (s = !(s = pe(s = a, "BYTERANGE")) && d ? d.value : s) && (l = s.split("@"),
                c = Number(l[0]),
                l = Number(l[1]),
                c = l + c - 1,
                u && (d = c + 1 - l) % 16 && (c += 16 - d % 16)),
                t = new Na(function() {
                    return o
                }
                ,l,c,null,null,null,u),
                e.W.set(h, t)
            }
            return e.W.get(h)
        }
        function Wp(e, t) {
            var n = 0
              , i = null;
            return t && (n = t.split("@"),
            t = Number(n[0]),
            i = (n = n[1] ? Number(n[1]) : e.Na + 1) + t - 1),
            [n, i]
        }
        function qp(e, t, n, i, r, a) {
            for (var o = t.segments, s = void 0, u = sp(t.g, "EXT-X-DISCONTINUITY-SEQUENCE", 0), l = sp(t.g, "EXT-X-MEDIA-SEQUENCE", 0), c = (g = op(t.g, "EXT-X-SKIP")) ? Number(pe(g, "SKIPPED-SEGMENTS")) : 0, h = l + c, d = 0, f = (0 === (d = Zp(e) && i.has(h) ? i.get(h) : d) && e.aa == sg && 0 < i.size && !i.has(h) && (d = e.l.Ab()),
            []), p = null, g = [], m = 0; m < o.length; m++) {
                var v = o[m]
                  , y = 0 == m ? d : p.endTime
                  , h = l + c + m;
                op(v.g, "EXT-X-DISCONTINUITY") && u++;
                for (var b = we(v.g), w = b.next(); !w.done; w = b.next())
                    "EXT-X-KEY" == (w = w.value).name && (s = "AES-128" == tp(w, "METHOD") ? Kp(e, w, t, a, r) : void 0);
                i.set(h, y),
                b = Xp(e, t, v.g, a, r),
                !e.D && e.i.isAutoLowLatencyMode() && (e.i.enableLowLatencyMode(),
                e.D = e.i.isLowLatencyMode()),
                (y = function(e, t, n, i, r, a, o, s, u) {
                    var l = i.g
                      , c = op(l, "EXTINF")
                      , h = 0
                      , d = 0
                      , f = null
                      , p = (i.Bb.length && !e.D && X("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),
                    null)
                      , g = (e.g.hls.ignoreManifestProgramDateTime || (v = op(l, "EXT-X-PROGRAM-DATE-TIME")) && v.value && (p = Hr(v.value)),
                    Da);
                    if (op(l, "EXT-X-GAP") && (g = 2),
                    !c) {
                        if (0 == i.Bb.length)
                            throw new ke(2,4,4024,"EXTINF");
                        if (!e.D)
                            return null
                    }
                    var m = []
                      , v = !1
                      , y = null
                      , b = !1
                      , w = !1;
                    if (e.D && i.Bb.length)
                        for (var h = ("video/mp4" == o.mimeType || "audio/mp4" == o.mimeType) && z.ReadableStream && e.g.hls.allowLowLatencyByteRangeOptimization, T = p, A = {}, E = 0; E < i.Bb.length; A = {
                            hd: A.hd,
                            Ud: A.Ud
                        },
                        E++) {
                            var S, x, I, k, C = i.Bb[E], M = 0 == E ? n : m[m.length - 1], L = 0 == E ? r : M.endTime, R = Number(pe(C, "DURATION")) || e.M;
                            R && (S = L + R,
                            x = 0,
                            I = null,
                            "EXT-X-PRELOAD-HINT" == C.name ? (x = (x = pe(C, "BYTERANGE-START")) ? Number(x) : 0,
                            (M = pe(C, "BYTERANGE-LENGTH")) ? I = x + Number(M) - 1 : x && (I = Number.MAX_SAFE_INTEGER)) : (x = (I = we(Wp(M, x = pe(C, "BYTERANGE")))).next().value,
                            I = I.next().value),
                            A.Ud = pe(C, "URI"),
                            A.Ud && (M = Da,
                            "YES" == pe(C, "GAP") && (M = 2,
                            b = !0),
                            A.hd = null,
                            k = function(e) {
                                return function() {
                                    return null == e.hd && (e.hd = up(s(), e.Ud, a)),
                                    e.hd
                                }
                            }(A),
                            h && 0 <= x && null != I && (y = k,
                            v = !0),
                            L = new P(L,S,k,x,I,t,0,0,1 / 0,[],"",null,T,M,u),
                            "EXT-X-PRELOAD-HINT" == C.name && (L.Tf(),
                            w = !0),
                            "YES" != pe(C, "INDEPENDENT") && 0 < E && L.xe(),
                            m.push(L),
                            T && (T += R)))
                        }
                    if (c) {
                        if (0 == (c = Number(c.value.split(",")[0])))
                            return null;
                        h = r + c
                    } else {
                        if (!m.length)
                            return null;
                        h = m[m.length - 1].endTime
                    }
                    v && (b || 0 != m[0].hb ? (v = !1,
                    y = null) : m = []),
                    (c = op(l, "EXT-X-BYTERANGE")) ? (d = (f = we(Wp(n, c.value))).next().value,
                    f = f.next().value) : m.length && (d = m[0].hb,
                    f = m[m.length - 1].Na),
                    n = "",
                    c = null,
                    "image" == o.type && (n = "1x1",
                    o = op(l, "EXT-X-TILES")) && (n = tp(o, "LAYOUT"),
                    (o = pe(o, "DURATION")) && (c = Number(o)));
                    var N = null;
                    return t = new P(r,h,function() {
                        return y ? y() : (N = null == N ? up(s(), i.h, a) : N) || []
                    }
                    ,d,f,t,0,0,1 / 0,m,n,c,p,g,u,0 < m.length && !!i.h),
                    v && (e.Wa = !0,
                    t.bh(),
                    w && t.Tf()),
                    t
                }(e, b, p, v, y, r, n, a, s)) && ((p = sp(v.g, "EXT-X-BITRATE")) ? g.push({
                    bitrate: p,
                    duration: y.endTime - y.startTime
                }) : g.length && ((p = g.pop()).duration += y.endTime - y.startTime,
                g.push(p)),
                (p = y).i = u,
                e.g.hls.ignoreManifestProgramDateTime && null != e.K && h < e.K || f.push(y))
            }
            if (t = void 0,
            g.length && (t = g.reduce(function(e, t) {
                return e + t.duration
            }, 0),
            t = Math.round(g.reduce(function(e, t) {
                return e + t.bitrate * t.duration
            }, 0) / t * 1e3)),
            g = f.some(function(e) {
                return null != e.oa
            }))
                for (n = {},
                i = 0; i < f.length; n = {
                    Zc: n.Zc,
                    Yc: n.Yc,
                    Qd: n.Qd,
                    Vb: n.Vb,
                    Xc: n.Xc
                },
                i++)
                    if (n.Vb = f[i],
                    null == n.Vb.oa)
                        for (n.Yc = 0,
                        n.Zc = i,
                        r = function(t) {
                            return function() {
                                var e = f[t.Zc];
                                if (e) {
                                    if (null != e.oa)
                                        return e.oa + t.Yc;
                                    t.Yc -= e.endTime - e.startTime,
                                    t.Zc += 1
                                }
                                return null
                            }
                        }(n),
                        n.Xc = 0,
                        n.Qd = i,
                        a = function(t) {
                            return function() {
                                var e = f[t.Qd];
                                if (e) {
                                    if (e != t.Vb && (t.Xc += e.endTime - e.startTime),
                                    null != e.oa)
                                        return e.oa + t.Xc;
                                    --t.Qd
                                }
                                return null
                            }
                        }(n); null == n.Vb.oa; )
                            n.Vb.oa = a(),
                            null == n.Vb.oa && (n.Vb.oa = r());
            if (g)
                for (i = (n = we(f)).next(); !i.done; i = n.next())
                    for (i = (r = i.value).oa,
                    a = (r = we(r.g)).next(); !a.done; a = r.next())
                        (a = a.value).oa = i,
                        i += a.endTime - a.startTime;
            if (e = e.V,
            g && 1 / 0 != e)
                for (i = (g = we(f)).next(); !i.done; i = g.next())
                    i.value.sg(e);
            return {
                segments: f,
                bandwidth: t
            }
        }
        function Yp(e, t) {
            if (e == he) {
                if ("vtt" == t || "wvtt" == t)
                    return "text/vtt";
                if (t && "" !== t)
                    return "application/mp4"
            }
            return "image" != e || t && "jpeg" != t ? "audio" == e && "mp4a.40.34" == t ? "audio/mpeg" : "mjpg" == t ? "application/mp4" : null : "image/jpeg"
        }
        function Jp(e) {
            return e == he ? "text/vtt" : ig[e].mp4
        }
        function Qp(e, t, n, i, r, a) {
            e && (e.width = Number(t) || void 0,
            e.height = Number(n) || void 0,
            e.frameRate = Number(i) || void 0,
            e.hdr = r || void 0,
            e.videoLayout = a || void 0)
        }
        function $p(e, t, n) {
            return tg(e, qi(t, e.g.retryParameters), 0, {
                type: n ? 2 : 3
            })
        }
        function Zp(e) {
            return e.aa != ag
        }
        function eg(e, t) {
            e.aa = t,
            e.l && e.l.Vc(!Zp(e)),
            Zp(e) || e.u.stop()
        }
        function tg(e, t, n, i) {
            if (e.N)
                return t = e.i.networkingEngine.request(n, t, i),
                zi(e.N, t),
                t.promise;
            throw new ke(2,7,7001)
        }
        n("shaka.net.DataUriPlugin", bp),
        Wi("data", bp.parse = wp),
        (e = Sp.prototype).configure = function(e) {
            this.g = e,
            this.j && this.j.configure(this.g)
        }
        ,
        e.start = function(t, n) {
            var i, r = this;
            return Ie(function(e) {
                return 1 == e.g ? (r.i = n,
                r.D = n.isLowLatencyMode(),
                Te(e, $p(r, [t]), 2)) : 3 != e.g ? (i = e.h,
                r.Z = i.uri,
                Te(e, (U = r,
                O = i.data,
                j = t,
                Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        if (B = gp(U.sa, O),
                        K = rp(B.g, "EXT-X-DEFINE"),
                        F = [],
                        G = [],
                        V = [],
                        1 == B.type)
                            return Te(e, kp(U, B, q = function() {
                                return [j]
                            }
                            ), 6);
                        for (var t = U, n = K, i = new ge(t.Z).g, r = (n = we(n)).next(); !r.done; r = n.next()) {
                            var a = r.value
                              , o = (r = pe(a, "NAME"),
                            pe(a, "VALUE"));
                            a = pe(a, "QUERYPARAM"),
                            r && o && (t.s.has(r) || t.s.set(r, o)),
                            a && (r = i.get(a)[0]) && !t.s.has(r) && t.s.set(a, r)
                        }
                        K = rp(B.g, "EXT-X-MEDIA"),
                        H = rp(B.g, "EXT-X-STREAM-INF"),
                        z = rp(B.g, "EXT-X-IMAGE-STREAM-INF"),
                        X = rp(B.g, "EXT-X-I-FRAME-STREAM-INF"),
                        W = rp(B.g, "EXT-X-SESSION-KEY"),
                        Y = rp(B.g, "EXT-X-SESSION-DATA"),
                        Q = rp(B.g, "EXT-X-CONTENT-STEERING");
                        for (var s = U, u = Y, l = (u = we(u)).next(); !l.done; l = u.next()) {
                            var c = l.value
                              , h = pe(c, "DATA-ID")
                              , d = (l = pe(c, "URI"),
                            pe(c, "LANGUAGE"));
                            c = pe(c, "VALUE"),
                            h = (new Map).set("id", h),
                            l && h.set("uri", up([s.Z], l, s.s)[0]),
                            d && h.set("language", d),
                            c && h.set("value", c),
                            l = new ce("sessiondata",h),
                            s.i && s.i.onEvent(l)
                        }
                        return Te(e, (M = U,
                        L = Q,
                        Ie(function(e) {
                            if (!M.i || !M.g)
                                return e.return();
                            for (N = we(L),
                            P = N.next(); !P.done; P = N.next())
                                if (_ = P.value,
                                D = pe(_, "PATHWAY-ID"),
                                _ = pe(_, "SERVER-URI"),
                                D && _) {
                                    M.j = new nf(M.i),
                                    M.j.configure(M.g),
                                    M.j.j = [M.Z],
                                    M.j.setManifestType("HLS"),
                                    M.j.h = D,
                                    R = rf(M.j, _);
                                    break
                                }
                            return Te(e, R, 0)
                        })), 4);
                    case 4:
                        for (var f = U, p = H, g = (p = we(p)).next(); !g.done; g = p.next()) {
                            var m, v = g.value, y = pe(v, "AUDIO"), b = (g = pe(v, "VIDEO"),
                            pe(v, "SUBTITLES"));
                            v = Lp(f, v),
                            b && (m = Ke(he, v),
                            f.I.set(b, m),
                            xt(v, m)),
                            y && (b = (b = Ke("audio", v)) || f.g.hls.defaultAudioCodec,
                            f.I.set(y, b)),
                            g && (y = (y = Ke("video", v)) || f.g.hls.defaultVideoCodec,
                            f.I.set(g, y))
                        }
                        for (var w = U, T = K, A = (T = we(T = ap(T, "CLOSED-CAPTIONS"))).next(); !A.done; A = T.next()) {
                            var E = A.value
                              , S = pe(E, "LANGUAGE");
                            A = de(S || "und"),
                            S || (S = pe(E, "NAME")) && (A = S),
                            S = tp(E, "GROUP-ID"),
                            E = tp(E, "INSTREAM-ID").replace("SERVICE", "svc"),
                            w.H.get(S) || w.H.set(S, new Map),
                            w.H.get(S).set(E, A)
                        }
                        return F = function(e, t, n, i) {
                            var r, a = [], o = new Set;
                            if (0 < n.length)
                                for (var s = (n = we(n)).next(); !s.done; s = n.next()) {
                                    var u = tp(s = s.value, "METHOD");
                                    if ("NONE" != u && "AES-128" != u && (u = pe(s, "KEYFORMAT") || "identity",
                                    s = (u = rg[u]) ? u(s, "") : null)) {
                                        if (s.keyIds)
                                            for (var l = (u = we(s.keyIds)).next(); !l.done; l = u.next())
                                                o.add(l.value);
                                        a.push(s)
                                    }
                                }
                            for (n = {},
                            t = we(t),
                            s = t.next(); !s.done; s = t.next())
                                s = s.value,
                                u = ep(s),
                                n[u] ? n[u].push(s) : n[u] = [s];
                            for (r in t = [],
                            n) {
                                var c = (l = n[r])[0]
                                  , h = (s = pe(c, "FRAME-RATE"),
                                u = Number(pe(c, "AVERAGE-BANDWIDTH")) || Number(tp(c, "BANDWIDTH")),
                                pe(c, "RESOLUTION"))
                                  , d = we(h ? h.split("x") : [null, null])
                                  , f = (h = d.next().value,
                                d = d.next().value,
                                pe(c, "VIDEO-RANGE"));
                                c = (c = (c = pe(c, "REQ-VIDEO-LAYOUT")) && c.includes(",") ? c.split(",").filter(function(e) {
                                    return "CH-STEREO" == e || "CH-MONO" == e
                                })[0] : c) || "CH-MONO",
                                l = function(e, t, n, i) {
                                    for (var r = {
                                        audio: [],
                                        video: []
                                    }, a = new Map, o = [], s = !1, u = !1, l = we(t), c = l.next(); !c.done; c = l.next()) {
                                        var h = c.value
                                          , d = (c = pe(h, "AUDIO"),
                                        pe(h, "VIDEO"))
                                          , f = c || d;
                                        f && (o.includes(f) || o.push(f),
                                        (h = pe(h, "PATHWAY-ID")) && a.set(f, h),
                                        c ? s = !0 : d && (u = !0))
                                    }
                                    o.length && n.length && (l = n.filter(function(e) {
                                        return o.includes(tp(e, "GROUP-ID"))
                                    }),
                                    function(e, t, n) {
                                        t = t.filter(function(e) {
                                            var t = pe(e, "URI") || "";
                                            return "SUBTITLES" != pe(e, "TYPE") && "" != t
                                        });
                                        for (var i, r = {}, a = (t = we(t)).next(); !a.done; a = t.next()) {
                                            var o = ep(a = a.value);
                                            r[o] ? r[o].push(a) : r[o] = [a]
                                        }
                                        for (i in r)
                                            Dp(e, r[i], n)
                                    }(e, l, a)),
                                    l = (a = o.sort().join(",")) && e.J.has(a) ? e.J.get(a) : [],
                                    s ? r.audio.push.apply(r.audio, le(l)) : u && r.video.push.apply(r.video, le(l)),
                                    c = !1;
                                    var p = t.map(function(e) {
                                        return tp(e, "URI")
                                    });
                                    {
                                        var g;
                                        u = r.audio.find(function(e) {
                                            return e && e.ba().find(function(e) {
                                                return p.includes(e)
                                            })
                                        }),
                                        s = Lp(e, t[0]),
                                        d = Ke("video", s),
                                        (f = Ke("audio", s)) && !d ? (u = "audio",
                                        c = 0 < r.audio.length) : !r.audio.length && !r.video.length && f && d ? (u = "video",
                                        s = [[d, f].join()]) : r.audio.length && u ? (u = "audio",
                                        c = !0) : u = r.video.length && !r.audio.length ? "audio" : "video",
                                        c || (g = h = f = d = c = null,
                                        !l.length && (n = n.find(function(e) {
                                            var t = pe(e, "URI") || ""
                                              , n = pe(e, "TYPE");
                                            return e = tp(e, "GROUP-ID"),
                                            "SUBTITLES" != n && "" == t && o.includes(e)
                                        })) && (c = pe(n, "LANGUAGE"),
                                        d = pe(n, "NAME"),
                                        f = Rp(n),
                                        Pp(n),
                                        h = pe(n, "CHARACTERISTICS"),
                                        g = Np(n)),
                                        e = function(e, t, n, i, r, a, o, s, u) {
                                            for (var l = e.C++, c = [], h = we(t), d = h.next(); !d.done; d = h.next()) {
                                                var f = d.value;
                                                d = tp(f, "URI"),
                                                f = pe(f, "PATHWAY-ID"),
                                                e.j && f && af(e.j, l, f, d),
                                                c.push(d)
                                            }
                                            if (h = c.sort().join(","),
                                            e.h.has(h))
                                                return e.h.get(h);
                                            e: {
                                                if (t = pe(t[0], "CLOSED-CAPTIONS"),
                                                "video" == i) {
                                                    if (t && "NONE" != t) {
                                                        t = e.H.get(t);
                                                        break e
                                                    }
                                                    if (!t && e.H.size)
                                                        for (t = we(e.H.keys()).next(); !t.done; ) {
                                                            t = e.H.get(t.value);
                                                            break e
                                                        }
                                                }
                                                t = null
                                            }
                                            return n = Ve(i, n),
                                            i = _p(e, l, c, n, i, r, !1, a, o, t, s, !1, u, !1),
                                            e.h.set(h, i),
                                            i
                                        }(e, t, s, u, c, d, f, h, g),
                                        a && (e.stream.groupId = a),
                                        l.length || (e.stream.bandwidth = i),
                                        r[e.stream.type] = [e])
                                    }
                                    return r
                                }(e, l, i, u),
                                t.push.apply(t, le(function(e, t, n, i, r, a, o, s, u, l, c) {
                                    for (var h = we(n), d = h.next(); !d.done; d = h.next())
                                        Qp(d.value.stream, r, a, o, s, u);
                                    r = e.g.disableAudio,
                                    t.length && !r || (t = [null]);
                                    r = e.g.disableVideo,
                                    n.length && !r || (n = [null]);
                                    for (r = [],
                                    t = we(t),
                                    a = t.next(); !a.done; a = t.next())
                                        for (a = a.value,
                                        o = we(n),
                                        s = o.next(); !s.done; s = o.next()) {
                                            var f = s.value
                                              , p = ((s = a ? a.stream : null) && (s.drmInfos = l,
                                            s.keyIds = c),
                                            (u = f ? f.stream : null) && (u.drmInfos = l,
                                            u.keyIds = c),
                                            h = a ? a.stream.drmInfos : null,
                                            d = f ? f.stream.drmInfos : null,
                                            f = f ? f.ba().sort().join(",") : "",
                                            a ? a.ba().sort().join(",") : "");
                                            f = f + " - " + p,
                                            s && u && !va(h, d) || e.va.has(f) || (s = {
                                                id: e.C++,
                                                language: s ? s.language : "und",
                                                disabledUntilTime: 0,
                                                primary: !!s && s.primary || !!u && u.primary,
                                                audio: s,
                                                video: u,
                                                bandwidth: i,
                                                allowedByApplication: !0,
                                                allowedByKeySystem: !0,
                                                decodingInfos: []
                                            },
                                            r.push(s),
                                            e.va.add(f))
                                        }
                                    return r
                                }(e, l.audio, l.video, u, h, d, s, f, c, a, o)))
                            }
                            return t.filter(function(e) {
                                return null != e
                            })
                        }(U, H, W, K),
                        G = function(t, e) {
                            var n = ap(e, "SUBTITLES");
                            e = n.map(function(e) {
                                if (t.g.disableText)
                                    return null;
                                try {
                                    return Dp(t, [e], new Map).stream
                                } catch (e) {
                                    if (t.g.hls.ignoreTextStreamFailures)
                                        return null;
                                    throw e
                                }
                            });
                            for (var i = (n = we(n)).next(); !i.done; i = n.next()) {
                                var r = tp(i.value, "GROUP-ID");
                                if ((i = t.I.get(r)) && (r = t.J.get(r)))
                                    for (var a = (r = we(r)).next(); !a.done; a = r.next())
                                        (a = a.value).stream.codecs = i,
                                        a.stream.mimeType = Yp(he, i) || Jp(he)
                            }
                            return e.filter(function(e) {
                                return e
                            })
                        }(U, K),
                        Te(e, (x = U,
                        I = z,
                        k = X,
                        Ie(function(e) {
                            return 1 == e.g ? (C = I.map(function(l) {
                                var c;
                                return Ie(function(e) {
                                    if (1 == e.g)
                                        return x.g.disableThumbnails ? e.return(null) : (Ee(e, 2),
                                        Te(e, (t = x,
                                        n = l,
                                        Ie(function(e) {
                                            return 1 == e.g ? (i = tp(n, "URI"),
                                            o = pe(n, "CODECS", "jpeg") || "",
                                            t.h.has(i) ? e.return(t.h.get(i)) : (r = pe(n, "LANGUAGE"),
                                            a = pe(n, "NAME"),
                                            s = pe(n, "CHARACTERISTICS"),
                                            r = _p(t, t.C++, [i], o, "image", r, !1, a, null, null, s, !1, null, !1),
                                            (a = pe(n, "RESOLUTION")) ? Te(e, r.stream.createSegmentIndex(), 3) : e.F(2))) : (2 != e.g && (o = r.stream.segmentIndex.get(0),
                                            s = o.tilesLayout) && (r.stream.width = Number(a.split("x")[0]) * Number(s.split("x")[0]),
                                            r.stream.height = Number(a.split("x")[1]) * Number(s.split("x")[1])),
                                            (u = pe(n, "BANDWIDTH")) && (r.stream.bandwidth = Number(u)),
                                            t.h.set(i, r),
                                            e.return(r))
                                        })), 4));
                                    var t, n, i, r, a, o, s, u;
                                    if (2 != e.g)
                                        return c = e.h,
                                        e.return(c.stream);
                                    if (c = xe(e),
                                    x.g.hls.ignoreImageStreamFailures)
                                        return e.return(null);
                                    throw c
                                })
                            }).concat(k.map(function(e) {
                                if (x.g.disableThumbnails)
                                    return null;
                                try {
                                    var t, n, i, r, a, o, s, u, l, c = tp(e, "URI"), h = pe(e, "CODECS") || "", d = x.h.has(c) ? x.h.get(c) : (t = pe(e, "LANGUAGE"),
                                    n = pe(e, "NAME"),
                                    i = pe(e, "CHARACTERISTICS"),
                                    r = _p(x, x.C++, [c], h, "image", t, !1, n, null, null, i, !1, null, !1),
                                    s = (o = we((a = pe(e, "RESOLUTION")) ? a.split("x") : [null, null])).next().value,
                                    u = o.next().value,
                                    r.stream.width = Number(s) || void 0,
                                    r.stream.height = Number(u) || void 0,
                                    (l = pe(e, "BANDWIDTH")) && (r.stream.bandwidth = Number(l)),
                                    x.h.set(c, r),
                                    r);
                                    return "mjpg" !== (e = d).stream.codecs ? null : e.stream
                                } catch (e) {
                                    if (x.g.hls.ignoreImageStreamFailures)
                                        return null;
                                    throw e
                                }
                            })),
                            Te(e, Promise.all(C), 2)) : (C = e.h,
                            e.return(C.filter(function(e) {
                                return e
                            })))
                        })), 5);
                    case 5:
                        V = e.h,
                        e.F(3);
                        break;
                    case 6:
                        return Y = e.h,
                        J = Y.type,
                        Q = Y.mimeType,
                        ne = Y.codecs,
                        $ = Y.language,
                        Z = Y.height,
                        ee = Y.width,
                        ie = Y.channelCount,
                        te = Y.sampleRate,
                        re = Y.closedCaptions,
                        Te(e, Bp(U, U.C++, B, q, j, ne, J, $, !0, "Media Playlist", ie, re, null, !1, te, !1, Q), 7);
                    case 7:
                        ne = e.h,
                        U.h.set(j, ne),
                        "video" == J && Qp(ne.stream, ee, Z, null, null, null),
                        F.push({
                            id: 0,
                            language: de($ || "und"),
                            disabledUntilTime: 0,
                            primary: !0,
                            audio: "audio" == J ? ne.stream : null,
                            video: "video" == J ? ne.stream : null,
                            bandwidth: ne.stream.bandwidth || 0,
                            allowedByApplication: !0,
                            allowedByKeySystem: !0,
                            decodingInfos: []
                        });
                    case 3:
                        if (!U.i)
                            throw new ke(2,7,7001);
                        if (U.l = new fe(null,0),
                        U.l.Vc(!0),
                        1 == B.type && (Zp(U) && (zp(U, B),
                        ie = U.m,
                        U.u.S(ie)),
                        re = Array.from(U.h.values()),
                        jp(U, re),
                        Cp(U)),
                        U.G = {
                            presentationTimeline: U.l,
                            variants: F,
                            textStreams: G,
                            imageStreams: V,
                            offlineSessionIds: [],
                            minBufferTime: 0,
                            sequenceMode: U.g.hls.sequenceMode,
                            ignoreManifestTimestampsInSegmentsMode: U.g.hls.ignoreManifestTimestampsInSegmentsMode,
                            type: "HLS",
                            serviceDescription: null
                        },
                        U.$ || !U.g.hls.disableCodecGuessing) {
                            e.F(8);
                            break
                        }
                        for (ae = [],
                        oe = we(U.G.variants),
                        se = oe.next(); !se.done; se = oe.next())
                            (ue = se.value).audio && "" === ue.audio.codecs && ae.push(ue.audio.createSegmentIndex()),
                            ue.video && "" === ue.video.codecs && ae.push(ue.video.createSegmentIndex());
                        return Te(e, Promise.all(ae), 8);
                    case 8:
                        U.i.makeTextStreamsForClosedCaptions(U.G),
                        Ae(e)
                    }
                    var x, I, k, C, M, L, R, N, P, D, _
                })), 3)) : e.return(r.G);
                var U, O, j, B, F, G, V, K, H, z, X, W, q, Y, J, Q, $, Z, ee, te, ne, ie, re, ae, oe, se, ue
            })
        }
        ,
        e.stop = function() {
            this.u && (this.u.stop(),
            this.u = null);
            var e = [];
            return this.N && (e.push(this.N.destroy()),
            this.N = null),
            this.g = this.i = null,
            this.va.clear(),
            this.G = null,
            this.h.clear(),
            this.J.clear(),
            this.I.clear(),
            this.s.clear(),
            this.W.clear(),
            this.j && this.j.destroy(),
            Promise.all(e)
        }
        ,
        e.update = function() {
            var t, n, i, r, a, o, s, u = this;
            return Ie(function(e) {
                if (1 == e.g) {
                    if (!Zp(u))
                        return e.return();
                    for (t = [],
                    n = Array.from(u.h.values()),
                    u.m = 1 / 0,
                    n = n.filter(function(e) {
                        return e.stream.segmentIndex
                    }),
                    i = we(n),
                    r = i.next(); !r.done; r = i.next())
                        a = r.value,
                        t.push(function(t, n) {
                            var i, r, a, o, s, u, l, c, h, d, f, p, g;
                            return Ie(function(e) {
                                if (1 == e.g) {
                                    for (i = [],
                                    r = we(n.ba()),
                                    a = r.next(); !a.done; a = r.next())
                                        o = a.value,
                                        o = new ge(o),
                                        s = o.g,
                                        n.$d && (0 <= n.rb && s.add("_HLS_msn", String(n.rb)),
                                        0 <= n.sb && s.add("_HLS_part", String(n.sb))),
                                        n.ae && s.add("_HLS_skip", "YES"),
                                        je(s) && me(o, s),
                                        i.push(o.toString());
                                    return Te(e, $p(t, i, !0), 2)
                                }
                                if (p = e.h,
                                !n.stream.segmentIndex)
                                    return e.return();
                                if (1 != (u = gp(t.sa, p.data)).type)
                                    throw new ke(2,4,4017);
                                (l = p.uri) == p.originalUri || n.ba().includes(l) || n.jh.push(l),
                                p = rp(u.g, "EXT-X-DEFINE"),
                                p = Mp(t, p, l),
                                l = n.stream,
                                c = xp(t, n),
                                h = Vp(u, l.mimeType),
                                d = h.keyIds,
                                h = h.drmInfos,
                                function(e, t) {
                                    return e.size === t.size && [].concat(le(e)).every(function(e) {
                                        return t.has(e)
                                    })
                                }(l.keyIds, d) || (l.keyIds = d,
                                l.drmInfos = h,
                                t.i.newDrmInfo(l)),
                                d = qp(t, u, l, c, p, n.ba),
                                h = d.segments,
                                (p = d.bandwidth) && (l.bandwidth = p),
                                l.segmentIndex.Cd(h, t.l.Ab()),
                                h.length && (d = sp(u.g, "EXT-X-MEDIA-SEQUENCE", 0),
                                p = (p = op(u.g, "EXT-X-SKIP")) ? Number(pe(p, "SKIPPED-SEGMENTS")) : 0,
                                g = Fp(d, h),
                                f = g.rb,
                                g = g.sb,
                                n.rb = f + p,
                                n.sb = g,
                                f = c.get(d),
                                l.segmentIndex.yb(f)),
                                p = h[0],
                                n.yc = p.startTime,
                                g = h[h.length - 1],
                                n.Qb = g.endTime,
                                op(u.g, "EXT-X-ENDLIST") && (n.vd = !0),
                                Hp(t, u),
                                Ae(e)
                            })
                        }(u, a));
                    return Te(e, Promise.all(t), 2)
                }
                Op(u, n.map(function(e) {
                    return e.stream
                })),
                o = n.some(function(e) {
                    return 0 == e.vd
                }),
                n.length && !o && (eg(u, ug.Fh),
                s = n.map(function(e) {
                    return e.Qb
                }),
                u.l.gb(Math.min.apply(Math, le(s))),
                u.i.updateDuration()),
                o && Cp(u),
                Ae(e)
            })
        }
        ,
        e.onExpirationUpdated = function() {}
        ,
        e.onInitialVariantChosen = function() {}
        ,
        e.banLocation = function(e) {
            this.j && this.j.i.set(e, Date.now() + 6e4)
        }
        ,
        n("shaka.hls.HlsParser", Sp);
        var ng = {
            aac: "audio/aac",
            ac3: "audio/ac3",
            ec3: "audio/ec3",
            mp3: "audio/mpeg"
        }
          , ig = {
            audio: {
                mp4: "audio/mp4",
                mp4a: "audio/mp4",
                m4s: "audio/mp4",
                m4i: "audio/mp4",
                m4a: "audio/mp4",
                m4f: "audio/mp4",
                cmfa: "audio/mp4",
                ts: "video/mp2t",
                tsa: "video/mp2t"
            },
            video: {
                mp4: "video/mp4",
                mp4v: "video/mp4",
                m4s: "video/mp4",
                m4i: "video/mp4",
                m4v: "video/mp4",
                m4f: "video/mp4",
                cmfv: "video/mp4",
                ts: "video/mp2t",
                tsv: "video/mp2t"
            },
            text: {
                mp4: "application/mp4",
                m4s: "application/mp4",
                m4i: "application/mp4",
                m4f: "application/mp4",
                cmft: "application/mp4",
                vtt: "text/vtt",
                webvtt: "text/vtt",
                ttml: "application/ttml+xml"
            },
            image: {
                jpg: "image/jpeg",
                png: "image/png",
                svg: "image/svg+xml",
                webp: "image/webp",
                avif: "image/avif"
            }
        }
          , rg = {
            "com.apple.streamingkeydelivery": function(e, t) {
                if ("video/mp2t" == t)
                    throw new ke(2,4,4040);
                if (z.shakaMediaKeysPolyfill)
                    throw new ke(2,4,4041);
                return Ge("com.apple.fps", [{
                    initDataType: "sinf",
                    initData: new Uint8Array(0),
                    keyId: null
                }])
            },
            "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": function(e) {
                var t = tp(e, "METHOD");
                return ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(t) ? (t = Ge("com.widevine.alpha", [{
                    initDataType: "cenc",
                    initData: t = ne((t = Tp(t = tp(e, "URI"))).data)
                }]),
                (e = pe(e, "KEYID")) && (t.keyIds = new Set([e.toLowerCase().substr(2)])),
                t) : null
            },
            "com.microsoft.playready": function(e) {
                var t = tp(e, "METHOD");
                return ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(t) ? Ge("com.microsoft.playready", [{
                    initDataType: "cenc",
                    initData: e = _r(e = ne((e = Tp(e = tp(e, "URI"))).data), new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]), new Set, 0)
                }]) : null
            },
            identity: function(e, t) {
                if ("video/mp2t" == t)
                    throw new ke(2,4,4040);
                if (z.shakaMediaKeysPolyfill)
                    throw new ke(2,4,4041);
                return e = tp(e, "METHOD"),
                ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(e) ? Ge("org.w3.clearkey", null) : null
            }
        }
          , ag = "VOD"
          , og = "EVENT"
          , sg = "LIVE"
          , ug = {
            Fh: ag,
            Hj: og,
            Pj: sg
        };
        function lg(e) {
            if (e = cg(e))
                e: {
                    for (var t = (e = we(e.getElementsByTagName("DATA"))).next(); !t.done; t = e.next())
                        if (t = Ur(t.value, "LA_URL")) {
                            e = t.textContent;
                            break e
                        }
                    e = ""
                }
            else
                e = "";
            return e
        }
        function cg(e) {
            return (e = function(e) {
                var t, n = 0, i = yt(e);
                if (i.getUint32(0, !0) != e.byteLength)
                    return [];
                e: {
                    for (e = 6,
                    n = []; e < i.byteLength - 1; ) {
                        t = i.getUint16(e, !0),
                        e += 2;
                        var r = i.getUint16(e, !0);
                        if (e += 2,
                        0 != (1 & r) || r + e > i.byteLength) {
                            i = [];
                            break e
                        }
                        var a = ne(i, e, r);
                        n.push({
                            type: t,
                            value: a
                        }),
                        e += r
                    }
                    i = n
                }
                return i
            }(e = Lr(e.textContent)).filter(function(e) {
                return e.type === hg
            })[0]) && (e = Zr(e = cr(e.value, !0), "WRMHEADER")) ? e : null
        }
        Ca["application/x-mpegurl"] = function() {
            return new Sp
        }
        ,
        Ca["application/vnd.apple.mpegurl"] = function() {
            return new Sp
        }
        ;
        var hg = 1
          , dg = (new Map).set("com.microsoft.playready", lg).set("com.microsoft.playready.recommendation", lg).set("com.microsoft.playready.software", lg).set("com.microsoft.playready.hardware", lg);
        function fg(e) {
            var t, n, i;
            Ag || (Ag = !0,
            t = new Uint8Array([105, 115, 111, 109]),
            n = new Uint8Array([97, 118, 99, 49]),
            i = new Uint8Array([0, 0, 0, 1]),
            Dg = b("ftyp", t, i, t, n),
            t = b("dref", _g),
            Ug = b("dinf", t)),
            this.g = e
        }
        function pg(e) {
            for (var t = [], n = we(e.g), i = n.next(); !i.done; i = n.next()) {
                var r = t
                  , a = r.push
                  , o = i.value
                  , i = b
                  , s = o.id + 1
                  , u = o.stream.width || 0
                  , l = o.stream.height || 0
                  , c = ("audio" == o.type && (l = u = 0),
                o.duration * o.timescale)
                  , h = Math.floor(c / (Eg + 1))
                  , c = Math.floor(c % (Eg + 1));
                switch (s = b("tkhd", s = new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3].concat(le(wg(s, 4)), [0, 0, 0, 0], le(wg(h, 4)), le(wg(c, 4)), [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0], le(wg(u, 2)), [0, 0], le(wg(l, 2)), [0, 0]))),
                u = b,
                h = o.duration * o.timescale,
                l = Math.floor(h / (Eg + 1)),
                h = Math.floor(h % (Eg + 1)),
                c = (c = o.stream.language).charCodeAt(0) - 96 << 10 | c.charCodeAt(1) - 96 << 5 | c.charCodeAt(2) - 96,
                l = b("mdhd", l = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3].concat(le(wg(o.timescale, 4)), le(wg(l, 4)), le(wg(h, 4)), le(wg(c, 2)), [0, 0]))),
                h = o,
                c = new Uint8Array([]),
                h.type) {
                case "video":
                    c = xg;
                    break;
                case "audio":
                    c = Ig
                }
                h = b("hdlr", c);
                e: {
                    switch (o.type) {
                    case "video":
                        o = b("minf", b("vmhd", Rg), Ug, gg(o));
                        break e;
                    case "audio":
                        o = b("minf", b("smhd", Ng), Ug, gg(o));
                        break e
                    }
                    o = new Uint8Array([])
                }
                i = i("trak", s, o = u("mdia", l, h, o)),
                a.call(r, i)
            }
            for (t = Pr.apply(kr, le(t)),
            n = b,
            i = (a = e.g[0]).duration * a.timescale,
            r = Math.floor(i / (Eg + 1)),
            i = Math.floor(i % (Eg + 1)),
            r = b("mvhd", r = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3].concat(le(wg(a.timescale, 4)), le(wg(r, 4)), le(wg(i, 4)), [0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]))),
            i = [],
            u = (e = we(e.g)).next(); !u.done; u = e.next())
                s = (o = i).push,
                u = b("trex", u = new Uint8Array([0, 0, 0, 0].concat(le(wg(u.value.id + 1, 4)), [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]))),
                s.call(o, u);
            if (e = b("mvex", e = Pr.apply(kr, le(i))),
            i = [],
            a.encrypted) {
                for (o = (a = we(a.stream.drmInfos)).next(); !o.done; o = a.next())
                    if ((o = o.value).initData)
                        for (s = (o = we(o.initData)).next(); !s.done; s = o.next())
                            i.push(s.value.initData);
                a = Pr.apply(kr, le(i))
            } else
                a = new Uint8Array([]);
            return e = n("moov", r, t, e, a),
            (t = new Uint8Array(Dg.byteLength + e.byteLength)).set(Dg),
            t.set(e, Dg.byteLength),
            t
        }
        function gg(e) {
            var t = b
              , n = new Uint8Array([]);
            switch (e.type) {
            case "video":
                if (e.codecs.includes("avc1")) {
                    var n = e.stream.width || 0
                      , i = e.stream.height || 0;
                    if (0 < e.Ca.byteLength)
                        var r = b("avcC", e.Ca);
                    else {
                        for (var r = b, a = 7, o = [], s = [], u = 0, l = 0, c = 0, h = 0; h < e.ib.length; h++) {
                            var d = Tg(e.ib[h]);
                            switch (31 & d[0]) {
                            case 7:
                                o.push(d),
                                a += d.length + 2;
                                break;
                            case 8:
                                s.push(d),
                                a += d.length + 2
                            }
                        }
                        for (0 < o.length && (u = o[0][1],
                        c = o[0][2],
                        l = o[0][3]),
                        h = 0,
                        (a = new Uint8Array(a))[h++] = 1,
                        a[h++] = u,
                        a[h++] = c,
                        a[h++] = l,
                        a[h++] = 255,
                        a[h++] = 224 | o.length,
                        u = 0; u < o.length; u++)
                            a[h++] = (65280 & o[u].length) >> 8,
                            a[h++] = 255 & o[u].length,
                            a.set(o[u], h),
                            h += o[u].length;
                        for (a[h++] = s.length,
                        o = 0; o < s.length; o++)
                            a[h++] = (65280 & s[o].length) >> 8,
                            a[h++] = 255 & s[o].length,
                            a.set(s[o], h),
                            h += s[o].length;
                        r = r("avcC", a)
                    }
                    n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].concat(le(wg(n, 2)), le(wg(i, 2)), [0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17])),
                    i = "avc1",
                    s = mg(e),
                    o = new Uint8Array([]),
                    e.encrypted && (o = yg(e),
                    i = "encv"),
                    n = b(i, n, r, s, o)
                } else
                    e.codecs.includes("hvc1") && (i = e.stream.width || 0,
                    r = e.stream.height || 0,
                    n = new Uint8Array([]),
                    0 < e.Ca.byteLength && (n = b("hvcC", e.Ca)),
                    i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].concat(le(wg(i, 2)), le(wg(r, 2)), [0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17])),
                    r = "hvc1",
                    s = mg(e),
                    o = new Uint8Array([]),
                    e.encrypted && (o = yg(e),
                    r = "encv"),
                    n = b(r, i, n, s, o));
                break;
            case "audio":
                n = e = e.codecs.includes("mp3") ? b(".mp3", vg(e)) : (r = (i = e.codecs.includes("ac-3") ? (n = b("dac3", e.qa),
                "ac-3") : e.codecs.includes("ec-3") ? (n = b("dec3", e.qa),
                "ec-3") : (n = 0 < e.qa.byteLength ? b("esds", e.qa) : (n = b,
                i = e.id + 1,
                r = e.stream.channelsCount || 2,
                o = e.stream.audioSamplingRate || 44100,
                u = Ve("audio", e.codecs.split(",")),
                s = (l = {
                    96e3: 0,
                    88200: 1,
                    64e3: 2,
                    48e3: 3,
                    44100: 4,
                    32e3: 5,
                    24e3: 6,
                    22050: 7,
                    16e3: 8,
                    12e3: 9,
                    11025: 10,
                    8e3: 11,
                    7350: 12
                })[o],
                "mp4a.40.5" !== u && "mp4a.40.29" !== u || (s = l[2 * o]),
                o = parseInt(u.split(".").pop(), 10),
                n("esds", i = new Uint8Array([0, 0, 0, 0, 3, 25].concat(le(wg(i, 2)), [0, 4, 17, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 2, o << 3 | s >>> 1, s << 7 | r << 3, 6, 1, 2])))),
                "mp4a"),
                new Uint8Array([])),
                e.encrypted && (r = yg(e),
                i = "enca"),
                b(i, vg(e), n, r))
            }
            return t("stbl", e = b("stsd", Pg, n), b("stts", kg), b("stsc", Cg), b("stsz", Lg), b("stco", Mg))
        }
        function mg(e) {
            if (!e.Ja && !e.La)
                return new Uint8Array([]);
            var t = e.La;
            return b("pasp", e = new Uint8Array([].concat(le(wg(e.Ja, 4)), le(wg(t, 4)))))
        }
        function vg(e) {
            return new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, e.stream.channelsCount || 2, 0, 16, 0, 0, 0, 0].concat(le(wg(e.stream.audioSamplingRate || 44100, 2)), [0, 0]))
        }
        function yg(e) {
            for (var t = b, n = e.codecs.substring(0, e.codecs.indexOf(".")), i = 0, r = 0; r < n.length; r += 1)
                i |= n.charCodeAt(r) << 8 * (n.length - r - 1);
            for (var n = b("frma", n = new Uint8Array([].concat(le(wg(i, 4))))), i = b("schm", i = new Uint8Array([0, 0, 0, 0, 99, 101, 110, 99, 0, 1, 0, 0])), r = b, a = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), o = (e = we(e.stream.drmInfos)).next(); !o.done; o = e.next())
                if ((o = o.value) && o.keyIds && o.keyIds.size)
                    for (var s = (o = we(o.keyIds)).next(); !s.done; s = o.next())
                        a = Tg(s.value);
            return t("sinf", n, i, r("schi", a = b("tenc", e = new Uint8Array([0, 0, 0, 0, 0, 0, 1, 8]), a)))
        }
        function bg(e) {
            for (var t = [], n = (e = we(e.g)).next(); !n.done; n = e.next()) {
                for (var n = n.value, i = t.push, r = i.apply, a = b, o = b("mfhd", new Uint8Array([0, 0, 0, 0].concat(le(wg(n.data ? n.data.Cb : 0, 4))))), s = n.data ? n.data.fb : [], u = new Uint8Array(4 + s.length), l = 0; l < s.length; l++) {
                    var c = s[l].flags;
                    u[l + 4] = c.$a << 4 | c.bb << 2 | c.ab
                }
                var h = (s = b("sdtp", u)).length + 92
                  , u = b
                  , c = (l = b("tfhd", l = new Uint8Array([0, 0, 0, 58].concat(le(wg(n.id + 1, 4)), [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]))),
                n.data ? n.data.baseMediaDecodeTime : 0)
                  , d = Math.floor(c % (Eg + 1))
                  , f = (c = b("tfdt", c = new Uint8Array([1, 0, 0, 0].concat(le(wg(Math.floor(c / (Eg + 1)), 4)), le(wg(d, 4))))),
                h)
                  , p = 12 + 16 * (d = (h = n.data ? n.data.fb : []).length)
                  , g = new Uint8Array(p);
                for (f += 8 + p,
                g.set(["video" === n.type ? 1 : 0, 0, 15, 1].concat(le(wg(d, 4)), le(wg(f, 4))), 0),
                f = 0; f < d; f++) {
                    var p = wg((y = h[f]).duration, 4)
                      , m = wg(y.size, 4)
                      , v = y.flags
                      , y = wg(y.kb, 4);
                    g.set([].concat(le(p), le(m), [v.ob << 2 | v.$a, v.bb << 6 | v.ab << 4 | v.pb, 61440 & v.Za, 15 & v.Za], le(y)), 12 + 16 * f)
                }
                a = a("moof", o, s = u("traf", l, c, h = b("trun", g), s)),
                r.call(i, t, [a, (o = ((o = n).data ? o.data.fb : []).map(function(e) {
                    return e.data
                }),
                b("mdat", o = Pr.apply(kr, le(o))))])
            }
            return Pr.apply(kr, le(t))
        }
        function wg(e, t) {
            var n = [];
            for (--t; 0 <= t; t--)
                n.push(e >> 8 * t & 255);
            return n
        }
        function Tg(e) {
            for (var t = new Uint8Array(e.length / 2), n = 0; n < e.length / 2; n += 1)
                t[n] = parseInt(String(e[2 * n] + e[2 * n + 1]), 16);
            return t
        }
        function b(e) {
            var t = R.apply(1, arguments)
              , n = Sg[e];
            n || (n = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)],
            Sg[e] = n);
            for (var i = 8, r = t.length - 1; 0 <= r; r--)
                i += t[r].byteLength;
            for ((r = new Uint8Array(i))[0] = i >> 24 & 255,
            r[1] = i >> 16 & 255,
            r[2] = i >> 8 & 255,
            r[3] = 255 & i,
            r.set(n, 4),
            n = 0,
            i = 8; n < t.length; n++)
                r.set(t[n], i),
                i += t[n].byteLength;
            return r
        }
        var Ag = !1
          , Eg = Math.pow(2, 32) - 1
          , Sg = {}
          , xg = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0])
          , Ig = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0])
          , kg = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , Cg = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , Mg = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , Lg = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
          , Rg = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
          , Ng = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])
          , Pg = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1])
          , Dg = new Uint8Array([])
          , _g = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1])
          , Ug = new Uint8Array([]);
        function Og() {
            var e = this;
            this.h = this.g = null,
            this.l = [],
            this.j = null,
            this.u = 1,
            this.i = null,
            this.D = new at(5),
            this.s = new I(function() {
                var t, n;
                t = e,
                Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        return Ee(e, 2),
                        Te(e, jg(t), 4);
                    case 4:
                        Se(e, 3);
                        break;
                    case 2:
                        n = xe(e),
                        t.h && (n.severity = 1,
                        t.h.onError(n));
                    case 3:
                        if (!t.h)
                            return e.return();
                        Ae(e)
                    }
                })
            }
            ),
            this.C = new Hi,
            this.m = new Map
        }
        function jg(b) {
            var w, T, A, E;
            return Ie(function(e) {
                if (1 == e.g)
                    return T = qi(b.l, b.g.retryParameters),
                    A = b.h.networkingEngine,
                    w = Date.now(),
                    A = A.request(0, T, {
                        type: 5
                    }),
                    zi(b.C, A),
                    Te(e, A.promise, 2);
                if (T = e.h,
                !b.h)
                    return e.return();
                T.uri && !b.l.includes(T.uri) && b.l.unshift(T.uri);
                var t = T.uri
                  , n = ea(T.data, "SmoothStreamingMedia");
                if (!n)
                    throw new ke(2,4,4046,t);
                if ((t = b.g.mss.manifestPreprocessor) && t(n),
                b.i || (b.i = new fe(null,0)),
                t = W(n, "IsLive", Qr, !1))
                    throw new ke(2,4,4047);
                b.i.Vc(!t);
                var i, r = W(n, "TimeScale", Yr, 1e7), a = W(n, "DVRWindowLength", Yr), o = (t && (0 === a || isNaN(a)) && (a = 1 / 0),
                W(n, "CanSeek", Qr, !1));
                for (0 === a && o && (a = 1 / 0),
                o = null,
                a && 0 < a && (o = a / r),
                t && !isNaN(b.g.availabilityWindowOverride) && (o = b.g.availabilityWindowOverride),
                b.i.Ne(o = null == o ? 1 / 0 : o),
                a = W(n, "Duration", Yr, 1 / 0),
                t || b.i.gb(a / r),
                t = {
                    variants: [],
                    textStreams: [],
                    timescale: r,
                    duration: a / r
                },
                o = jr(n, "Protection"),
                r = b.g.mss.keySystemsBySystemId,
                a = [],
                i = (o = we(o)).next(); !i.done; i = o.next())
                    a = a.concat(jr(i.value, "ProtectionHeader"));
                if (a.length) {
                    for (o = [],
                    i = 0; i < a.length; i++) {
                        var s = a[i]
                          , u = s.getAttribute("SystemID").toLowerCase()
                          , l = r[u];
                        if (l) {
                            if (c = cg(s))
                                e: {
                                    for (var c, h = (c = we(c.getElementsByTagName("DATA"))).next(); !h.done; h = c.next())
                                        if (h = Ur(h.value, "KID")) {
                                            c = Lr(h.textContent),
                                            c = Nr(c = new Uint8Array([c[3], c[2], c[1], c[0], c[5], c[4], c[7], c[6]].concat(le(c.slice(8)))));
                                            break e
                                        }
                                    c = null
                                }
                            else
                                c = null;
                            u = Ge(l, u = [{
                                initData: _r(h = Lr(s.textContent), u = Rr(u.replace(/-/g, "")), new Set, 0),
                                initDataType: "cenc",
                                keyId: c
                            }]),
                            c && u.keyIds.add(c),
                            (l = dg.get(l)) && (u.licenseServerUri = l(s)),
                            o.push(u)
                        }
                    }
                    r = o
                } else
                    r = [];
                for (i = r,
                o = [],
                r = [],
                a = [],
                s = (n = we(n = jr(n, "StreamIndex"))).next(); !s.done; s = n.next()) {
                    l = jr(s = s.value, "QualityLevel"),
                    u = t.timescale,
                    c = t.duration;
                    for (var h = jr(s, "c"), d = [], f = 0, p = 0; p < h.length; ++p) {
                        var g = h[p]
                          , m = h[p + 1]
                          , v = W(g, "t", Yr)
                          , y = W(g, "d", Yr)
                          , g = W(g, "r", Wr);
                        if (!y)
                            break;
                        if (v = null != v ? v : f,
                        (g = g || 0) < 0)
                            if (m) {
                                if (null == (m = W(m, "t", Yr)))
                                    break;
                                if (m <= v)
                                    break;
                                g = Math.ceil((m - v) / y) - 1
                            } else {
                                if (1 / 0 == c)
                                    break;
                                if (c <= v / u)
                                    break;
                                g = Math.ceil((c * u - v) / y) - 1
                            }
                        for (m = 0; m <= g; ++m)
                            d.push({
                                start: v / u,
                                end: (f = v + y) / u,
                                zg: v
                            }),
                            v = f
                    }
                    for (u = d,
                    c = (l = we(l)).next(); !c.done; c = l.next())
                        (c = function(t, n, e, i, r, a) {
                            var o = n.getAttribute("Type");
                            if ("audio" !== o && "video" !== o && "text" !== o)
                                return X("Ignoring unrecognized type:", o),
                                null;
                            var s = n.getAttribute("Language")
                              , u = t.u++
                              , l = W(e, "Bitrate", qr)
                              , c = W(e, "MaxWidth", qr)
                              , h = W(e, "MaxHeight", qr)
                              , d = W(e, "Channels", qr)
                              , f = W(e, "SamplingRate", qr)
                              , p = a.duration
                              , g = (i.length && (p = i[i.length - 1].end - i[0].start),
                            t.i.getDuration())
                              , m = (t.i.gb(Math.min(p, g)),
                            {
                                id: u,
                                originalId: n.getAttribute("Name") || String(u),
                                groupId: null,
                                createSegmentIndex: function() {
                                    return Promise.resolve()
                                },
                                closeSegmentIndex: function() {
                                    return Promise.resolve()
                                },
                                segmentIndex: null,
                                mimeType: "",
                                codecs: "",
                                frameRate: void 0,
                                pixelAspectRatio: void 0,
                                bandwidth: l || 0,
                                width: c || void 0,
                                height: h || void 0,
                                kind: "",
                                encrypted: 0 < r.length,
                                drmInfos: r,
                                keyIds: new Set,
                                language: de(s || "und"),
                                originalLanguage: s,
                                label: "",
                                type: "",
                                primary: !1,
                                trickModeVideo: null,
                                emsgSchemeIdUris: [],
                                roles: [],
                                forced: !1,
                                channelsCount: d,
                                audioSamplingRate: f,
                                spatialAudio: !1,
                                closedCaptions: null,
                                hdr: void 0,
                                videoLayout: void 0,
                                tilesLayout: void 0,
                                matchedStreams: [],
                                mssPrivateData: {
                                    duration: p,
                                    timescale: a.timescale,
                                    codecPrivateData: null
                                },
                                accessibilityPurpose: null,
                                external: !1,
                                fastSwitching: !1
                            });
                            (r = n.getAttribute("Subtype")) && ((r = Fg[r]) && m.roles.push(r),
                            "main" === r && (m.primary = !0));
                            null !== (r = e.getAttribute("FourCC")) && "" !== r || (r = n.getAttribute("FourCC"));
                            if (!r)
                                if ("audio" === o)
                                    r = "AAC";
                                else if ("video" === o)
                                    return X('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),
                                    null;
                            if (!Bg.includes(r.toUpperCase()))
                                return X("Codec not supported:", r),
                                null;
                            switch (e = function(e, t, n, i) {
                                if (e = e.getAttribute("CodecPrivateData"))
                                    return e;
                                if ("audio" !== t)
                                    return null;
                                t = i.channelsCount || 2,
                                e = i.audioSamplingRate || 44100;
                                var r = {
                                    96e3: 0,
                                    88200: 1,
                                    64e3: 2,
                                    48e3: 3,
                                    44100: 4,
                                    32e3: 5,
                                    24e3: 6,
                                    22050: 7,
                                    16e3: 8,
                                    12e3: 9,
                                    11025: 10,
                                    8e3: 11,
                                    7350: 12
                                };
                                return i = r[e],
                                "AACH" === n ? (n = new Uint8Array(4),
                                e = r[2 * e],
                                n[0] = 40 | i >> 1,
                                n[1] = i << 7 | t << 3 | e >> 1,
                                n[2] = e << 7 | 8,
                                n[3] = 0,
                                (t = new Uint16Array(2))[0] = (n[0] << 8) + n[1],
                                t[1] = (n[2] << 8) + n[3],
                                t[0].toString(16) + t[1].toString(16)) : ((n = new Uint8Array(2))[0] = 16 | i >> 1,
                                n[1] = i << 7 | t << 3,
                                (t = new Uint16Array(1))[0] = (n[0] << 8) + n[1],
                                t[0].toString(16))
                            }(e, o, r, m),
                            m.mssPrivateData.codecPrivateData = e,
                            o) {
                            case "audio":
                                if (!e)
                                    return X("Quality unsupported without CodecPrivateData", o),
                                    null;
                                m.type = "audio",
                                m.mimeType = "mss/audio/mp4",
                                m.codecs = function(e, t) {
                                    var n = "AACH" === e ? 5 : 0;
                                    return t ? 0 === n && (n = (248 & parseInt(t.substr(0, 2), 16)) >> 3) : n = "AACH" === e ? 5 : 2,
                                    "mp4a.40." + n
                                }(r, e);
                                break;
                            case "video":
                                if (!e)
                                    return X("Quality unsupported without CodecPrivateData", o),
                                    null;
                                m.type = "video",
                                m.mimeType = "mss/video/mp4",
                                m.codecs = function(e) {
                                    var t = /00000001[0-9]7/.exec(e);
                                    return t.length && e ? "avc1." + e.substr(e.indexOf(t[0]) + 10, 6) : ""
                                }(e);
                                break;
                            case "text":
                                m.type = he,
                                m.mimeType = "application/mp4",
                                "TTML" !== r && "DFXP" !== r || (m.codecs = "stpp")
                            }
                            return m.createSegmentIndex = function() {
                                return m.segmentIndex || (t.m.has(m.id) ? e = t.m.get(m.id) : (e = [],
                                "video" == m.type && (e = m.mssPrivateData.codecPrivateData.split("00000001").slice(1)),
                                e = pg(new fg([e = {
                                    id: m.id,
                                    type: m.type,
                                    codecs: m.codecs,
                                    encrypted: m.encrypted,
                                    timescale: m.mssPrivateData.timescale,
                                    duration: m.mssPrivateData.duration,
                                    ib: e,
                                    qa: new Uint8Array([]),
                                    Ca: new Uint8Array([]),
                                    Ja: 0,
                                    La: 0,
                                    data: null,
                                    stream: m
                                }])),
                                t.m.set(m.id, e)),
                                e = function(t, e, n, i, r) {
                                    for (var a = i.getAttribute("Url").replace("{bitrate}", String(n.bandwidth)), o = (i = [],
                                    {}), s = (r = we(r)).next(); !s.done; o = {
                                        gd: o.gd
                                    },
                                    s = r.next())
                                        o.gd = s.value,
                                        i.push(new P(o.gd.start,o.gd.end,function(e) {
                                            return function() {
                                                return Fe(t.l, [a.replace("{start time}", String(e.gd.zg))])
                                            }
                                        }(o),0,null,e,0,0,n.mssPrivateData.duration));
                                    return i
                                }(t, new Na(function() {
                                    return []
                                }
                                ,0,null,null,void 0,e), m, n, i),
                                m.segmentIndex = new us(e)),
                                Promise.resolve();
                                var e
                            }
                            ,
                            m.closeSegmentIndex = function() {
                                m.segmentIndex && (m.segmentIndex.release(),
                                m.segmentIndex = null)
                            }
                            ,
                            m
                        }(b, s, c.value, u, i, t)) && ("audio" != c.type || b.g.disableAudio ? "video" != c.type || b.g.disableVideo ? c.type != he || b.g.disableText || a.push(c) : r.push(c) : o.push(c))
                }
                for (n = [],
                i = (o = we(0 < o.length ? o : [null])).next(); !i.done; i = o.next())
                    for (i = i.value,
                    c = (s = we(0 < r.length ? r : [null])).next(); !c.done; c = s.next())
                        u = (l = n).push,
                        c = c.value,
                        h = 0,
                        i && i.bandwidth && 0 < i.bandwidth && (h += i.bandwidth),
                        c && c.bandwidth && 0 < c.bandwidth && (h += c.bandwidth),
                        c = {
                            id: b.u++,
                            language: i ? i.language : "und",
                            disabledUntilTime: 0,
                            primary: !!i && i.primary || !!c && c.primary,
                            audio: i,
                            video: c,
                            bandwidth: h,
                            allowedByApplication: !0,
                            allowedByKeySystem: !0,
                            decodingInfos: []
                        },
                        u.call(l, c);
                t.variants = n,
                t.textStreams = a,
                b.j ? (b.j.variants = t.variants,
                b.j.textStreams = t.textStreams,
                b.h.filter(b.j)) : (b.j = {
                    presentationTimeline: b.i,
                    variants: t.variants,
                    textStreams: t.textStreams,
                    imageStreams: [],
                    offlineSessionIds: [],
                    minBufferTime: 0,
                    sequenceMode: b.g.mss.sequenceMode,
                    ignoreManifestTimestampsInSegmentsMode: !1,
                    type: "MSS",
                    serviceDescription: null
                },
                b.i.ve()),
                Promise.resolve(),
                A = Date.now(),
                E = (A - w) / 1e3,
                b.D.sample(1, E),
                Ae(e)
            })
        }
        (e = Og.prototype).configure = function(e) {
            this.g = e
        }
        ,
        e.start = function(t, n) {
            var i = this;
            return Ie(function(e) {
                if (1 == e.g)
                    return i.l = [t],
                    i.h = n,
                    Te(e, jg(i), 2);
                if (i.h)
                    return e.return(i.j);
                throw new ke(2,7,7001)
            })
        }
        ,
        e.stop = function() {
            return this.g = this.h = null,
            this.l = [],
            (this.j = null) != this.s && (this.s.stop(),
            this.s = null),
            this.m.clear(),
            this.C.destroy()
        }
        ,
        e.update = function() {
            var t, n = this;
            return Ie(function(e) {
                return 1 == e.g ? (Ee(e, 2),
                Te(e, jg(n), 4)) : 2 != e.g ? Se(e, 0) : (t = xe(e),
                n.h && t ? (n.h.onError(t),
                void Ae(e)) : e.return())
            })
        }
        ,
        e.onExpirationUpdated = function() {}
        ,
        e.onInitialVariantChosen = function() {}
        ,
        e.banLocation = function() {}
        ,
        n("shaka.mss.MssParser", Og);
        var Bg = "AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" ")
          , Fg = {
            CAPT: "main",
            SUBT: "alternate",
            DESC: "main"
        };
        function Gg(e, t, n, i, r, a) {
            if (200 <= n && n <= 299 && 202 != n)
                return {
                    uri: r || i,
                    originalUri: i,
                    data: t,
                    status: n,
                    headers: e,
                    fromCache: !!e["x-shaka-from-cache"]
                };
            r = null;
            try {
                r = hr(t)
            } catch (e) {}
            throw new ke(401 == n || 403 == n ? 2 : 1,1,1001,i,n,r,e,a)
        }
        function Vg() {}
        function Kg(e, t, n, i, r) {
            var a, o, s, u, l, c, h, d, f, p, g, m, v, y, b, w, T, A, E = new Yg, S = (or(t.headers).forEach(function(e, t) {
                E.append(t, e)
            }),
            new Wg), x = {
                Hg: !1,
                xh: !1
            };
            return a = e,
            o = n,
            s = {
                body: t.body || void 0,
                headers: E,
                method: t.method,
                signal: S.signal,
                credentials: t.allowCrossSiteCredentials ? "include" : void 0
            },
            u = x,
            l = i,
            c = r,
            h = t.streamDataCallback,
            e = new ji(e = Ie(function(e) {
                switch (e.g) {
                case 1:
                    return b = Xg,
                    d = qg,
                    m = g = 0,
                    v = Date.now(),
                    Ee(e, 2),
                    Te(e, b(a, s), 4);
                case 4:
                    if (f = e.h,
                    c(Hg(f.headers)),
                    "HEAD" != s.method)
                        return y = f.clone().body.getReader(),
                        w = (b = f.headers.get("Content-Length")) ? parseInt(b, 10) : 0,
                        new d({
                            start: function(r) {
                                !function t() {
                                    var n, i;
                                    Ie(function(e) {
                                        switch (e.g) {
                                        case 1:
                                            return Ee(e, 2),
                                            Te(e, y.read(), 4);
                                        case 4:
                                            n = e.h,
                                            Se(e, 3);
                                            break;
                                        case 2:
                                            return xe(e),
                                            e.return();
                                        case 3:
                                            if (n.done) {
                                                e.F(5);
                                                break
                                            }
                                            if (g += n.value.byteLength,
                                            h)
                                                return Te(e, h(n.value), 5);
                                            e.F(5);
                                            break;
                                        case 5:
                                            (100 < (i = Date.now()) - v || n.done) && (l(i - v, g - m, w - g),
                                            m = g,
                                            v = i),
                                            n.done ? r.close() : (r.enqueue(n.value),
                                            t()),
                                            Ae(e)
                                        }
                                    })
                                }()
                            }
                        }),
                        Te(e, f.arrayBuffer(), 6);
                    e.F(5);
                    break;
                case 6:
                    p = e.h;
                case 5:
                    Se(e, 3);
                    break;
                case 2:
                    if (T = xe(e),
                    u.Hg)
                        throw new ke(1,1,7001,a,o);
                    if (u.xh)
                        throw new ke(1,1,1003,a,o);
                    throw new ke(1,1,1002,a,T,o);
                case 3:
                    return T = Hg(f.headers),
                    e.return(Gg(T, p, f.status, a, f.url, o))
                }
            }),function() {
                return x.Hg = !0,
                S.abort(),
                Promise.resolve()
            }
            ),
            (t = t.retryParameters.timeout) && ((A = new I(function() {
                x.xh = !0,
                S.abort()
            }
            )).S(t / 1e3),
            e.finally(function() {
                A.stop()
            })),
            e
        }
        function Hg(e) {
            var n = {};
            return e.forEach(function(e, t) {
                n[t.trim()] = e
            }),
            n
        }
        function zg() {
            if (!z.ReadableStream)
                return !1;
            try {
                new ReadableStream({})
            } catch (e) {
                return !1
            }
            return !!z.Response && (!!new Response("").body && !(!z.fetch || !z.AbortController))
        }
        Ca["application/vnd.ms-sstr+xml"] = function() {
            return new Og
        }
        ,
        n("shaka.net.HttpFetchPlugin", Vg),
        Vg.isSupported = zg,
        Vg.parse = Kg;
        var Xg = z.fetch
          , Wg = z.AbortController
          , qg = z.ReadableStream
          , Yg = z.Headers;
        function Jg() {}
        function Qg(a, n, o, s, u) {
            var l = new Zg
              , c = Date.now()
              , h = 0;
            return new ji(new Promise(function(i, r) {
                l.open(n.method, a, !0),
                l.responseType = "arraybuffer",
                l.timeout = n.retryParameters.timeout,
                l.withCredentials = n.allowCrossSiteCredentials;
                var e, t = !(l.onabort = function() {
                    r(new ke(1,1,7001,a,o))
                }
                );
                for (e in l.onreadystatechange = function() {
                    var e;
                    2 != l.readyState || t || (e = $g(l),
                    u(e),
                    t = !0)
                }
                ,
                l.onload = function() {
                    var e = $g(l)
                      , t = l.response;
                    try {
                        var n = Gg(e, t, l.status, a, l.responseURL, o);
                        i(n)
                    } catch (e) {
                        r(e)
                    }
                }
                ,
                l.onerror = function(e) {
                    r(new ke(1,1,1002,a,e,o))
                }
                ,
                l.ontimeout = function() {
                    r(new ke(1,1,1003,a,o))
                }
                ,
                l.onprogress = function(e) {
                    var t = Date.now();
                    (100 < t - c || e.lengthComputable && e.loaded == e.total) && (s(t - c, e.loaded - h, e.total - e.loaded),
                    h = e.loaded,
                    c = t)
                }
                ,
                n.headers)
                    l.setRequestHeader(e.toLowerCase(), n.headers[e]);
                l.send(n.body)
            }
            ),function() {
                return l.abort(),
                Promise.resolve()
            }
            )
        }
        function $g(e) {
            var t = e.getAllResponseHeaders().trim().split("\r\n");
            e = {};
            for (var n = (t = we(t)).next(); !n.done; n = t.next())
                e[(n = n.value.split(": "))[0].toLowerCase()] = n.slice(1).join(": ");
            return e
        }
        zg() && (Wi("http", Kg, 2, !0),
        Wi("https", Kg, 2, !0),
        Wi("blob", Kg, 2, !0)),
        n("shaka.net.HttpXHRPlugin", Jg);
        var Zg = z.XMLHttpRequest;
        function em(e, t, n, i) {
            this.g = e,
            this.i = t,
            this.groupId = n,
            this.h = i
        }
        function tm(e) {
            return e.ba().map(function(e) {
                return "{" + encodeURI(e) + "}"
            }).join("") + ":" + e.hb + ":" + e.Na
        }
        function nm() {
            this.h = this.j = this.i = 0,
            this.g = new Map,
            this.l = 0
        }
        function im(e, t) {
            e.i += t;
            var n = e.l;
            return e.l++,
            e.g.set(n, t),
            n
        }
        function rm(e) {
            var t = this;
            this.s = e,
            this.j = new Map,
            this.i = new tr(function() {
                return am(t).catch(function() {})
            }
            ),
            this.h = [],
            this.m = function() {}
            ,
            this.l = function() {}
            ,
            this.g = new nm
        }
        function am(e) {
            var t = e.h.map(function(e) {
                return e()
            });
            return e.h = [],
            Promise.all(t)
        }
        function om(f, e, p, g, m, v) {
            j(f.i);
            var t = (f.j.get(e) || Promise.resolve()).then(function() {
                var s, u, l, c, h, d;
                return Ie(function(e) {
                    if (1 == e.g)
                        return Te(e, (t = f,
                        n = p,
                        Ie(function(e) {
                            return 1 == e.g ? (i = t.s.request($i, n),
                            r = function() {
                                return i.abort()
                            }
                            ,
                            t.h.push(r),
                            Te(e, i.promise, 2)) : (a = e.h,
                            xt(t.h, r),
                            e.return(a.data))
                        })), 2);
                    var t, n, i, r, a;
                    if (s = e.h,
                    f.i.g)
                        throw new ke(2,9,7001);
                    if (m)
                        for (c in u = ne(s),
                        (l = new Dr(u)).data)
                            d = Number(c),
                            h = l.data[d],
                            d = l.g[d],
                            f.l(h, d);
                    f.g.close(g, s.byteLength);
                    var o = f.g;
                    return f.m(0 == o.i ? 0 : o.j / o.i, f.g.h),
                    e.return(v(s))
                })
            });
            f.j.set(e, t)
        }
        function sm(e, t) {
            var n = this;
            this.i = e,
            this.h = e.objectStore(t),
            this.g = new Oi,
            e.onabort = function(e) {
                e.preventDefault(),
                n.g.reject()
            }
            ,
            e.onerror = function(e) {
                e.preventDefault(),
                n.g.reject()
            }
            ,
            e.oncomplete = function() {
                n.g.resolve()
            }
        }
        function um(t, r) {
            return new Promise(function(n, e) {
                var i = t.h.openCursor();
                i.onerror = e,
                i.onsuccess = function() {
                    var t;
                    return Ie(function(e) {
                        if (1 == e.g)
                            return null == i.result ? (n(),
                            e.return()) : (t = i.result,
                            Te(e, r(t.key, t.value, t), 2));
                        t.continue(),
                        Ae(e)
                    })
                }
            }
            )
        }
        function lm(e) {
            this.h = e,
            this.g = []
        }
        function cm(e, t) {
            return hm(e, t, "readwrite")
        }
        function hm(e, t, n) {
            var i = new sm(n = e.h.transaction([t], n),t);
            return e.g.push(i),
            i.promise().then(function() {
                xt(e.g, i)
            }, function() {
                xt(e.g, i)
            }),
            i
        }
        function dm(e, t, n) {
            this.h = new lm(e),
            this.i = t,
            this.g = n
        }
        function fm(e) {
            return Promise.reject(new ke(2,9,9011,"Cannot add new value to " + e))
        }
        function pm(e, t, n, i) {
            t = (e = cm(e.h, t)).store();
            for (var r = {}, a = (n = we(n)).next(); !a.done; r = {
                Td: r.Td
            },
            a = n.next())
                r.Td = a.value,
                t.delete(r.Td).onsuccess = function(e) {
                    return function() {
                        return i(e.Td)
                    }
                }(r);
            return e.promise()
        }
        function gm(t, n, i) {
            var r, a, o, s, u, l, c;
            return Ie(function(e) {
                if (1 == e.g) {
                    for (r = hm(t.h, n, "readonly"),
                    a = r.store(),
                    o = {},
                    s = [],
                    u = {},
                    l = we(i),
                    c = l.next(); !c.done; u = {
                        ed: u.ed,
                        bd: u.bd
                    },
                    c = l.next())
                        u.bd = c.value,
                        u.ed = a.get(u.bd),
                        u.ed.onsuccess = function(e) {
                            return function() {
                                null == e.ed.result && s.push(e.bd),
                                o[e.bd] = e.ed.result
                            }
                        }(u);
                    return Te(e, r.promise(), 2)
                }
                if (s.length)
                    throw new ke(2,9,9012,"Could not find values for " + s);
                return e.return(i.map(function(e) {
                    return o[e]
                }))
            })
        }
        function mm(e) {
            this.g = new lm(e)
        }
        function vm() {
            this.g = new Map
        }
        function ym(e) {
            var i = null;
            if (e.g.forEach(function(e, n) {
                e.getCells().forEach(function(e, t) {
                    e.hasFixedKeySpace() || i || (i = {
                        path: {
                            qb: n,
                            Ma: t
                        },
                        Ma: e
                    })
                })
            }),
            i)
                return i;
            throw new ke(2,9,9013,"Could not find a cell that supports add-operations")
        }
        function bm(e, t, n) {
            if (!(e = e.g.get(t)))
                throw new ke(2,9,9013,"Could not find mechanism with name " + t);
            if (t = e.getCells().get(n))
                return t;
            throw new ke(2,9,9013,"Could not find cell with name " + n)
        }
        function wm(e, t) {
            Tm.set(e, t)
        }
        Wi("http", Jg.parse = Qg, 1, !0),
        Wi("https", Qg, 1, !0),
        Wi("blob", Qg, 1, !0),
        nm.prototype.close = function(e, t) {
            var n;
            this.g.has(e) && (n = this.g.get(e),
            this.g.delete(e),
            this.j += n,
            this.h += t)
        }
        ,
        rm.prototype.destroy = function() {
            return this.i.destroy()
        }
        ,
        sm.prototype.abort = function() {
            var t = this;
            return Ie(function(e) {
                if (1 == e.g) {
                    try {
                        t.i.abort()
                    } catch (e) {}
                    return Ee(e, 2),
                    Te(e, t.g, 4)
                }
                if (2 != e.g)
                    return Se(e, 0);
                xe(e),
                Ae(e)
            })
        }
        ,
        sm.prototype.store = function() {
            return this.h
        }
        ,
        sm.prototype.promise = function() {
            return this.g
        }
        ,
        lm.prototype.destroy = function() {
            return Promise.all(this.g.map(function(e) {
                return e.abort()
            }))
        }
        ,
        (e = dm.prototype).destroy = function() {
            return this.h.destroy()
        }
        ,
        e.hasFixedKeySpace = function() {
            return !0
        }
        ,
        e.addSegments = function() {
            return fm(this.i)
        }
        ,
        e.removeSegments = function(e, t) {
            return pm(this, this.i, e, t)
        }
        ,
        e.getSegments = function(t) {
            var n, i = this;
            return Ie(function(e) {
                return 1 == e.g ? Te(e, gm(i, i.i, t), 2) : (n = e.h,
                e.return(n.map(function(e) {
                    return i.Lg(e)
                })))
            })
        }
        ,
        e.addManifests = function() {
            return fm(this.g)
        }
        ,
        e.updateManifest = function() {
            return Promise.reject(new ke(2,9,9016,"Cannot modify values in " + this.g))
        }
        ,
        e.updateManifestExpiration = function(t, n) {
            var e = cm(this.h, this.g)
              , i = e.store();
            return i.get(t).onsuccess = function(e) {
                (e = e.target.result) && (e.expiration = n,
                i.put(e, t))
            }
            ,
            e.promise()
        }
        ,
        e.removeManifests = function(e, t) {
            return pm(this, this.g, e, t)
        }
        ,
        e.getManifests = function(t) {
            var n, i = this;
            return Ie(function(e) {
                return 1 == e.g ? Te(e, gm(i, i.g, t), 2) : (n = e.h,
                e.return(Promise.all(n.map(function(e) {
                    return i.qd(e)
                }))))
            })
        }
        ,
        e.getAllManifests = function() {
            var t, r, a = this;
            return Ie(function(e) {
                return 1 == e.g ? (t = hm(a.h, a.g, "readonly"),
                r = new Map,
                Te(e, um(t, function(t, n) {
                    var i;
                    return Ie(function(e) {
                        if (1 == e.g)
                            return Te(e, a.qd(n), 2);
                        i = e.h,
                        r.set(t, i),
                        Ae(e)
                    })
                }), 2)) : 3 != e.g ? Te(e, t.promise(), 3) : e.return(r)
            })
        }
        ,
        e.Lg = function(e) {
            return e
        }
        ,
        e.qd = function(e) {
            return Promise.resolve(e)
        }
        ,
        e.add = function(t, n) {
            var i, r, a, o, s, u, l, c = this;
            return Ie(function(e) {
                if (1 != e.g)
                    return e.return(a);
                for (i = cm(c.h, t),
                r = i.store(),
                a = [],
                o = {},
                s = we(n),
                u = s.next(); !u.done; o = {
                    Vd: o.Vd
                },
                u = s.next())
                    l = u.value,
                    o.Vd = r.add(l),
                    o.Vd.onsuccess = function(e) {
                        return function() {
                            a.push(e.Vd.result)
                        }
                    }(o);
                return Te(e, i.promise(), 2)
            })
        }
        ,
        mm.prototype.destroy = function() {
            return this.g.destroy()
        }
        ,
        mm.prototype.getAll = function() {
            var t, n, i = this;
            return Ie(function(e) {
                return 1 == e.g ? (t = hm(i.g, "session-ids", "readonly"),
                n = [],
                Te(e, um(t, function(e, t) {
                    n.push(t)
                }), 2)) : 3 != e.g ? Te(e, t.promise(), 3) : e.return(n)
            })
        }
        ,
        mm.prototype.add = function(e) {
            for (var t = cm(this.g, "session-ids"), n = t.store(), i = (e = we(e)).next(); !i.done; i = e.next())
                n.add(i.value);
            return t.promise()
        }
        ,
        mm.prototype.remove = function(i) {
            var t, n = this;
            return Ie(function(e) {
                return 1 == e.g ? Te(e, um(t = cm(n.g, "session-ids"), function(e, t, n) {
                    i.includes(t.sessionId) && n.delete()
                }), 2) : Te(e, t.promise(), 0)
            })
        }
        ,
        vm.prototype.destroy = function() {
            for (var e = [], t = we(this.g.values()), n = t.next(); !n.done; n = t.next())
                e.push(n.value.destroy());
            return this.g.clear(),
            Promise.all(e)
        }
        ,
        vm.prototype.init = function() {
            var n = this;
            Tm.forEach(function(e, t) {
                (e = e()) && n.g.set(t, e)
            });
            for (var e = [], t = we(this.g.values()), i = t.next(); !i.done; i = t.next())
                e.push(i.value.init());
            return Promise.all(e)
        }
        ,
        n("shaka.offline.StorageMuxer", vm),
        vm.unregister = function(e) {
            Tm.delete(e)
        }
        ,
        vm.register = wm;
        var Tm = new Map;
        function Am() {
            dm.apply(this, arguments)
        }
        function Em(e) {
            var t;
            if ((t = /^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e)) || (t = /^offline:segment\/([0-9]+)$/.exec(e)))
                return Number(t[1]);
            throw new ke(2,9,9004,"Could not parse uri " + e)
        }
        function Sm() {
            dm.apply(this, arguments)
        }
        function xm() {
            dm.apply(this, arguments)
        }
        function Im() {
            this.m = this.j = this.i = this.h = this.g = this.l = null
        }
        function km(e, t, n, i) {
            this.g = e,
            this.i = t,
            this.h = n,
            this.l = i,
            this.j = ["offline:", e, "/", t, "/", n, "/", i].join("")
        }
        function Cm(e) {
            if (null == (e = /^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))
                return null;
            var t = e[1];
            if ("manifest" != t && "segment" != t)
                return null;
            var n = e[2];
            if (!n)
                return null;
            var i = e[3];
            return i && null != t ? new km(t,n,i,Number(e[4])) : null
        }
        function Mm(e, t) {
            this.h = e,
            this.g = t
        }
        function Lm(t, e) {
            var n = new fe(null,0)
              , i = (n.gb(e.duration),
            e.streams.filter(function(e) {
                return "audio" == e.type
            }))
              , r = e.streams.filter(function(e) {
                return "video" == e.type
            })
              , i = function(e, t, n, i) {
                for (var r = new Set, a = we(t), o = a.next(); !o.done; o = a.next()) {
                    var s = we(o.value.variantIds);
                    for (o = s.next(); !o.done; o = s.next())
                        r.add(o.value)
                }
                for (a = we(n),
                o = a.next(); !o.done; o = a.next())
                    for (s = we(o.value.variantIds),
                    o = s.next(); !o.done; o = s.next())
                        r.add(o.value);
                for (a = new Map,
                r = we(r),
                o = r.next(); !o.done; o = r.next())
                    o = o.value,
                    a.set(o, {
                        id: o,
                        language: "",
                        disabledUntilTime: 0,
                        primary: !1,
                        audio: null,
                        video: null,
                        bandwidth: 0,
                        allowedByApplication: !0,
                        allowedByKeySystem: !0,
                        decodingInfos: []
                    });
                for (t = we(t),
                r = t.next(); !r.done; r = t.next())
                    for (r = r.value,
                    o = Rm(e, r, i),
                    s = we(r.variantIds),
                    r = s.next(); !r.done; r = s.next())
                        (r = a.get(r.value)).language = o.language,
                        r.primary = r.primary || o.primary,
                        r.audio = o;
                for (n = we(n),
                t = n.next(); !t.done; t = n.next())
                    for (r = t.value,
                    t = Rm(e, r, i),
                    o = we(r.variantIds),
                    r = o.next(); !r.done; r = o.next())
                        (r = a.get(r.value)).primary = r.primary || t.primary,
                        r.video = t;
                return a
            }(t, i, r, n)
              , r = e.streams.filter(function(e) {
                return e.type == he
            }).map(function(e) {
                return Rm(t, e, n)
            })
              , a = e.streams.filter(function(e) {
                return "image" == e.type
            }).map(function(e) {
                return Rm(t, e, n)
            })
              , o = e.drmInfo ? [e.drmInfo] : [];
            if (e.drmInfo)
                for (var s = we(i.values()), u = s.next(); !u.done; u = s.next())
                    (u = u.value).audio && u.audio.encrypted && (u.audio.drmInfos = o),
                    u.video && u.video.encrypted && (u.video.drmInfos = o);
            return {
                presentationTimeline: n,
                minBufferTime: 2,
                offlineSessionIds: e.sessionIds,
                variants: Array.from(i.values()),
                textStreams: r,
                imageStreams: a,
                sequenceMode: e.sequenceMode || !1,
                ignoreManifestTimestampsInSegmentsMode: !1,
                type: e.type || "UNKNOWN",
                serviceDescription: null
            }
        }
        function Rm(i, e, t) {
            var n = e.segments.map(function(e) {
                return e = e,
                n = new km("segment",(t = i).h,t.g,e.dataKey),
                new P(e.startTime,e.endTime,function() {
                    return [n.toString()]
                }
                ,0,null,null != e.initSegmentKey ? function(e, t) {
                    var n = new km("segment",e.h,e.g,t);
                    return new Na(function() {
                        return [n.toString()]
                    }
                    ,0,null)
                }(t, e.initSegmentKey) : null,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,[],e.tilesLayout || "");
                var t, n
            });
            return t.Dd(n),
            {
                id: e.id,
                originalId: e.originalId,
                groupId: e.groupId,
                createSegmentIndex: function() {
                    return Promise.resolve()
                },
                segmentIndex: new us(n),
                mimeType: e.mimeType,
                codecs: e.codecs,
                width: e.width || void 0,
                height: e.height || void 0,
                frameRate: e.frameRate,
                pixelAspectRatio: e.pixelAspectRatio,
                hdr: e.hdr,
                videoLayout: e.videoLayout,
                kind: e.kind,
                encrypted: e.encrypted,
                drmInfos: [],
                keyIds: e.keyIds,
                language: e.language,
                originalLanguage: e.originalLanguage || null,
                label: e.label,
                type: e.type,
                primary: e.primary,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                roles: e.roles,
                forced: e.forced,
                channelsCount: e.channelsCount,
                audioSamplingRate: e.audioSamplingRate,
                spatialAudio: e.spatialAudio,
                closedCaptions: e.closedCaptions,
                tilesLayout: e.tilesLayout,
                accessibilityPurpose: null,
                external: e.external,
                fastSwitching: e.fastSwitching
            }
        }
        function Nm() {
            this.g = null
        }
        function Pm() {}
        function Dm(e) {
            var t, n, i = Cm(e);
            return e = i && "manifest" == i.g ? Gi(e = {
                uri: e,
                originalUri: e,
                data: new ArrayBuffer(0),
                headers: {
                    "content-type": "application/x-offline-manifest"
                }
            }) : i && "segment" == i.g ? (i.key(),
            t = i,
            n = new vm,
            Gi(void 0).Fa(function() {
                return n.init()
            }).Fa(function() {
                return bm(n, t.qb(), t.Ma())
            }).Fa(function(e) {
                return e.getSegments([t.key()])
            }).Fa(function(e) {
                return {
                    uri: t,
                    data: e[0].data,
                    headers: {}
                }
            }).finally(function() {
                return n.destroy()
            })) : Bi(new ke(2,1,9004,e))
        }
        function _m(g, m, v) {
            var y, b, w, T;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    y = [];
                    for (var t = [], n = we(v), i = n.next(); !i.done; i = n.next()) {
                        for (var i = i.value, r = !1, a = we(t), o = a.next(); !o.done; o = a.next())
                            if (o = o.value,
                            s = o.info,
                            f = i,
                            p = function(e, t) {
                                return e.robustness == t.robustness && e.contentType == t.contentType
                            }
                            ,
                            s.keySystem == f.keySystem && s.licenseUri == f.licenseUri && It(s.audioCapabilities, f.audioCapabilities, p) && It(s.videoCapabilities, f.videoCapabilities, p)) {
                                o.sessionIds.push(i.sessionId),
                                r = !0;
                                break
                            }
                        r || t.push({
                            info: i,
                            sessionIds: [i.sessionId]
                        })
                    }
                    b = we(t),
                    w = b.next();
                case 2:
                    if (w.done) {
                        e.F(4);
                        break
                    }
                    return T = w.value,
                    u = g,
                    l = m,
                    c = T,
                    T = Ie(function(e) {
                        switch (e.g) {
                        case 1:
                            return h = new na({
                                zc: l,
                                onError: function() {},
                                Fe: function() {},
                                onExpirationUpdated: function() {},
                                onEvent: function() {}
                            }),
                            Ee(e, 2),
                            h.configure(u),
                            Te(e, (t = h,
                            n = c.info.keySystem,
                            i = c.info.licenseUri,
                            r = c.info.serverCertificate,
                            a = c.info.audioCapabilities,
                            o = c.info.videoCapabilities,
                            s = new Map,
                            (a = {
                                audioCapabilities: a,
                                videoCapabilities: o,
                                distinctiveIdentifier: "optional",
                                persistentState: "required",
                                sessionTypes: ["persistent-license"],
                                label: n
                            }).drmInfos = [{
                                keySystem: n,
                                licenseServerUri: i,
                                distinctiveIdentifierRequired: !1,
                                persistentStateRequired: !0,
                                audioRobustness: "",
                                videoRobustness: "",
                                serverCertificate: r,
                                serverCertificateUri: "",
                                initData: null,
                                keyIds: null
                            }],
                            s.set(n, a),
                            ca(t, s, [])), 4);
                        case 4:
                            Se(e, 3);
                            break;
                        case 2:
                            return xe(e),
                            Te(e, h.destroy(), 5);
                        case 5:
                            return e.return([]);
                        case 3:
                            return d = [],
                            Te(e, Promise.all(c.sessionIds.map(function(o) {
                                return Ie(function(e) {
                                    return 1 == e.g ? (Ee(e, 2),
                                    Te(e, (t = h,
                                    n = o,
                                    Ie(function(e) {
                                        return 1 == e.g ? Te(e, fa(t, n, {
                                            initData: null,
                                            initDataType: null
                                        }), 2) : 3 != e.g ? (i = e.h) ? (r = [],
                                        (a = t.i.get(i)) && (a.Db = new Oi,
                                        r.push(a.Db)),
                                        r.push(i.remove()),
                                        Te(e, Promise.all(r), 3)) : e.return() : (t.i.delete(i),
                                        void Ae(e))
                                    })), 4)) : 2 != e.g ? (d.push(o),
                                    Se(e, 0)) : (xe(e),
                                    void Ae(e));
                                    var t, n, i, r, a
                                })
                            })), 6);
                        case 6:
                            return Te(e, h.destroy(), 7);
                        case 7:
                            return e.return(d)
                        }
                        var t, n, i, r, a, o, s
                    }),
                    Te(e, T, 5);
                case 5:
                    T = e.h,
                    y = y.concat(T),
                    w = b.next(),
                    e.F(2);
                    break;
                case 4:
                    return e.return(y)
                }
                var u, l, c, h, d, s, f, p
            })
        }
        function Um(e, t) {
            var n = Lm(new Mm(e.qb(),e.Ma()), t)
              , i = t.appMetadata || {}
              , n = Om(n);
            return {
                offlineUri: e.toString(),
                originalManifestUri: t.originalManifestUri,
                duration: t.duration,
                size: t.size,
                expiration: t.expiration,
                tracks: n,
                appMetadata: i,
                isIncomplete: t.isIncomplete || !1
            }
        }
        function Om(e) {
            for (var t = [], n = oi(e.variants), i = (n = we(n)).next(); !i.done; i = n.next())
                t.push($n(i.value));
            for (n = (e = we(e.textStreams)).next(); !n.done; n = e.next())
                t.push(Zn(n.value));
            return t
        }
        function jm() {
            this.g = {}
        }
        function Bm(e, t) {
            return e = null == (e = e.g[t]) ? 0 : e
        }
        function Fm(e) {
            var o = this;
            if (e && e.constructor != l)
                throw new ke(2,9,9008);
            this.g = this.h = null,
            e ? (this.h = e.g,
            this.g = e.Zb()) : (this.h = ju(),
            this.g = new Xi),
            this.i = [],
            this.j = [];
            var s = !e;
            this.l = new tr(function() {
                var t, n, i, r, a;
                return Ie(function(e) {
                    switch (e.g) {
                    case 1:
                        return Te(e, Promise.all(o.j.map(am)), 2);
                    case 2:
                        for (t = function() {}
                        ,
                        n = [],
                        i = we(o.i),
                        r = i.next(); !r.done; r = i.next())
                            a = r.value,
                            n.push(a.then(t, t));
                        return Te(e, Promise.all(n), 3);
                    case 3:
                        if (s)
                            return Te(e, o.g.destroy(), 4);
                        e.F(4);
                        break;
                    case 4:
                        o.h = null,
                        o.g = null,
                        Ae(e)
                    }
                })
            }
            )
        }
        function Gm() {
            if (xn())
                e: {
                    for (var e = we(Tm.values()), t = e.next(); !t.done; t = e.next())
                        if (t = (t = t.value)()) {
                            t.destroy(),
                            e = !0;
                            break e
                        }
                    e = !1
                }
            else
                e = !1;
            return e
        }
        function Vm(t) {
            var n, i;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return Te(e, (n = new vm).init(), 2);
                case 2:
                    return Te(e, ym(n), 3);
                case 3:
                    return i = e.h,
                    i = new km("manifest",i.path.qb,i.path.Ma,t),
                    Te(e, n.destroy(), 4);
                case 4:
                    return Te(e, (new Fm).remove(i.toString()), 0)
                }
            })
        }
        function Km(t, n, i, r, a, o) {
            var s, u, l, c, h, d, f, p, g, m, v;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    for (s = !1,
                    Ee(e, 2),
                    u = !0,
                    l = we(i.streams),
                    c = l.next(); !c.done; c = l.next())
                        for (h = c.value,
                        d = we(h.segments),
                        f = d.next(); !f.done; f = d.next())
                            p = f.value,
                            null != (g = p.pendingSegmentRefId ? r[p.pendingSegmentRefId] : null) && (p.dataKey = g,
                            p.pendingSegmentRefId = void 0),
                            null != (g = p.pendingInitSegmentRefId ? r[p.pendingInitSegmentRefId] : null) && (p.initSegmentKey = g,
                            p.pendingInitSegmentRefId = void 0),
                            p.pendingSegmentRefId && (u = !1),
                            p.pendingInitSegmentRefId && (u = !1);
                    return i.size += a,
                    u && (i.isIncomplete = !1),
                    Te(e, t.updateManifest(n, i), 4);
                case 4:
                    s = !0,
                    o(),
                    Se(e, 0);
                    break;
                case 2:
                    return m = xe(e),
                    Te(e, Vm(n), 5);
                case 5:
                    if (s) {
                        e.F(6);
                        break
                    }
                    return v = Object.values(r),
                    Te(e, t.removeSegments(v, function() {}), 6);
                case 6:
                    throw m
                }
            })
        }
        function Hm(e) {
            return e.variants.some(function(e) {
                var t = e.audio && e.audio.encrypted;
                return e.video && e.video.encrypted || t
            })
        }
        function zm(e) {
            return e.variants.some(function(e) {
                return (e.video ? e.video.drmInfos : []).concat(e.audio ? e.audio.drmInfos : []).some(function(e) {
                    return e.initData && e.initData.length
                })
            })
        }
        function Xm(e, t, n, i) {
            if (t.expiration = n.td(),
            n = la(n),
            t.sessionIds = i.offline.usePersistentLicense ? n : [],
            Hm(e) && i.offline.usePersistentLicense && !n.length)
                throw new ke(2,9,9007)
        }
        function Wm(e, t) {
            for (var n = [], i = we(e.streams), r = i.next(); !r.done; r = i.next())
                r = r.value,
                t && "video" == r.type ? n.push({
                    contentType: an(r.mimeType, r.codecs),
                    robustness: e.drmInfo.videoRobustness
                }) : t || "audio" != r.type || n.push({
                    contentType: an(r.mimeType, r.codecs),
                    robustness: e.drmInfo.audioRobustness
                });
            return n
        }
        function qm(e) {
            if (e.l.g)
                throw new ke(2,9,7001)
        }
        function Ym() {
            if (!Gm())
                throw new ke(2,9,9e3)
        }
        function Jm(t, n) {
            return Ie(function(e) {
                return 1 == e.g ? (t.i.push(n),
                k(e, 2),
                Te(e, n, 4)) : 2 != e.g ? e.return(e.h) : (Ce(e),
                xt(t.i, n),
                Me(e, 0))
            })
        }
        function Qm(e) {
            for (var t = new Set, n = we(e.textStreams), i = n.next(); !i.done; i = n.next())
                t.add(i.value);
            for (i = (n = we(e.imageStreams)).next(); !i.done; i = n.next())
                t.add(i.value);
            for (n = (e = we(e.variants)).next(); !n.done; n = e.next())
                (n = n.value).audio && t.add(n.audio),
                n.video && t.add(n.video);
            return t
        }
        t(Am, dm),
        Am.prototype.updateManifestExpiration = function(t, n) {
            var i, r, a, o = this;
            return Ie(function(e) {
                return i = cm(o.h, o.g),
                r = i.store(),
                a = new Oi,
                r.get(t).onsuccess = function(e) {
                    (e = e.target.result) ? (e.expiration = n,
                    r.put(e),
                    a.resolve()) : a.reject(new ke(2,9,9012,"Could not find values for " + t))
                }
                ,
                Te(e, Promise.all([i.promise(), a]), 0)
            })
        }
        ,
        Am.prototype.qd = function(t) {
            var n, i, r, a;
            return Ie(function(e) {
                if (1 != e.g)
                    return a = e.h,
                    e.return({
                        creationTime: 0,
                        originalManifestUri: t.originalManifestUri,
                        duration: t.duration,
                        size: t.size,
                        expiration: null == t.expiration ? 1 / 0 : t.expiration,
                        streams: a,
                        sessionIds: t.sessionIds,
                        drmInfo: t.drmInfo,
                        appMetadata: t.appMetadata,
                        sequenceMode: !1
                    });
                for (n = [],
                i = 0; i < t.periods.length; ++i)
                    r = i == t.periods.length - 1 ? t.duration : t.periods[i + 1].startTime,
                    r = r - t.periods[i].startTime,
                    r = function(o, s) {
                        !function(e) {
                            var t = e.streams.filter(function(e) {
                                return "audio" == e.contentType
                            });
                            if (e = e.streams.filter(function(e) {
                                return "video" == e.contentType
                            }),
                            !t.every(function(e) {
                                return e.variantIds
                            }) || !e.every(function(e) {
                                return e.variantIds
                            })) {
                                for (var n = we(t), i = n.next(); !i.done; i = n.next())
                                    i.value.variantIds = [];
                                for (n = we(e),
                                i = n.next(); !i.done; i = n.next())
                                    i.value.variantIds = [];
                                if (n = 0,
                                e.length && !t.length) {
                                    var r = n++
                                      , a = we(e);
                                    for (i = a.next(); !i.done; i = a.next())
                                        i.value.variantIds.push(r)
                                }
                                if (!e.length && t.length)
                                    for (r = n++,
                                    a = we(t),
                                    i = a.next(); !i.done; i = a.next())
                                        i.value.variantIds.push(r);
                                if (e.length && t.length)
                                    for (t = we(t),
                                    i = t.next(); !i.done; i = t.next())
                                        for (i = i.value,
                                        r = we(e),
                                        a = r.next(); !a.done; a = r.next()) {
                                            a = a.value;
                                            var o = n++;
                                            i.variantIds.push(o),
                                            a.variantIds.push(o)
                                        }
                            }
                        }(o);
                        for (var e = we(o.streams), t = e.next(); !t.done; t = e.next())
                            ;
                        return o.streams.map(function(e) {
                            return e = e,
                            n = o.startTime,
                            t = s,
                            i = e.initSegmentUri ? Em(e.initSegmentUri) : null,
                            r = n + e.presentationTimeOffset,
                            a = n + t,
                            {
                                id: e.id,
                                originalId: null,
                                groupId: null,
                                primary: e.primary,
                                type: e.contentType,
                                mimeType: e.mimeType,
                                codecs: e.codecs,
                                frameRate: e.frameRate,
                                pixelAspectRatio: void 0,
                                hdr: void 0,
                                videoLayout: void 0,
                                kind: e.kind,
                                language: e.language,
                                originalLanguage: e.language || null,
                                label: e.label,
                                width: e.width,
                                height: e.height,
                                initSegmentKey: i,
                                encrypted: e.encrypted,
                                keyIds: new Set([e.keyId]),
                                segments: e.segments.map(function(e) {
                                    var t = Em(e.uri);
                                    return {
                                        startTime: n + e.startTime,
                                        endTime: n + e.endTime,
                                        dataKey: t,
                                        initSegmentKey: i,
                                        appendWindowStart: n,
                                        appendWindowEnd: a,
                                        timestampOffset: r,
                                        tilesLayout: ""
                                    }
                                }),
                                variantIds: e.variantIds,
                                roles: [],
                                forced: !1,
                                audioSamplingRate: null,
                                channelsCount: null,
                                spatialAudio: !1,
                                closedCaptions: null,
                                tilesLayout: void 0,
                                external: !1,
                                fastSwitching: !1
                            };
                            var n, t, i, r, a
                        })
                    }(t.periods[i], r),
                    n.push(r);
                return Te(e, lf(n), 2)
            })
        }
        ,
        Am.prototype.Lg = function(e) {
            return {
                data: e.data
            }
        }
        ,
        t(Sm, dm),
        Sm.prototype.qd = function(a) {
            var o, s, u, l, c;
            return Ie(function(e) {
                if (1 != e.g)
                    return c = e.h,
                    e.return({
                        appMetadata: a.appMetadata,
                        creationTime: 0,
                        drmInfo: a.drmInfo,
                        duration: a.duration,
                        expiration: null == a.expiration ? 1 / 0 : a.expiration,
                        originalManifestUri: a.originalManifestUri,
                        sessionIds: a.sessionIds,
                        size: a.size,
                        streams: c,
                        sequenceMode: !1
                    });
                for (o = [],
                s = 0; s < a.periods.length; ++s) {
                    u = s == a.periods.length - 1 ? a.duration : a.periods[s + 1].startTime,
                    l = u - a.periods[s].startTime;
                    for (var t = a.periods[s], n = [], i = we(t.streams), r = i.next(); !r.done; r = i.next())
                        0 != (r = r.value).variantIds.length && n.push(function(t, n, i) {
                            return {
                                id: t.id,
                                originalId: t.originalId,
                                groupId: null,
                                primary: t.primary,
                                type: t.contentType,
                                mimeType: t.mimeType,
                                codecs: t.codecs,
                                frameRate: t.frameRate,
                                pixelAspectRatio: t.pixelAspectRatio,
                                hdr: void 0,
                                videoLayout: void 0,
                                kind: t.kind,
                                language: t.language,
                                originalLanguage: t.language || null,
                                label: t.label,
                                width: t.width,
                                height: t.height,
                                encrypted: t.encrypted,
                                keyIds: new Set([t.keyId]),
                                segments: t.segments.map(function(e) {
                                    return {
                                        startTime: n + e.startTime,
                                        endTime: n + e.endTime,
                                        initSegmentKey: t.initSegmentKey,
                                        appendWindowStart: n,
                                        appendWindowEnd: i,
                                        timestampOffset: n - t.presentationTimeOffset,
                                        dataKey: e.dataKey,
                                        tilesLayout: ""
                                    }
                                }),
                                variantIds: t.variantIds,
                                roles: [],
                                forced: !1,
                                audioSamplingRate: null,
                                channelsCount: null,
                                spatialAudio: !1,
                                closedCaptions: null,
                                tilesLayout: void 0,
                                external: !1,
                                fastSwitching: !1
                            }
                        }(r, t.startTime, t.startTime + l));
                    o.push(n)
                }
                return Te(e, lf(o), 2)
            })
        }
        ,
        t(xm, dm),
        (e = xm.prototype).hasFixedKeySpace = function() {
            return !1
        }
        ,
        e.addSegments = function(e) {
            return this.add(this.i, e)
        }
        ,
        e.addManifests = function(e) {
            return this.add(this.g, e)
        }
        ,
        e.updateManifest = function(e, t) {
            return n = e,
            i = t,
            (r = (e = cm((e = this).h, e.g)).store()).get(n).onsuccess = function() {
                r.put(i, n)
            }
            ,
            e.promise();
            var n, i, r
        }
        ,
        e.qd = function(e) {
            return null == e.expiration && (e.expiration = 1 / 0),
            Promise.resolve(e)
        }
        ,
        (e = Im.prototype).init = function() {
            var n = this
              , i = new Oi
              , r = !1
              , a = new I(function() {
                r = !0,
                i.reject(new ke(2,9,9017))
            }
            )
              , o = (a.S(5),
            z.indexedDB.open("shaka_offline_db", 5));
            return o.onsuccess = function() {
                var e, t;
                r || (e = o.result,
                t = (t = (n.l = e).objectStoreNames).contains("manifest") && t.contains("segment") ? new Am(e,"segment","manifest") : null,
                n.g = t,
                t = (t = e.objectStoreNames).contains("manifest-v2") && t.contains("segment-v2") ? new Sm(e,"segment-v2","manifest-v2") : null,
                n.h = t,
                t = (t = e.objectStoreNames).contains("manifest-v3") && t.contains("segment-v3") ? new Sm(e,"segment-v3","manifest-v3") : null,
                n.i = t,
                t = (t = e.objectStoreNames).contains("manifest-v5") && t.contains("segment-v5") ? new xm(e,"segment-v5","manifest-v5") : null,
                n.j = t,
                e = e.objectStoreNames.contains("session-ids") ? new mm(e) : null,
                n.m = e,
                a.stop(),
                i.resolve())
            }
            ,
            o.onupgradeneeded = function() {
                for (var e = o.result, t = we(["segment-v5", "manifest-v5", "session-ids"]), n = t.next(); !n.done; n = t.next())
                    n = n.value,
                    e.objectStoreNames.contains(n) || e.createObjectStore(n, {
                        autoIncrement: !0
                    })
            }
            ,
            o.onerror = function(e) {
                r || (i.reject(new ke(2,9,9001,o.error)),
                a.stop(),
                e.preventDefault())
            }
            ,
            i
        }
        ,
        e.destroy = function() {
            var t = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (t.g)
                        return Te(e, t.g.destroy(), 2);
                    e.F(2);
                    break;
                case 2:
                    if (t.h)
                        return Te(e, t.h.destroy(), 4);
                    e.F(4);
                    break;
                case 4:
                    if (t.i)
                        return Te(e, t.i.destroy(), 6);
                    e.F(6);
                    break;
                case 6:
                    if (t.j)
                        return Te(e, t.j.destroy(), 8);
                    e.F(8);
                    break;
                case 8:
                    if (t.m)
                        return Te(e, t.m.destroy(), 10);
                    e.F(10);
                    break;
                case 10:
                    t.l && t.l.close(),
                    Ae(e)
                }
            })
        }
        ,
        e.getCells = function() {
            var e = new Map;
            return this.g && e.set("v1", this.g),
            this.h && e.set("v2", this.h),
            this.i && e.set("v3", this.i),
            this.j && e.set("v5", this.j),
            e
        }
        ,
        e.getEmeSessionCell = function() {
            return this.m
        }
        ,
        e.erase = function() {
            var i = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (i.g)
                        return Te(e, i.g.destroy(), 2);
                    e.F(2);
                    break;
                case 2:
                    if (i.h)
                        return Te(e, i.h.destroy(), 4);
                    e.F(4);
                    break;
                case 4:
                    if (i.i)
                        return Te(e, i.i.destroy(), 6);
                    e.F(6);
                    break;
                case 6:
                    if (i.j)
                        return Te(e, i.j.destroy(), 8);
                    e.F(8);
                    break;
                case 8:
                    return i.l && i.l.close(),
                    Te(e, (t = new Oi,
                    (n = z.indexedDB.deleteDatabase("shaka_offline_db")).onblocked = function() {}
                    ,
                    n.onsuccess = function() {
                        t.resolve()
                    }
                    ,
                    n.onerror = function(e) {
                        t.reject(new ke(2,9,9001,n.error)),
                        e.preventDefault()
                    }
                    ,
                    t), 10);
                case 10:
                    return i.l = null,
                    i.g = null,
                    i.h = null,
                    i.i = null,
                    i.j = null,
                    Te(e, i.init(), 0)
                }
                var t, n
            })
        }
        ,
        wm("idb", function() {
            return Pn() || Cn() || !z.indexedDB ? null : new Im
        }),
        km.prototype.qb = function() {
            return this.i
        }
        ,
        km.prototype.Ma = function() {
            return this.h
        }
        ,
        km.prototype.key = function() {
            return this.l
        }
        ,
        km.prototype.toString = function() {
            return this.j
        }
        ,
        (e = Nm.prototype).configure = function() {}
        ,
        e.start = function(t, n) {
            var i, r, a, o, s = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (i = Cm(t),
                    null == (s.g = i) || "manifest" != i.g)
                        throw new ke(2,1,9004,t);
                    return r = new vm,
                    k(e, 2),
                    Te(e, r.init(), 4);
                case 4:
                    return Te(e, bm(r, i.qb(), i.Ma()), 5);
                case 5:
                    return Te(e, e.h.getManifests([i.key()]), 6);
                case 6:
                    return a = e.h,
                    a = a[0],
                    o = new Mm(i.qb(),i.Ma()),
                    o = Lm(o, a),
                    n.makeTextStreamsForClosedCaptions(o),
                    e.return(o);
                case 2:
                    return Ce(e),
                    Te(e, r.destroy(), 7);
                case 7:
                    Me(e, 0)
                }
            })
        }
        ,
        e.stop = function() {
            return Promise.resolve()
        }
        ,
        e.update = function() {}
        ,
        e.onExpirationUpdated = function(t, n) {
            var i, r, a, o, s, u = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return i = u.g,
                    r = new vm,
                    Ee(e, 2, 3),
                    Te(e, r.init(), 5);
                case 5:
                    return Te(e, bm(r, i.qb(), i.Ma()), 6);
                case 6:
                    return Te(e, (a = e.h).getManifests([i.key()]), 7);
                case 7:
                    if (s = e.h,
                    s = s[0],
                    o = s.sessionIds.includes(t),
                    s = null == s.expiration || s.expiration > n,
                    o && s)
                        return Te(e, a.updateManifestExpiration(i.key(), n), 3);
                    e.F(3);
                    break;
                case 3:
                    return Ce(e),
                    Te(e, r.destroy(), 10);
                case 10:
                    Me(e, 0);
                    break;
                case 2:
                    xe(e),
                    e.F(3)
                }
            })
        }
        ,
        e.onInitialVariantChosen = function() {}
        ,
        e.banLocation = function() {}
        ,
        Ca["application/x-offline-manifest"] = function() {
            return new Nm
        }
        ,
        n("shaka.offline.OfflineScheme", Pm),
        Wi("offline", Pm.plugin = Dm),
        (e = Fm.prototype).destroy = function() {
            return this.l.destroy()
        }
        ,
        e.configure = function(e, t) {
            return 2 == arguments.length && "string" == typeof e && (e = Mu(e, t)),
            Bu(this.h, e)
        }
        ,
        e.getConfiguration = function() {
            var e = ju();
            return Bu(e, this.h, ju()),
            e
        }
        ,
        e.Zb = function() {
            return this.g
        }
        ,
        e.store = function(n, e, i) {
            var ie, re, ae, oe, se, ue, le, ce, he, de, fe, pe, ge, me, ve, ye, be, t, r, a = this, o = this.getConfiguration(), s = new rm(this.g);
            return this.j.push(s),
            ie = this,
            re = n,
            ae = e || {},
            oe = function() {
                var t;
                return Ie(function(e) {
                    return 1 == e.g ? i ? e.F(2) : Te(e, qs(n, a.g, o.manifest.retryParameters), 3) : (2 != e.g && (i = e.h),
                    t = ka(n, i || null),
                    e.return(t()))
                })
            }
            ,
            se = o,
            ue = s,
            (e = new ji(e = Ie(function(e) {
                switch (e.g) {
                case 1:
                    return Ym(),
                    ce = le = null,
                    he = new vm,
                    pe = fe = de = null,
                    Ee(e, 2, 3),
                    Te(e, oe(), 5);
                case 5:
                    return le = e.h,
                    Te(e, (s = ie,
                    Z = re,
                    ee = le,
                    te = se,
                    Ie(function(e) {
                        if (1 == e.g)
                            return D = null,
                            _ = s.g,
                            _ = {
                                networkingEngine: _,
                                filter: function() {
                                    return Promise.resolve()
                                },
                                makeTextStreamsForClosedCaptions: function() {},
                                onTimelineRegionAdded: function() {},
                                onEvent: function() {},
                                onError: function(e) {
                                    D = e
                                },
                                isLowLatencyMode: function() {
                                    return !1
                                },
                                isAutoLowLatencyMode: function() {
                                    return !1
                                },
                                enableLowLatencyMode: function() {},
                                updateDuration: function() {},
                                newDrmInfo: function() {},
                                onManifestUpdated: function() {},
                                getBandwidthEstimate: function() {
                                    return te.abr.defaultBandwidthEstimate
                                }
                            },
                            ee.configure(te.manifest),
                            qm(s),
                            Te(e, ee.start(Z, _), 2);
                        if (3 != e.g)
                            return ne = e.h,
                            qm(s),
                            _ = Qm(ne),
                            Te(e, Promise.all(Le(_, function(e) {
                                return e.createSegmentIndex()
                            })), 3);
                        if (qm(s),
                        D)
                            throw D;
                        return e.return(ne)
                    })), 6);
                case 6:
                    if (ge = e.h,
                    qm(ie),
                    !ge.presentationTimeline.R() && !ge.presentationTimeline.wc())
                        return Te(e, (Y = ie,
                        J = ge,
                        Q = function(e) {
                            pe = pe || e
                        }
                        ,
                        $ = se,
                        Ie(function(e) {
                            return 1 == e.g ? ((o = new na({
                                zc: Y.g,
                                onError: Q,
                                Fe: function() {},
                                onExpirationUpdated: function() {},
                                onEvent: function() {}
                            })).configure($.drm),
                            Te(e, (t = o,
                            n = J.variants,
                            i = $.offline.usePersistentLicense,
                            t.ha = !0,
                            t.C = new Map,
                            t.M = i,
                            ra(t, n)), 2)) : 3 != e.g ? Te(e, oa(o), 3) : e.return(o);
                            var t, n, i
                        })), 7);
                    throw new ke(2,9,9005,re);
                case 7:
                    if (ce = e.h,
                    qm(ie),
                    pe)
                        throw pe;
                    return Te(e, (u = ge,
                    B = ce,
                    l = se,
                    Ie(function(e) {
                        switch (e.g) {
                        case 1:
                            return h = {
                                width: 1 / 0,
                                height: 1 / 0
                            },
                            o = l.restrictions,
                            s = h,
                            u.variants = u.variants.filter(function(e) {
                                return Kn(e, o, s)
                            }),
                            Te(e, Xn(B, u, l.offline.usePersistentLicense), 2);
                        case 2:
                            for (c = [],
                            h = l.preferredDecodingAttributes,
                            N = l.preferredVideoCodecs,
                            F = l.preferredAudioCodecs,
                            Vn(u, N, F, h),
                            d = we(u.variants),
                            A = d.next(); !A.done; A = d.next())
                                G = A.value,
                                c.push($n(G));
                            for (E = we(u.textStreams),
                            S = E.next(); !S.done; S = E.next())
                                V = S.value,
                                c.push(Zn(V));
                            for (x = we(u.imageStreams),
                            I = x.next(); !I.done; I = x.next())
                                K = I.value,
                                c.push(ei(K));
                            return Te(e, l.offline.trackSelectionCallback(c), 3);
                        case 3:
                            for (k = e.h,
                            H = u.presentationTimeline.getDuration(),
                            C = 0,
                            M = we(k),
                            L = M.next(); !L.done; L = M.next())
                                R = L.value,
                                R = R.bandwidth * H / 8,
                                C += R;
                            return Ee(e, 4),
                            Te(e, l.offline.downloadSizeCallback(C), 6);
                        case 6:
                            if (!e.h)
                                throw new ke(2,9,9014);
                            Se(e, 5);
                            break;
                        case 4:
                            if ((N = xe(e))instanceof ke)
                                throw N;
                            throw new ke(2,9,9015);
                        case 5:
                            for (z = new Set,
                            X = new Set,
                            W = new Set,
                            q = we(k),
                            L = q.next(); !L.done; L = q.next())
                                "variant" == (P = L.value).type && z.add(P.id),
                                "text" == P.type && X.add(P.id),
                                "image" == P.type && W.add(P.id);
                            u.variants = u.variants.filter(function(e) {
                                return z.has(e.id)
                            }),
                            u.textStreams = u.textStreams.filter(function(e) {
                                return X.has(e.id)
                            }),
                            u.imageStreams = u.imageStreams.filter(function(e) {
                                return W.has(e.id)
                            });
                            var t = u
                              , n = (t.variants.map(function(e) {
                                return e.video
                            }),
                            new Set(t.variants.map(function(e) {
                                return e.audio
                            })));
                            t = t.textStreams;
                            for (var i = we(n), r = i.next(); !r.done; r = i.next())
                                for (var a = (r = we(n)).next(); !a.done; a = r.next())
                                    ;
                            for (n = we(t),
                            i = n.next(); !i.done; i = n.next())
                                for (i = we(t),
                                r = i.next(); !r.done; r = i.next())
                                    ;
                            Ae(e)
                        }
                        var o, s
                    })), 8);
                case 8:
                    return Te(e, he.init(), 9);
                case 9:
                    return qm(ie),
                    Te(e, ym(he), 10);
                case 10:
                    return de = e.h,
                    qm(ie),
                    ve = function(n, e, t, i, r, a) {
                        var o = function(e, t, n) {
                            return {
                                offlineUri: null,
                                originalManifestUri: e,
                                duration: t.presentationTimeline.getDuration(),
                                size: 0,
                                expiration: 1 / 0,
                                tracks: t = Om(t),
                                appMetadata: n,
                                isIncomplete: !1
                            }
                        }(t, e, i)
                          , s = r.offline.progressCallback
                          , u = (function(e, t, n) {
                            e.m = t,
                            e.l = n
                        }(a, function(e, t) {
                            o.size = t,
                            s(o, e)
                        }, function(e, t) {
                            u && r.offline.usePersistentLicense && l == t && sa(n, "cenc", e)
                        }),
                        Hm(e) && !zm(e))
                          , l = null;
                        u && (l = $m.get(n.g.keySystem));
                        for (var c = new jm, h = we(e.textStreams), d = h.next(); !d.done; d = h.next())
                            c.g[d.value.id] = 52;
                        for (h = we(e.imageStreams),
                        d = h.next(); !d.done; d = h.next())
                            !function(e, t) {
                                e.g[t.id] = t.bandwidth || 2048
                            }(c, d.value);
                        for (d = we(e.variants),
                        h = d.next(); !h.done; h = d.next())
                            !function(e, t) {
                                var n, i, r = t.audio, a = t.video;
                                r && !a && (e.g[r.id] = r.bandwidth || t.bandwidth),
                                !r && a && (e.g[a.id] = a.bandwidth || t.bandwidth),
                                r && a && (n = r.bandwidth || 393216,
                                (i = a.bandwidth || t.bandwidth - n) <= 0 && (i = t.bandwidth),
                                e.g[r.id] = n,
                                e.g[a.id] = i)
                            }(c, h.value);
                        return c = function(e, t, n, i) {
                            for (var r = new Map, a = Qm(n), o = new Map, s = (a = we(a)).next(); !s.done; s = a.next()) {
                                s = s.value;
                                var u = function(r, a, e, o, t, s) {
                                    var u = {
                                        id: o.id,
                                        originalId: o.originalId,
                                        groupId: o.groupId,
                                        primary: o.primary,
                                        type: o.type,
                                        mimeType: o.mimeType,
                                        codecs: o.codecs,
                                        frameRate: o.frameRate,
                                        pixelAspectRatio: o.pixelAspectRatio,
                                        hdr: o.hdr,
                                        videoLayout: o.videoLayout,
                                        kind: o.kind,
                                        language: o.language,
                                        originalLanguage: o.originalLanguage,
                                        label: o.label,
                                        width: o.width || null,
                                        height: o.height || null,
                                        encrypted: o.encrypted,
                                        keyIds: o.keyIds,
                                        segments: [],
                                        variantIds: [],
                                        roles: o.roles,
                                        forced: o.forced,
                                        channelsCount: o.channelsCount,
                                        audioSamplingRate: o.audioSamplingRate,
                                        spatialAudio: o.spatialAudio,
                                        closedCaptions: o.closedCaptions,
                                        tilesLayout: o.tilesLayout,
                                        external: o.external,
                                        fastSwitching: o.fastSwitching
                                    }
                                      , l = t.offline.numberOfParallelDownloads
                                      , c = 0;
                                    return function(e, t, n) {
                                        if (null != (t = e.segmentIndex.find(t)))
                                            for (var i = e.segmentIndex.get(t); i; )
                                                n(i),
                                                i = e.segmentIndex.get(++t)
                                    }(o, e.presentationTimeline.Ab(), function(e) {
                                        var t, n = tm(e), i = void 0;
                                        s.has(n) || (t = e.endTime - e.startTime,
                                        t = Bm(a, o.id) * t,
                                        t = im(r.g, t),
                                        s.set(n, new em(e,t,c,!1))),
                                        e.ka && (i = tm(e.ka),
                                        s.has(i) || (t = .5 * Bm(a, o.id),
                                        t = im(r.g, t),
                                        s.set(i, new em(e.ka,t,c,!0)))),
                                        u.segments.push({
                                            pendingInitSegmentRefId: i,
                                            initSegmentKey: i ? 0 : null,
                                            startTime: e.startTime,
                                            endTime: e.endTime,
                                            appendWindowStart: e.appendWindowStart,
                                            appendWindowEnd: e.appendWindowEnd,
                                            timestampOffset: e.timestampOffset,
                                            tilesLayout: e.tilesLayout,
                                            pendingSegmentRefId: n,
                                            dataKey: 0
                                        }),
                                        c = (c + 1) % l
                                    }),
                                    u
                                }(e, t, n, s, i, r);
                                o.set(s.id, u)
                            }
                            for (e = we(n.variants),
                            t = e.next(); !t.done; t = e.next())
                                (t = t.value).audio && o.get(t.audio.id).variantIds.push(t.id),
                                t.video && o.get(t.video.id).variantIds.push(t.id);
                            return {
                                streams: Array.from(o.values()),
                                vg: Array.from(r.values())
                            }
                        }(a, c, e, r),
                        a = c.streams,
                        c = c.vg,
                        d = n.g,
                        h = r.offline.usePersistentLicense,
                        d && h && (d.initData = []),
                        {
                            Si: {
                                creationTime: Date.now(),
                                originalManifestUri: t,
                                duration: e.presentationTimeline.getDuration(),
                                size: 0,
                                expiration: n.td(),
                                streams: a,
                                sessionIds: h ? la(n) : [],
                                drmInfo: d,
                                appMetadata: i,
                                isIncomplete: !0,
                                sequenceMode: e.sequenceMode,
                                type: e.type
                            },
                            vg: c
                        }
                    }(ce, ge, re, ae, se, ue),
                    me = ve.Si,
                    ve = ve.vg,
                    Te(e, de.Ma.addManifests([me]), 11);
                case 11:
                    if (ye = e.h,
                    qm(ie),
                    fe = ye[0],
                    qm(ie),
                    pe)
                        throw pe;
                    return Te(e, (f = ie,
                    t = ve,
                    p = fe,
                    g = me,
                    m = ue,
                    v = se,
                    y = de.Ma,
                    b = ge,
                    U = ce,
                    Ie(function(e) {
                        switch (e.g) {
                        case 1:
                            if (w = {},
                            T = 0,
                            i = !(n = function(r, a) {
                                var o, s, u, l, c, h, d;
                                return Ie(function(e) {
                                    if (1 != e.g)
                                        return a ? (qm(f),
                                        Xm(b, g, U, v),
                                        Te(e, y.updateManifest(p, g), 0)) : e.F(0);
                                    var t, n, i;
                                    for (o = {},
                                    s = we(r),
                                    u = s.next(); !u.done; o = {
                                        kc: o.kc
                                    },
                                    u = s.next())
                                        o.kc = u.value,
                                        n = o.kc,
                                        i = v,
                                        l = Ms(n.g.ba(), n.g.hb, n.g.Na, i.streaming.retryParameters),
                                        c = o.kc.i,
                                        h = o.kc.h,
                                        d = function(r) {
                                            return function(t) {
                                                var n, i;
                                                return Ie(function(e) {
                                                    if (1 == e.g)
                                                        return Te(e, y.addSegments([{
                                                            data: t
                                                        }]), 2);
                                                    n = e.h,
                                                    qm(f),
                                                    i = r.kc.g,
                                                    i = tm(i),
                                                    w[i] = n[0],
                                                    T += t.byteLength,
                                                    Ae(e)
                                                })
                                            }
                                        }(o),
                                        om(m, o.kc.groupId, l, c, h, d);
                                    return Te(e, (t = m,
                                    Ie(function(e) {
                                        return 1 == e.g ? Te(e, Promise.all(t.j.values()), 2) : e.return(t.g.h)
                                    })), 2)
                                })
                            }
                            ),
                            Ee(e, 2),
                            Hm(b) && i && !zm(b))
                                return Te(e, n(t.filter(function(e) {
                                    return e.h
                                }), !0), 5);
                            e.F(4);
                            break;
                        case 5:
                            return qm(f),
                            t = t.filter(function(e) {
                                return !e.h
                            }),
                            r = w,
                            a = T,
                            w = {},
                            T = 0,
                            Te(e, Km(y, p, g, r, a, function() {
                                qm(f)
                            }), 6);
                        case 6:
                            qm(f);
                        case 4:
                            if (i) {
                                e.F(7);
                                break
                            }
                            return Te(e, n(t, !1), 8);
                        case 8:
                            return qm(f),
                            r = w,
                            a = T,
                            w = {},
                            T = 0,
                            Te(e, Km(y, p, g, r, a, function() {
                                qm(f)
                            }), 9);
                        case 9:
                            qm(f);
                        case 7:
                            Se(e, 0);
                            break;
                        case 2:
                            return O = xe(e),
                            j = Object.values(w),
                            Te(e, y.removeSegments(j, function() {}), 10);
                        case 10:
                            throw O
                        }
                    })), 12);
                case 12:
                    return qm(ie),
                    Xm(ge, me, ce, se),
                    Te(e, de.Ma.updateManifest(fe, me), 13);
                case 13:
                    return qm(ie),
                    ye = new km("manifest",de.path.qb,de.path.Ma,fe),
                    e.return(Um(ye, me));
                case 3:
                    return Ce(e),
                    Te(e, he.destroy(), 14);
                case 14:
                    if (le)
                        return Te(e, le.stop(), 15);
                    e.F(15);
                    break;
                case 15:
                    if (ce)
                        return Te(e, ce.destroy(), 17);
                    e.F(17);
                    break;
                case 17:
                    Me(e, 0);
                    break;
                case 2:
                    if (be = xe(e),
                    null != fe)
                        return Te(e, Vm(fe), 19);
                    e.F(19);
                    break;
                case 19:
                    throw pe || be
                }
                var f, t, p, g, m, v, y, b, U, w, T, n, i, r, a, O, j, u, B, l, c, h, F, d, A, G, E, S, V, x, I, K, k, H, C, M, L, R, N, z, X, W, q, P, Y, J, Q, $, o, s, Z, ee, te, D, ne, _
            }),function() {
                return am(s)
            }
            )).finally(function() {
                xt(a.j, s)
            }),
            t = this,
            r = (e = e).promise,
            t.i.push(r),
            e.finally(function() {
                xt(t.i, r)
            })
        }
        ,
        e.remove = function(e) {
            return Jm(this, (o = this,
            s = e,
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (Ym(),
                    null == (h = Cm(s)) || "manifest" != h.g)
                        throw new ke(2,9,9004,s);
                    return h = h,
                    d = new vm,
                    k(e, 2),
                    Te(e, d.init(), 4);
                case 4:
                    return Te(e, bm(d, h.qb(), h.Ma()), 5);
                case 5:
                    return Te(e, (f = e.h).getManifests([h.key()]), 6);
                case 6:
                    return p = e.h,
                    p = p[0],
                    Te(e, Promise.all([(u = o,
                    l = p,
                    c = d,
                    Ie(function(e) {
                        return Te(e, (t = u.g,
                        n = u.h.drm,
                        i = c,
                        r = l,
                        Ie(function(e) {
                            return 1 == e.g ? r.drmInfo ? (a = function(e) {
                                var t = Array.from(e.g.keys());
                                if (t.length)
                                    return e.g.get(t[0]).getEmeSessionCell();
                                throw new ke(2,9,9e3,"No supported storage mechanisms found")
                            }(i),
                            o = r.sessionIds.map(function(e) {
                                return {
                                    sessionId: e,
                                    keySystem: r.drmInfo.keySystem,
                                    licenseUri: r.drmInfo.licenseServerUri,
                                    serverCertificate: r.drmInfo.serverCertificate,
                                    audioCapabilities: Wm(r, !1),
                                    videoCapabilities: Wm(r, !0)
                                }
                            }),
                            Te(e, _m(n, t, o), 2)) : e.return() : 3 != e.g ? (s = e.h,
                            Te(e, a.remove(s), 3)) : Te(e, a.add(o.filter(function(e) {
                                return !s.includes(e.sessionId)
                            })), 0)
                        })), 0);
                        var t, n, i, r, a, o, s
                    })), (n = f,
                    i = h,
                    a = function(e) {
                        for (var t = new Set, n = (e = we(e.streams)).next(); !n.done; n = e.next())
                            for (var i = (n = we(n.value.segments)).next(); !i.done; i = n.next())
                                null != (i = i.value).initSegmentKey && t.add(i.initSegmentKey),
                                t.add(i.dataKey);
                        return Array.from(t)
                    }(r = p),
                    Um(i, r),
                    Promise.all([n.removeSegments(a, t), n.removeManifests([i.key()], t)]))]), 2);
                case 2:
                    return Ce(e),
                    Te(e, d.destroy(), 8);
                case 8:
                    Me(e, 0)
                }
                function t() {}
                var n, i, r, a, u, l, c
            })));
            var o, s, h, d, f, p
        }
        ,
        e.fj = function() {
            return Jm(this, (n = this,
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    return Ym(),
                    i = n.g,
                    r = n.h.drm,
                    a = new vm,
                    o = !1,
                    k(e, 2),
                    Te(e, a.init(), 4);
                case 4:
                    s = [],
                    t = function(e) {
                        s.push(e)
                    }
                    ,
                    a.g.forEach(function(e) {
                        t(e.getEmeSessionCell())
                    }),
                    u = we(s),
                    l = u.next();
                case 5:
                    if (l.done) {
                        e.F(2);
                        break
                    }
                    return Te(e, (c = l.value).getAll(), 8);
                case 8:
                    return h = e.h,
                    Te(e, _m(r, i, h), 9);
                case 9:
                    return d = e.h,
                    Te(e, c.remove(d), 10);
                case 10:
                    d.length != h.length && (o = !0),
                    l = u.next(),
                    e.F(5);
                    break;
                case 2:
                    return Ce(e),
                    Te(e, a.destroy(), 11);
                case 11:
                    Me(e, 3);
                    break;
                case 3:
                    return e.return(!o)
                }
                var t
            })));
            var n, i, r, a, o, s, u, l, c, h, d
        }
        ,
        e.list = function() {
            return Jm(this, Ie(function(e) {
                switch (e.g) {
                case 1:
                    return Ym(),
                    r = [],
                    t = new vm,
                    k(e, 2),
                    Te(e, t.init(), 4);
                case 4:
                    return a = Promise.resolve(),
                    i = function(n, t) {
                        a = a.then(function() {
                            return Ie(function(e) {
                                if (1 == e.g)
                                    return Te(e, t.getAllManifests(), 2);
                                e.h.forEach(function(e, t) {
                                    e = Um(new km("manifest",n.qb,n.Ma,t), e),
                                    r.push(e)
                                }),
                                Ae(e)
                            })
                        })
                    }
                    ,
                    t.g.forEach(function(e, n) {
                        e.getCells().forEach(function(e, t) {
                            i({
                                qb: n,
                                Ma: t
                            }, e)
                        })
                    }),
                    Te(e, a, 2);
                case 2:
                    return Ce(e),
                    Te(e, t.destroy(), 6);
                case 6:
                    Me(e, 3);
                    break;
                case 3:
                    return e.return(r)
                }
                var i
            }));
            var r, t, a
        }
        ,
        n("shaka.offline.Storage", Fm),
        Fm.deleteAll = function() {
            var r;
            return Ie(function(e) {
                return 1 == e.g ? (r = new vm,
                k(e, 2),
                Te(e, (t = r,
                Ie(function(e) {
                    return 1 == e.g ? (n = Array.from(t.g.values()),
                    (i = 0 < n.length) || Tm.forEach(function(e) {
                        (e = e()) && n.push(e)
                    }),
                    Te(e, Promise.all(n.map(function(e) {
                        return e.erase()
                    })), 2)) : i ? e.F(0) : Te(e, Promise.all(n.map(function(e) {
                        return e.destroy()
                    })), 0)
                })), 2)) : 5 != e.g ? (Ce(e),
                Te(e, r.destroy(), 5)) : Me(e, 0);
                var t, n, i
            })
        }
        ,
        Fm.prototype.removeEmeSessions = Fm.prototype.fj,
        Fm.prototype.getNetworkingEngine = Fm.prototype.Zb,
        Fm.support = Gm;
        var $m = (new Map).set("org.w3.clearkey", "1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha", "edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready", "9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation", "9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software", "9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware", "9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime", "f239e769efa348509c16a903c6932efb");
        function Zm() {}
        function ev() {
            for (var e = we(nv), t = e.next(); !t.done; t = e.next()) {
                t = t.value;
                try {
                    t.callback()
                } catch (e) {
                    X("Error installing polyfill!", e)
                }
            }
        }
        function tv(e, t) {
            for (e = {
                priority: t || 0,
                callback: e
            },
            t = 0; t < nv.length; t++)
                if (nv[t].priority < e.priority)
                    return void nv.splice(t, 0, e);
            nv.push(e)
        }
        Wl.offline = Gm,
        n("shaka.polyfill", Zm),
        Zm.register = tv,
        Zm.installAll = ev;
        var nv = [];
        function iv() {
            this.g = new av
        }
        function rv() {
            z.AbortController || (z.AbortController = iv,
            z.AbortSignal = av)
        }
        function av() {
            d.call(this),
            this.h = !1,
            this.g = void 0,
            this.onabort = null
        }
        function ov() {}
        function sv() {
            if (!Object.getOwnPropertyDescriptor(Element.prototype, "ariaHidden"))
                for (var e = we(["ariaHidden", "ariaLabel", "ariaPressed", "ariaSelected"]), t = e.next(); !t.done; t = e.next())
                    !function(e) {
                        var t = "aria-" + e.toLowerCase().replace(/^aria/, "");
                        Object.defineProperty(Element.prototype, e, {
                            get: function() {
                                return this.getAttribute(t)
                            },
                            set: function(e) {
                                null == e ? this.removeAttribute(t) : this.setAttribute(t, e)
                            }
                        })
                    }(t.value)
        }
        function uv() {}
        function lv() {
            m1()
        }
        function cv() {}
        function hv() {
            var e;
            z.Document && ((e = Element.prototype).requestFullscreen = e.requestFullscreen || e.mozRequestFullScreen || e.msRequestFullscreen || e.webkitRequestFullscreen,
            (e = Document.prototype).exitFullscreen = e.exitFullscreen || e.mozCancelFullScreen || e.msExitFullscreen || e.webkitCancelFullScreen,
            "fullscreenElement"in document || (Object.defineProperty(document, "fullscreenElement", {
                get: function() {
                    return document.mozFullScreenElement || document.msFullscreenElement || document.webkitCurrentFullScreenElement || document.webkitFullscreenElement
                }
            }),
            Object.defineProperty(document, "fullscreenEnabled", {
                get: function() {
                    return document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitFullscreenEnabled
                }
            })),
            document.addEventListener("webkitfullscreenchange", dv),
            document.addEventListener("webkitfullscreenerror", dv),
            document.addEventListener("mozfullscreenchange", dv),
            document.addEventListener("mozfullscreenerror", dv),
            document.addEventListener("MSFullscreenChange", dv),
            document.addEventListener("MSFullscreenError", dv))
        }
        function dv(e) {
            var t = e.type.replace(/^(webkit|moz|MS)/, "").toLowerCase()
              , n = document.createEvent("Event");
            n.initEvent(t, e.bubbles, e.cancelable),
            e.target.dispatchEvent(n)
        }
        function fv() {}
        function pv() {
            var e = !0;
            (e = Dn() || On("PlayStation 5") || _n() || On("Web0S") || Mn() || Pn() || On("PC=EOS") || On("Hisense") || On("VIDAA") ? !1 : e) && navigator.mediaCapabilities || (navigator.mediaCapabilities || (navigator.mediaCapabilities = {}),
            Av = navigator.mediaCapabilities,
            navigator.mediaCapabilities.decodingInfo = gv)
        }
        function gv(n) {
            var i, r, a, o, s, u, l, c;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (i = {
                        supported: !1,
                        powerEfficient: !0,
                        smooth: !0,
                        keySystemAccess: null,
                        configuration: n
                    },
                    !n)
                        return e.return(i);
                    if (l = n.video,
                    a = n.audio,
                    "media-source" == n.type) {
                        if (!xn())
                            return e.return(i);
                        var t;
                        if (l)
                            if (!(Pn() ? z.cast && cast.__platform__ && cast.__platform__.canDisplayType ? (t = l.contentType,
                            l.width && l.height && (t += "; width=" + l.width + "; height=" + l.height),
                            l.framerate && (t += "; framerate=" + l.framerate),
                            "pq" === l.transferFunction && (t += "; eotf=smpte2084"),
                            cast.__platform__.canDisplayType(t)) : ut(l.contentType) : Mn() ? (r = l.contentType,
                            l.width && l.height && (r = (r += "; width=" + l.width) + ("; height=" + l.height)),
                            l.framerate && (r += "; framerate=" + l.framerate),
                            l.bitrate && (r += "; bitrate=" + l.bitrate),
                            ut(r)) : ut(l.contentType)))
                                return e.return(i);
                        if (a && !(Pn() && a.spatialRendering ? ut(a.contentType + "; spatialRendering=true") : ut(a.contentType)))
                            return e.return(i)
                    } else {
                        if ("file" != n.type)
                            return e.return(i);
                        if (l && (r = l.contentType,
                        !In(r)) || a && (l = a.contentType,
                        !In(l)))
                            return e.return(i)
                    }
                    if (!n.keySystemConfiguration)
                        return i.supported = !0,
                        e.return(Promise.resolve(i));
                    if (a = n.keySystemConfiguration,
                    l = [],
                    o = [],
                    a.audio && (s = {
                        robustness: a.audio.robustness || "",
                        contentType: n.audio.contentType
                    },
                    Mn() && n.audio.contentType.includes('codecs="ac-3"') && (s = {
                        robustness: s.robustness,
                        contentType: 'audio/mp4; codecs="ec-3"'
                    }),
                    l.push(s)),
                    a.video && (s = {
                        robustness: a.video.robustness || "",
                        contentType: n.video.contentType
                    },
                    o.push(s)),
                    u = {
                        initDataTypes: [a.initDataType],
                        distinctiveIdentifier: a.distinctiveIdentifier,
                        persistentState: a.persistentState,
                        sessionTypes: a.sessionTypes
                    },
                    l.length && (u.audioCapabilities = l),
                    o.length && (u.videoCapabilities = o),
                    l = (n.video ? n.video.contentType : "") + "#" + (n.audio ? n.audio.contentType : "") + "#" + n.keySystemConfiguration.keySystem,
                    Ee(e, 3),
                    l in Ev) {
                        c = Ev[l],
                        e.F(5);
                        break
                    }
                    return Te(e, navigator.requestMediaKeySystemAccess(a.keySystem, [u]), 6);
                case 6:
                    c = e.h,
                    Ev[l] = c;
                case 5:
                    Se(e, 4);
                    break;
                case 3:
                    xe(e);
                case 4:
                    c && (i.supported = !0,
                    i.keySystemAccess = c);
                case 2:
                    return e.return(i)
                }
            })
        }
        iv.prototype.abort = function(e) {
            var t = this.g;
            t.h || (t.h = !0,
            t.g = e,
            void 0 === t.g && (t.g = new DOMException("signal is aborted without reason","AbortError")),
            e = new ce("abort"),
            t.onabort && t.onabort(e),
            t.dispatchEvent(e))
        }
        ,
        c.Object.defineProperties(iv.prototype, {
            signal: {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return this.g
                }
            }
        }),
        (Zm.AbortController = iv).install = rv,
        t(av, d),
        c.Object.defineProperties(av.prototype, {
            aborted: {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return this.h
                }
            },
            reason: {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return this.g
                }
            }
        }),
        tv(rv),
        tv((Zm.Aria = ov).install = sv),
        tv((Zm.EncryptionScheme = uv).install = lv, -2),
        tv((Zm.Fullscreen = cv).install = hv),
        (Zm.MediaCapabilities = fv).install = pv;
        var mv, vv, yv, bv, wv, Tv, Av = null, Ev = (fv.originalMcap = Av,
        {});
        function Sv() {}
        function xv() {
            var t, n, a, e = Un();
            z.MediaSource && (Pn() ? kv() : e ? e <= 10 ? z.MediaSource = null : e <= 12 ? (Iv(),
            n = SourceBuffer.prototype.remove,
            SourceBuffer.prototype.remove = function(e, t) {
                return n.call(this, e, t - .001)
            }
            ) : e <= 15 && Iv() : kn() ? kv() : (Rn() || Ln() || On("Tizen 4")) && (t = MediaSource.isTypeSupported,
            MediaSource.isTypeSupported = function(e) {
                return "opus" != ln(e) && t(e)
            }
            )),
            z.MediaSource && MediaSource.isTypeSupported('video/webm; codecs="vp9"') && !MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"') && (a = MediaSource.isTypeSupported,
            On("Web0S") || (MediaSource.isTypeSupported = function(e) {
                var t = e.split(/ *; */)
                  , n = t.findIndex(function(e) {
                    return e.startsWith("codecs=")
                });
                if (n < 0)
                    return a(e);
                var i = t[n].replace("codecs=", "").replace(/"/g, "").split(/\s*,\s*/)
                  , r = i.findIndex(function(e) {
                    return e.startsWith("vp09")
                });
                return 0 <= r && (i[r] = "vp9",
                t[n] = 'codecs="' + i.join(",") + '"',
                e = t.join("; ")),
                a(e)
            }
            ))
        }
        function Iv() {
            var t = MediaSource.prototype.addSourceBuffer;
            MediaSource.prototype.addSourceBuffer = function() {
                var e = t.apply(this, R.apply(0, arguments));
                return e.abort = function() {}
                ,
                e
            }
        }
        function kv() {
            var t = MediaSource.isTypeSupported;
            MediaSource.isTypeSupported = function(e) {
                return "mp2t" != e.split(";")[0].split("/")[1] && t(e)
            }
        }
        function Cv() {}
        function Mv() {
            function t() {
                switch (z.orientation) {
                case -90:
                    n.type = "landscape-secondary",
                    n.angle = 270;
                    break;
                case 0:
                    n.type = "portrait-primary",
                    n.angle = 0;
                    break;
                case 90:
                    n.type = "landscape-primary",
                    n.angle = 90;
                    break;
                case 180:
                    n.type = "portrait-secondary",
                    n.angle = 180
                }
            }
            var n;
            screen.orientation && screen.orientation.unlock || (null != screen.orientation ? (void 0 === screen.orientation.lock && (screen.orientation.lock = function() {
                return Promise.resolve()
            }
            ),
            void 0 === screen.orientation.unlock && (screen.orientation.unlock = function() {}
            )) : null != z.orientation && (n = new Lv,
            screen.orientation = n,
            t(),
            z.addEventListener("orientationchange", function() {
                t();
                var e = new ce("change");
                n.dispatchEvent(e)
            })))
        }
        function Lv() {
            d.call(this),
            this.type = "",
            this.angle = 0
        }
        function Rv() {}
        function Nv(e, t) {
            try {
                var n = new _v(e,t);
                return Promise.resolve(n)
            } catch (e) {
                return Promise.reject(e)
            }
        }
        function Pv(e) {
            var t = this.mediaKeys;
            return t && t != e && Ov(t, null),
            delete this.mediaKeys,
            (this.mediaKeys = e) ? Ov(e, this) : Promise.resolve()
        }
        function Dv(e) {
            if (yt(e = ne(e.initData)).getUint32(0, !0) + 4 != e.byteLength)
                throw new RangeError("Malformed FairPlay init data");
            e = dr(e = cr(e.subarray(4), !0));
            var t = new Event("encrypted");
            t.initDataType = "skd",
            t.initData = mt(e),
            this.dispatchEvent(t)
        }
        function _v(e, t) {
            if ((this.keySystem = e).startsWith("com.apple.fps"))
                for (t = (e = we(t)).next(); !t.done; t = e.next()) {
                    var n = t.value;
                    if ("required" == n.persistentState)
                        t = null;
                    else {
                        var i = !(t = {
                            audioCapabilities: [],
                            videoCapabilities: [],
                            persistentState: "optional",
                            distinctiveIdentifier: "optional",
                            initDataTypes: n.initDataTypes,
                            sessionTypes: ["temporary"],
                            label: n.label
                        })
                          , r = !1;
                        if (n.audioCapabilities)
                            for (var a = we(n.audioCapabilities), o = a.next(); !o.done; o = a.next())
                                (o = o.value).contentType && (i = !0,
                                WebKitMediaKeys.isTypeSupported(this.keySystem, o.contentType.split(";")[0]) && (t.audioCapabilities.push(o),
                                r = !0));
                        if (n.videoCapabilities)
                            for (o = (n = we(n.videoCapabilities)).next(); !o.done; o = n.next())
                                (a = o.value).contentType && (i = !0,
                                WebKitMediaKeys.isTypeSupported(this.keySystem, a.contentType.split(";")[0]) && (t.videoCapabilities.push(a),
                                r = !0));
                        t = (r = i ? r : WebKitMediaKeys.isTypeSupported(this.keySystem, "video/mp4")) ? t : null
                    }
                    if (t)
                        return void (this.g = t)
                }
            throw (e = Error("Unsupported keySystem")).name = "NotSupportedError",
            e.code = DOMException.NOT_SUPPORTED_ERR,
            e
        }
        function Uv(e) {
            this.h = new WebKitMediaKeys(e),
            this.g = new nr
        }
        function Ov(e, t) {
            if (e.g.ub(),
            !t)
                return Promise.resolve();
            e.g.o(t, "webkitneedkey", Dv);
            try {
                return qo(t, HTMLMediaElement.HAVE_METADATA, e.g, function() {
                    t.webkitSetMediaKeys(e.h)
                }),
                Promise.resolve()
            } catch (e) {
                return Promise.reject(e)
            }
        }
        function jv(e) {
            d.call(this),
            this.i = null,
            this.l = e,
            this.g = this.h = null,
            this.j = new nr,
            this.sessionId = "",
            this.expiration = NaN,
            this.closed = new Oi,
            this.keyStatuses = new Fv
        }
        function Bv(e, t) {
            var n = e.keyStatuses;
            n.size = null == t ? 0 : 1,
            n.g = t,
            t = new ce("keystatuseschange"),
            e.dispatchEvent(t)
        }
        function Fv() {
            this.size = 0,
            this.g = void 0
        }
        function Gv() {}
        function Vv() {
            !z.HTMLVideoElement || navigator.requestMediaKeySystemAccess && MediaKeySystemAccess.prototype.getConfiguration || (navigator.requestMediaKeySystemAccess = Kv,
            delete HTMLMediaElement.prototype.mediaKeys,
            HTMLMediaElement.prototype.mediaKeys = null,
            HTMLMediaElement.prototype.setMediaKeys = Hv,
            z.MediaKeys = zv,
            z.MediaKeySystemAccess = Xv,
            z.shakaMediaKeysPolyfill = !0)
        }
        function Kv() {
            return Promise.reject(Error("The key system specified is not supported."))
        }
        function Hv(e) {
            return null == e ? Promise.resolve() : Promise.reject(Error("MediaKeys not supported."))
        }
        function zv() {
            throw new TypeError("Illegal constructor.")
        }
        function Xv() {
            throw this.keySystem = "",
            new TypeError("Illegal constructor.")
        }
        function Wv() {}
        function qv() {
            if (!(!z.HTMLVideoElement || navigator.requestMediaKeySystemAccess && MediaKeySystemAccess.prototype.getConfiguration)) {
                if (HTMLMediaElement.prototype.webkitGenerateKeyRequest)
                    o0 = "webkit";
                else if (!HTMLMediaElement.prototype.generateKeyRequest)
                    return;
                navigator.requestMediaKeySystemAccess = Jv,
                delete HTMLMediaElement.prototype.mediaKeys,
                HTMLMediaElement.prototype.mediaKeys = null,
                HTMLMediaElement.prototype.setMediaKeys = Qv,
                z.MediaKeys = Zv,
                z.MediaKeySystemAccess = $v,
                z.shakaMediaKeysPolyfill = !0
            }
        }
        function Yv(e) {
            return o0 ? o0 + e.charAt(0).toUpperCase() + e.slice(1) : e
        }
        function Jv(e, t) {
            try {
                var n = new $v(e,t);
                return Promise.resolve(n)
            } catch (e) {
                return Promise.reject(e)
            }
        }
        function Qv(e) {
            var t = this.mediaKeys;
            return t && t != e && e0(t, null),
            delete this.mediaKeys,
            (this.mediaKeys = e) && e0(e, this),
            Promise.resolve()
        }
        function $v(e, t) {
            for (var n = !1, i = ("org.w3.clearkey" == (this.g = this.keySystem = e) && (n = !(this.g = "webkit-org.w3.clearkey")),
            !1), r = (r = document.getElementsByTagName("video")).length ? r[0] : document.createElement("video"), a = (t = we(t)).next(); !a.done; a = t.next()) {
                var o = {
                    audioCapabilities: [],
                    videoCapabilities: [],
                    persistentState: "optional",
                    distinctiveIdentifier: "optional",
                    initDataTypes: (a = a.value).initDataTypes,
                    sessionTypes: ["temporary"],
                    label: a.label
                }
                  , s = !1;
                if (a.audioCapabilities)
                    for (var u = we(a.audioCapabilities), l = u.next(); !l.done; l = u.next())
                        (l = l.value).contentType && (s = !0,
                        r.canPlayType(l.contentType.split(";")[0], this.g) && (o.audioCapabilities.push(l),
                        i = !0));
                if (a.videoCapabilities)
                    for (l = (u = we(a.videoCapabilities)).next(); !l.done; l = u.next())
                        (l = l.value).contentType && (s = !0,
                        r.canPlayType(l.contentType, this.g) && (o.videoCapabilities.push(l),
                        i = !0));
                if (s || (i = r.canPlayType("video/mp4", this.g) || r.canPlayType("video/webm", this.g)),
                "required" == a.persistentState && (n ? (o.persistentState = "required",
                o.sessionTypes = ["persistent-license"]) : i = !1),
                i)
                    return void (this.h = o)
            }
            throw n = "org.w3.clearkey" != e && "com.widevine.alpha" != e ? "Unsupported keySystem" : "None of the requested configurations were supported.",
            (e = Error(n)).name = "NotSupportedError",
            e.code = DOMException.NOT_SUPPORTED_ERR,
            e
        }
        function Zv(e) {
            this.l = e,
            this.h = null,
            this.g = new nr,
            this.i = [],
            this.j = new Map
        }
        function e0(r, e) {
            r.h = e,
            r.g.ub();
            var t = o0;
            e && (r.g.o(e, t + "needkey", function(e) {
                var t = new CustomEvent("encrypted");
                t.initDataType = "cenc",
                t.initData = mt(e.initData),
                r.h.dispatchEvent(t)
            }),
            r.g.o(e, t + "keymessage", function(e) {
                var t = t0(r, e.sessionId);
                t && (e = new ce("message",e = (new Map).set("messageType", null == t.keyStatuses.sc() ? "licenserequest" : "licenserenewal").set("message", e.message)),
                t.h && (t.h.resolve(),
                t.h = null),
                t.dispatchEvent(e))
            }),
            r.g.o(e, t + "keyadded", function(e) {
                (e = t0(r, e.sessionId)) && (r0(e, "usable"),
                e.g && e.g.resolve(),
                e.g = null)
            }),
            r.g.o(e, t + "keyerror", function(e) {
                var t, n, i = t0(r, e.sessionId);
                i && (t = Error("EME v0.1b key error"),
                (n = e.errorCode).systemCode = e.systemCode,
                t.errorCode = n,
                !e.sessionId && i.h ? (45 == e.systemCode && (t.message = "Unsupported session type."),
                i.h.reject(t),
                i.h = null) : e.sessionId && i.g ? (i.g.reject(t),
                i.g = null) : (t = e.systemCode,
                e.errorCode.code == MediaKeyError.MEDIA_KEYERR_OUTPUT ? r0(i, "output-restricted") : r0(i, 1 == t ? "expired" : "internal-error")))
            }))
        }
        function t0(e, t) {
            var n = e.j.get(t);
            return n || ((n = e.i.shift()) ? (n.sessionId = t,
            e.j.set(t, n),
            n) : null)
        }
        function n0(e, t, n) {
            d.call(this),
            this.j = e,
            this.m = !1,
            this.g = this.h = null,
            this.i = t,
            this.l = n,
            this.sessionId = "",
            this.expiration = NaN,
            this.closed = new Oi,
            this.keyStatuses = new a0
        }
        function i0(t, e, n) {
            if (t.m)
                return Promise.reject(Error("The session is already initialized."));
            t.m = !0;
            try {
                var i;
                i = "persistent-license" == t.l ? n ? ne(dr("LOAD_SESSION|" + n)) : Pr(dr("PERSISTENT|"), e) : ne(e)
            } catch (e) {
                return Promise.reject(e)
            }
            t.h = new Oi;
            var r = Yv("generateKeyRequest");
            try {
                t.j[r](t.i, i)
            } catch (e) {
                if ("InvalidStateError" != e.name)
                    return t.h = null,
                    Promise.reject(e);
                new I(function() {
                    try {
                        t.j[r](t.i, i)
                    } catch (e) {
                        t.h.reject(e),
                        t.h = null
                    }
                }
                ).S(.01)
            }
            return t.h
        }
        function r0(e, t) {
            var n = e.keyStatuses;
            n.size = null == t ? 0 : 1,
            n.g = t,
            t = new ce("keystatuseschange"),
            e.dispatchEvent(t)
        }
        function a0() {
            this.size = 0,
            this.g = void 0
        }
        fv.memoizedMediaKeySystemAccessRequests_ = Ev,
        tv(pv, -1),
        tv((Zm.MediaSource = Sv).install = xv),
        (Zm.Orientation = Cv).install = Mv,
        t(Lv, d),
        Lv.prototype.lock = function(e) {
            function t(e) {
                return screen.lockOrientation ? screen.lockOrientation(e) : screen.mozLockOrientation ? screen.mozLockOrientation(e) : !!screen.msLockOrientation && screen.msLockOrientation(e)
            }
            var n = !1;
            switch (e) {
            case "natural":
                n = t("default");
                break;
            case "any":
                n = !0,
                this.unlock();
                break;
            default:
                n = t(e)
            }
            return n ? Promise.resolve() : ((e = Error("screen.orientation.lock() is not available on this device")).name = "NotSupportedError",
            e.code = DOMException.NOT_SUPPORTED_ERR,
            Promise.reject(e))
        }
        ,
        Lv.prototype.unlock = function() {
            screen.unlockOrientation ? screen.unlockOrientation() : screen.mozUnlockOrientation ? screen.mozUnlockOrientation() : screen.msUnlockOrientation && screen.msUnlockOrientation()
        }
        ,
        tv(Mv),
        (Zm.PatchedMediaKeysApple = Rv).uninstall = function() {
            mv && (mv = !1,
            Object.defineProperty(HTMLMediaElement.prototype, "mediaKeys", vv),
            HTMLMediaElement.prototype.setMediaKeys = yv,
            z.MediaKeys = bv,
            z.MediaKeySystemAccess = wv,
            navigator.requestMediaKeySystemAccess = Tv,
            vv = Tv = yv = wv = bv = null,
            z.shakaMediaKeysPolyfill = !1)
        }
        ,
        Rv.install = function(e) {
            z.HTMLVideoElement && z.WebKitMediaKeys && (void 0 !== e && e && (mv = !0,
            vv = Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, "mediaKeys"),
            yv = HTMLMediaElement.prototype.setMediaKeys,
            bv = z.MediaKeys,
            wv = z.MediaKeySystemAccess,
            Tv = navigator.requestMediaKeySystemAccess),
            delete HTMLMediaElement.prototype.mediaKeys,
            HTMLMediaElement.prototype.mediaKeys = null,
            HTMLMediaElement.prototype.setMediaKeys = Pv,
            z.MediaKeys = Uv,
            z.MediaKeySystemAccess = _v,
            navigator.requestMediaKeySystemAccess = Nv,
            z.shakaMediaKeysPolyfill = !0)
        }
        ,
        _v.prototype.createMediaKeys = function() {
            var e = new Uv(this.keySystem);
            return Promise.resolve(e)
        }
        ,
        _v.prototype.getConfiguration = function() {
            return this.g
        }
        ,
        Uv.prototype.createSession = function(e) {
            if ("temporary" != (e = e || "temporary"))
                throw new TypeError("Session type " + e + " is unsupported on this platform.");
            return new jv(this.h)
        }
        ,
        Uv.prototype.setServerCertificate = function() {
            return Promise.resolve(!1)
        }
        ,
        Uv.prototype.getStatusForPolicy = function() {
            return Promise.resolve("usable")
        }
        ,
        t(jv, d),
        (e = jv.prototype).generateRequest = function(e, t) {
            var n = this;
            this.h = new Oi;
            try {
                var i = this.l.createSession("video/mp4", ne(t));
                this.i = i,
                this.sessionId = i.sessionId || "",
                this.j.o(this.i, "webkitkeymessage", function(e) {
                    n.h && (n.h.resolve(),
                    n.h = null),
                    e = new ce("message",e = (new Map).set("messageType", null == n.keyStatuses.sc() ? "license-request" : "license-renewal").set("message", mt(e.message))),
                    n.dispatchEvent(e)
                }),
                this.j.o(i, "webkitkeyadded", function() {
                    n.g && (Bv(n, "usable"),
                    n.g.resolve(),
                    n.g = null)
                }),
                this.j.o(i, "webkitkeyerror", function() {
                    var e = Error("EME PatchedMediaKeysApple key error");
                    if (e.errorCode = n.i.error,
                    null != n.h)
                        n.h.reject(e),
                        n.h = null;
                    else if (null != n.g)
                        n.g.reject(e),
                        n.g = null;
                    else
                        switch (n.i.error.code) {
                        case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:
                        case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:
                            Bv(n, "output-not-allowed");
                            break;
                        default:
                            Bv(n, "internal-error")
                        }
                }),
                Bv(this, "status-pending")
            } catch (e) {
                this.h.reject(e)
            }
            return this.h
        }
        ,
        e.load = function() {
            return Promise.reject(Error("MediaKeySession.load not yet supported"))
        }
        ,
        e.update = function(e) {
            this.g = new Oi;
            try {
                this.i.update(ne(e))
            } catch (e) {
                this.g.reject(e)
            }
            return this.g
        }
        ,
        e.close = function() {
            try {
                this.i.close(),
                this.closed.resolve(),
                this.j.ub()
            } catch (e) {
                this.closed.reject(e)
            }
            return this.closed
        }
        ,
        e.remove = function() {
            return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))
        }
        ,
        (e = Fv.prototype).sc = function() {
            return this.g
        }
        ,
        e.forEach = function(e) {
            this.g && e(this.g, xa.value())
        }
        ,
        e.get = function(e) {
            if (this.has(e))
                return this.g
        }
        ,
        e.has = function(e) {
            var t = xa.value();
            return !(!this.g || !pt(e, t))
        }
        ,
        e.entries = function() {}
        ,
        e.keys = function() {}
        ,
        e.values = function() {}
        ,
        (Zm.PatchedMediaKeysNop = Gv).install = Vv,
        zv.prototype.createSession = function() {}
        ,
        zv.prototype.setServerCertificate = function() {}
        ,
        zv.prototype.getStatusForPolicy = function() {
            return Promise.resolve("usable")
        }
        ,
        Xv.prototype.getConfiguration = function() {}
        ,
        Xv.prototype.createMediaKeys = function() {}
        ,
        tv(Vv, -10),
        (Zm.PatchedMediaKeysWebkit = Wv).install = qv,
        $v.prototype.createMediaKeys = function() {
            var e = new Zv(this.g);
            return Promise.resolve(e)
        }
        ,
        $v.prototype.getConfiguration = function() {
            return this.h
        }
        ,
        Zv.prototype.createSession = function(e) {
            if ("temporary" != (e = e || "temporary") && "persistent-license" != e)
                throw new TypeError("Session type " + e + " is unsupported on this platform.");
            var t = this.h || document.createElement("video");
            return t.src || (t.src = "about:blank"),
            e = new n0(t,this.l,e),
            this.i.push(e),
            e
        }
        ,
        Zv.prototype.setServerCertificate = function() {
            return Promise.resolve(!1)
        }
        ,
        Zv.prototype.getStatusForPolicy = function() {
            return Promise.resolve("usable")
        }
        ,
        t(n0, d),
        (e = n0.prototype).generateRequest = function(e, t) {
            return i0(this, t, null)
        }
        ,
        e.load = function(e) {
            return "persistent-license" == this.l ? i0(this, null, e) : Promise.reject(Error("Not a persistent session."))
        }
        ,
        e.update = function(e) {
            var t = new Oi;
            return function e(t, n, i) {
                if (t.g)
                    t.g.then(function() {
                        return e(t, n, i)
                    }).catch(function() {
                        return e(t, n, i)
                    });
                else {
                    t.g = n,
                    a = "webkit-org.w3.clearkey" == t.i ? (r = lr(i),
                    "oct" != (a = JSON.parse(r)).keys[0].kty && (t.g.reject(Error("Response is not a valid JSON Web Key Set.")),
                    t.g = null),
                    r = Lr(a.keys[0].k),
                    Lr(a.keys[0].kid)) : (r = ne(i),
                    null);
                    var r, a, o = Yv("addKey");
                    try {
                        t.j[o](t.i, r, a, t.sessionId)
                    } catch (e) {
                        t.g.reject(e),
                        t.g = null
                    }
                }
            }(this, t, e),
            t
        }
        ,
        e.close = function() {
            if ("persistent-license" != this.l) {
                if (!this.sessionId)
                    return this.closed.reject(Error("The session is not callable.")),
                    this.closed;
                var e = Yv("cancelKeyRequest");
                try {
                    this.j[e](this.i, this.sessionId)
                } catch (e) {}
            }
            return this.closed.resolve(),
            this.closed
        }
        ,
        e.remove = function() {
            return "persistent-license" != this.l ? Promise.reject(Error("Not a persistent session.")) : this.close()
        }
        ,
        (e = a0.prototype).sc = function() {
            return this.g
        }
        ,
        e.forEach = function(e) {
            this.g && e(this.g, xa.value())
        }
        ,
        e.get = function(e) {
            if (this.has(e))
                return this.g
        }
        ,
        e.has = function(e) {
            var t = xa.value();
            return !(!this.g || !pt(e, t))
        }
        ,
        e.entries = function() {}
        ,
        e.keys = function() {}
        ,
        e.values = function() {}
        ;
        var o0 = "";
        function s0() {}
        function u0() {
            var e;
            !z.HTMLVideoElement || (e = HTMLVideoElement.prototype).requestPictureInPicture && document.exitPictureInPicture || !e.webkitSupportsPresentationMode || (document.pictureInPictureEnabled = !0,
            document.pictureInPictureElement = null,
            e.requestPictureInPicture = c0,
            Object.defineProperty(e, "disablePictureInPicture", {
                get: d0,
                set: f0,
                enumerable: !0,
                configurable: !0
            }),
            document.exitPictureInPicture = h0,
            document.addEventListener("webkitpresentationmodechanged", l0, !0))
        }
        function l0(e) {
            var t = "picture-in-picture" == (e = e.target).webkitPresentationMode ? (document.pictureInPictureElement = e,
            new Event("enterpictureinpicture")) : (document.pictureInPictureElement == e && (document.pictureInPictureElement = null),
            new Event("leavepictureinpicture"));
            e.dispatchEvent(t)
        }
        function c0() {
            return this.webkitSupportsPresentationMode("picture-in-picture") ? (this.webkitSetPresentationMode("picture-in-picture"),
            document.pictureInPictureElement = this,
            Promise.resolve()) : Promise.reject(Error("PiP not allowed by video element"))
        }
        function h0() {
            var e = document.pictureInPictureElement;
            return e ? (e.webkitSetPresentationMode("inline"),
            document.pictureInPictureElement = null,
            Promise.resolve()) : Promise.reject(Error("No picture in picture element found"))
        }
        function d0() {
            return !!this.hasAttribute("disablePictureInPicture") || !this.webkitSupportsPresentationMode("picture-in-picture")
        }
        function f0(e) {
            e ? this.setAttribute("disablePictureInPicture", "") : this.removeAttribute("disablePictureInPicture")
        }
        function p0() {}
        function g0() {
            !z.crypto || "randomUUID"in z.crypto || (z.crypto.randomUUID = m0)
        }
        function m0() {
            var e = URL.createObjectURL(new Blob)
              , t = e.toString();
            return URL.revokeObjectURL(e),
            t.substr(t.lastIndexOf("/") + 1)
        }
        function v0() {}
        function y0() {
            navigator.storage && navigator.storage.estimate || !navigator.webkitTemporaryStorage || !navigator.webkitTemporaryStorage.queryUsageAndQuota || ("storage"in navigator || (navigator.storage = {}),
            navigator.storage.estimate = b0)
        }
        function b0() {
            return new Promise(function(n, e) {
                navigator.webkitTemporaryStorage.queryUsageAndQuota(function(e, t) {
                    n({
                        usage: e,
                        quota: t
                    })
                }, e)
            }
            )
        }
        function w0() {}
        function T0() {
            var e = Symbol.prototype;
            "description"in e || Object.defineProperty(e, "description", {
                get: A0
            })
        }
        function A0() {
            var e = /\((.*)\)/.exec(this.toString());
            return e ? e[1] : void 0
        }
        function E0() {}
        function S0() {
            var t;
            z.HTMLMediaElement && (t = HTMLMediaElement.prototype.play,
            HTMLMediaElement.prototype.play = function() {
                var e = t.apply(this);
                return e && e.catch(function() {}),
                e
            }
            )
        }
        function x0() {}
        function I0() {
            var e;
            z.HTMLVideoElement && !(e = HTMLVideoElement.prototype).getVideoPlaybackQuality && ("webkitDroppedFrameCount"in e || Nn()) && (e.getVideoPlaybackQuality = k0)
        }
        function k0() {
            return {
                droppedVideoFrames: this.webkitDroppedFrameCount,
                totalVideoFrames: this.webkitDecodedFrameCount,
                corruptedVideoFrames: 0,
                creationTime: NaN,
                totalFrameDelay: 0
            }
        }
        function C0() {}
        function M0() {
            if (!z.VTTCue && z.TextTrackCue) {
                var i = null
                  , e = TextTrackCue.length;
                if (3 == e)
                    i = L0;
                else if (6 == e)
                    i = R0;
                else {
                    try {
                        var t = !!L0(1, 2, "")
                    } catch (e) {
                        t = !1
                    }
                    t && (i = L0)
                }
                i && (z.VTTCue = function(e, t, n) {
                    return i(e, t, n)
                }
                )
            }
        }
        function L0(e, t, n) {
            return new z.TextTrackCue(e,t,n)
        }
        function R0(e, t, n) {
            return new z.TextTrackCue(e + "-" + t + "-" + n,e,t,n)
        }
        function N0() {}
        tv(qv),
        tv((Zm.PiPWebkit = s0).install = u0),
        tv((Zm.RandomUUID = p0).install = g0),
        tv((Zm.StorageEstimate = v0).install = y0),
        tv((Zm.Symbol = w0).install = T0),
        tv((Zm.VideoPlayPromise = E0).install = S0),
        tv((Zm.VideoPlaybackQuality = x0).install = I0),
        tv((Zm.VTTCue = C0).install = M0),
        N0.prototype.parseInit = function() {}
        ,
        N0.prototype.setSequenceMode = function() {}
        ,
        N0.prototype.setManifestType = function() {}
        ,
        N0.prototype.parseMedia = function(e, t) {
            for (var n, i = null, r = [], a = (e = we(e = lr(e).split(/\r?\n/))).next(); !a.done; a = e.next())
                (a = a.value) && !/^\s+$/.test(a) && (a = P0.exec(a)) && (n = D0.exec(a[1]),
                a = new Ct(n = 60 * parseInt(n[1], 10) + parseFloat(n[2].replace(",", ".")),t.segmentEnd || n + 2,a[2]),
                i && (i.endTime = n,
                r.push(i)),
                i = a);
            return i && r.push(i),
            r
        }
        ,
        n("shaka.text.LrcTextParser", N0);
        var P0 = /^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/
          , D0 = /^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;
        function _0() {}
        function U0(e, t, n, i, r, a, o, s) {
            if ("rtl" == j0(t, n, a, "direction", o = o || s) && (e.direction = "rtl"),
            "tb" == (s = j0(t, n, a, "writingMode", o)) || "tblr" == s ? e.writingMode = "vertical-lr" : "tbrl" == s ? e.writingMode = "vertical-rl" : "rltb" == s || "rl" == s ? e.direction = "rtl" : s && (e.direction = Ut),
            (s = j0(t, n, a, "textAlign", !0)) ? (e.positionAlign = ay[s],
            e.lineAlign = ry[s],
            e.textAlign = Pt[s.toUpperCase()]) : e.textAlign = Nt,
            (s = j0(t, n, a, "displayAlign", !0)) && (e.displayAlign = _t[s.toUpperCase()]),
            (s = j0(t, n, a, "color", o)) && (e.color = s),
            (s = j0(t, n, a, "backgroundColor", o)) && (e.backgroundColor = s),
            (s = j0(t, n, a, "border", o)) && (e.border = s),
            s = j0(t, n, a, "fontFamily", o))
                switch (s) {
                case "monospaceSerif":
                    e.fontFamily = "Courier New,Liberation Mono,Courier,monospace";
                    break;
                case "proportionalSansSerif":
                    e.fontFamily = "Arial,Helvetica,Liberation Sans,sans-serif";
                    break;
                case "sansSerif":
                    e.fontFamily = "sans-serif";
                    break;
                case "monospaceSansSerif":
                    e.fontFamily = "Consolas,monospace";
                    break;
                case "proportionalSerif":
                    e.fontFamily = "serif";
                    break;
                default:
                    e.fontFamily = s
                }
            switch ((s = j0(t, n, a, "fontWeight", o)) && "bold" == s && (e.fontWeight = 700),
            s = j0(t, n, a, "wrapOption", o),
            e.wrapLine = !s || "noWrap" != s,
            (s = j0(t, n, a, "lineHeight", o)) && s.match(J0) && (e.lineHeight = s),
            (s = j0(t, n, a, "fontSize", o)) && (s.match(J0) || s.match(Y0)) && (e.fontSize = s),
            (s = j0(t, n, a, "fontStyle", o)) && (e.fontStyle = zt[s.toUpperCase()]),
            i ? (r = i.getAttribute("imageType") || i.getAttribute("imagetype"),
            s = i.getAttribute("encoding"),
            i = i.textContent.trim(),
            "PNG" == r && "Base64" == s && i && (e.backgroundImage = "data:image/png;base64," + i)) : r && (e.backgroundImage = r),
            (i = j0(t, n, a, "textOutline", o)) && ((i = i.split(" "))[0].match(J0) ? e.textStrokeColor = e.color : (e.textStrokeColor = i[0],
            i.shift()),
            i[0] && i[0].match(J0) ? e.textStrokeWidth = i[0] : e.textStrokeColor = ""),
            (i = j0(t, n, a, "letterSpacing", o)) && i.match(J0) && (e.letterSpacing = i),
            (i = j0(t, n, a, "linePadding", o)) && i.match(J0) && (e.linePadding = i),
            (i = j0(t, n, a, "opacity", o)) && (e.opacity = parseFloat(i)),
            (i = B0(n, a, "textDecoration")) && O0(e, i),
            (i = F0(t, a, "textDecoration")) && O0(e, i),
            (i = j0(t, n, a, "textCombine", o)) && (e.textCombineUpright = i),
            j0(t, n, a, "ruby", o)) {
            case "container":
                e.rubyTag = "ruby";
                break;
            case "text":
                e.rubyTag = "rt"
            }
        }
        function O0(e, t) {
            for (var n = (t = we(t.split(" "))).next(); !n.done; n = t.next())
                switch (n.value) {
                case "underline":
                    e.textDecoration.includes("underline") || e.textDecoration.push("underline");
                    break;
                case "noUnderline":
                    e.textDecoration.includes("underline") && xt(e.textDecoration, "underline");
                    break;
                case "lineThrough":
                    e.textDecoration.includes("lineThrough") || e.textDecoration.push("lineThrough");
                    break;
                case "noLineThrough":
                    e.textDecoration.includes("lineThrough") && xt(e.textDecoration, "lineThrough");
                    break;
                case "overline":
                    e.textDecoration.includes("overline") || e.textDecoration.push("overline");
                    break;
                case "noOverline":
                    e.textDecoration.includes("overline") && xt(e.textDecoration, "overline")
                }
        }
        function j0(e, t, n, i, r) {
            return r = void 0 === r || r,
            (e = F0(e, n, i)) ? e : r ? B0(t, n, i) : null
        }
        function B0(e, t, n) {
            if (!e)
                return null;
            var i = Gr(e, sy, n);
            return i || G0(e, t, n)
        }
        function F0(e, t, n) {
            var i = Gr(e, sy, n);
            return i || G0(e, t, n)
        }
        function G0(e, t, n) {
            e = V0(e, "style", t, "");
            for (var i = null, r = 0; r < e.length; r++) {
                var a = Fr(e[r], "urn:ebu:tt:style", n);
                (a = (a = a || Gr(e[r], sy, n)) || F0(e[r], t, n)) && (i = a)
            }
            return i
        }
        function V0(e, t, n, i, r) {
            var a = [];
            if (!e || n.length < 1)
                return a;
            var o = e;
            for (e = null; o && !(e = r ? Fr(o, r, t) : o.getAttribute(t)) && (o = o.parentNode)instanceof Element; )
                ;
            if (t = e)
                for (r = (t = we(t.split(" "))).next(); !r.done; r = t.next())
                    for (r = r.value,
                    o = (e = we(n)).next(); !o.done; o = e.next())
                        if (i + (o = o.value).getAttribute("xml:id") == r) {
                            a.push(o);
                            break
                        }
            return a
        }
        function K0(e, t, n, i) {
            return e = H0(e, t),
            null == n ? n = e.start : null != e.start && (n += e.start),
            null == i ? i = e.end : null != e.start && (i += e.start),
            {
                start: n,
                end: i
            }
        }
        function H0(e, t) {
            var n = z0(e.getAttribute("begin"), t)
              , i = z0(e.getAttribute("end"), t);
            return e = z0(e.getAttribute("dur"), t),
            {
                start: n,
                end: i = null == i && null != e ? n + e : i
            }
        }
        function z0(e, t) {
            var n = null;
            if ($0.test(e)) {
                e = $0.exec(e);
                var n = Number(e[1])
                  , i = Number(e[2])
                  , r = Number(e[3])
                  , a = Number(e[4]);
                n = (r += (a += (Number(e[5]) || 0) / t.h) / t.frameRate) + 60 * i + 3600 * n
            } else if (Z0.test(e))
                n = X0(Z0, e);
            else if (ey.test(e))
                n = X0(ey, e);
            else if (ty.test(e))
                e = ty.exec(e),
                n = Number(e[1]) / t.frameRate;
            else if (ny.test(e))
                e = ny.exec(e),
                n = Number(e[1]) / t.g;
            else if (iy.test(e))
                n = X0(iy, e);
            else if (e)
                throw new ke(2,2,2001,"Could not parse cue time range in TTML");
            return n
        }
        function X0(e, t) {
            return null == (e = e.exec(t)) || "" == e[0] ? null : (Number(e[4]) || 0) / 1e3 + (Number(e[3]) || 0) + 60 * (Number(e[2]) || 0) + 3600 * (Number(e[1]) || 0)
        }
        function W0(e, t, n, i) {
            this.frameRate = Number(e) || 30,
            this.h = Number(t) || 1,
            this.g = Number(i),
            0 == this.g && (this.g = e ? this.frameRate * this.h : 1),
            n && (e = /^(\d+) (\d+)$/g.exec(n)) && (this.frameRate *= Number(e[1]) / Number(e[2]))
        }
        yn["application/x-subtitle-lrc"] = function() {
            return new N0
        }
        ,
        _0.prototype.parseInit = function() {}
        ,
        _0.prototype.setSequenceMode = function() {}
        ,
        _0.prototype.setManifestType = function() {}
        ,
        _0.prototype.parseMedia = function(e, t, n) {
            var i = lr(e);
            if (e = [],
            "" == i)
                return e;
            var r = Zr(i, "tt");
            if (!r)
                throw new ke(2,2,2005,"Failed to parse TTML.");
            if (!(i = r.getElementsByTagName("body")[0]))
                return [];
            var a, o = Gr(r, oy, "frameRate"), s = Gr(r, oy, "subFrameRate"), u = Gr(r, oy, "frameRateMultiplier"), l = Gr(r, oy, "tickRate"), c = Gr(r, oy, "cellResolution"), h = r.getAttribute("xml:space") || "default", d = Gr(r, sy, "extent");
            if ("default" != h && "preserve" != h)
                throw new ke(2,2,2005,"Invalid xml:space value: " + h);
            for (var h = "default" == h, o = new W0(o,s,u,l), c = (c = c && /^(\d+) (\d+)$/.exec(c)) ? {
                mc: parseInt(c[1], 10),
                rows: parseInt(c[2], 10)
            } : null, s = (s = r.getElementsByTagName("metadata")[0]) ? (a = s,
            Array.from(a.childNodes).filter(function(e) {
                return e instanceof Element
            })) : [], u = Array.from(r.getElementsByTagName("style")), l = [], f = we(r = Array.from(r.getElementsByTagName("region"))), p = f.next(); !p.done; p = f.next()) {
                var g, m, v, y, b = p.value, p = new Xt, w = b.getAttribute("xml:id");
                w ? (p.id = w,
                g = null,
                w = (g = d ? q0.exec(d) || Q0.exec(d) : g) ? Number(g[1]) : null,
                g = g ? Number(g[2]) : null,
                (v = B0(b, u, "extent")) && null != (y = (m = q0.exec(v)) || Q0.exec(v)) && (p.width = Number(y[1]),
                p.height = Number(y[2]),
                m || (null != w && (p.width = 100 * p.width / w),
                null != g && (p.height = 100 * p.height / g)),
                p.widthUnits = m || null != w ? Wt : 0,
                p.heightUnits = m || null != g ? Wt : 0),
                (b = B0(b, u, "origin")) && null != (y = (m = q0.exec(b)) || Q0.exec(b)) && (p.viewportAnchorX = Number(y[1]),
                p.viewportAnchorY = Number(y[2]),
                m ? v || (p.width = 100 - p.viewportAnchorX,
                p.widthUnits = Wt,
                p.height = 100 - p.viewportAnchorY,
                p.heightUnits = Wt) : (null != g && (p.viewportAnchorY = 100 * p.viewportAnchorY / g),
                null != w && (p.viewportAnchorX = 100 * p.viewportAnchorX / w)),
                p.viewportAnchorUnits = m || null != w ? Wt : 0)) : p = null,
                p && l.push(p)
            }
            if (jr(i, "p").length)
                throw new ke(2,2,2001,"<p> can only be inside <div> in TTML");
            for (f = (d = we(jr(i, "div"))).next(); !f.done; f = d.next())
                if (jr(f.value, "span").length)
                    throw new ke(2,2,2001,"<span> can only be inside <p> in TTML");
            return (t = function e(t, n, i, r, a, o, s, u, l, c, h, d) {
                var f = t.parentNode;
                if (t.nodeType == Node.COMMENT_NODE)
                    return null;
                if (t.nodeType == Node.TEXT_NODE) {
                    if (!h)
                        return null;
                    var p = document.createElement("span");
                    p.textContent = t.textContent
                } else
                    p = t;
                for (var g = null, m = we(uy), v = m.next(); !v.done && !(g = V0(p, "backgroundImage", r, "#", v.value)[0]); v = m.next())
                    ;
                m = null;
                var y = Gr(p, uy, "backgroundImage");
                d && y && !y.startsWith("#") && (v = new ge(d),
                y = new ge(y),
                (v = v.resolve(y).toString()) && (m = v));
                ("p" == t.nodeName || g || m) && (h = !0);
                t = h;
                v = "default" == (p.getAttribute("xml:space") || (u ? "default" : "preserve"));
                y = Array.from(p.childNodes).every(function(e) {
                    return e.nodeType == Node.TEXT_NODE
                });
                u = [];
                if (!y)
                    for (var b = we(p.childNodes), w = b.next(); !w.done; w = b.next())
                        (w = e(w.value, n, i, r, a, o, s, v, l, p, h, d)) && u.push(w);
                r = null != c;
                d = /\S/.test(p.textContent);
                w = p.hasAttribute("begin") || p.hasAttribute("end") || p.hasAttribute("dur");
                if (!(w || d || "br" == p.tagName || 0 != u.length || r && !v))
                    return null;
                b = H0(p, i);
                d = b.start;
                for (b = b.end; f && f.nodeType == Node.ELEMENT_NODE && "tt" != f.tagName; )
                    b = K0(f, i, d, b),
                    d = b.start,
                    b = b.end,
                    f = f.parentNode;
                null == d && (d = 0);
                d += n.periodStart;
                b = null == b ? 1 / 0 : b + n.periodStart;
                d = Math.max(d, n.segmentStart);
                b = Math.min(b, n.segmentEnd);
                if (!w && 0 < u.length)
                    for (d = 1 / 0,
                    b = 0,
                    n = we(u),
                    i = n.next(); !i.done; i = n.next())
                        i = i.value,
                        d = Math.min(d, i.startTime),
                        b = Math.max(b, i.endTime);
                if ("br" == p.tagName)
                    return a = new Ct(d,b,""),
                    a.lineBreak = !0,
                    a;
                n = "";
                y && (n = p.textContent,
                v && (n = n.trim(),
                n = n.replace(/\s+/g, " ")));
                n = new Ct(d,b,n);
                n.nestedCues = u;
                h || (n.isContainer = !0);
                l && (n.cellResolution = l);
                l = V0(p, "region", o, "")[0];
                {
                    var T;
                    p.hasAttribute("region") && l && l.getAttribute("xml:id") && (T = l.getAttribute("xml:id"),
                    n.region = s.filter(function(e) {
                        return e.id == T
                    })[0])
                }
                s = l;
                c && r && !p.getAttribute("region") && !p.getAttribute("style") && (s = V0(c, "region", o, "")[0]);
                U0(n, p, s, g, m, a, t, 0 == u.length);
                return n
            }(i, t, o, s, u, r, l, h, c, null, !1, n)) && (t.backgroundColor || (t.backgroundColor = "transparent"),
            e.push(t)),
            e
        }
        ,
        n("shaka.text.TtmlTextParser", _0);
        var q0 = /^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/
          , Y0 = /^(\d{1,2}(?:\.\d+)?|100)%$/
          , J0 = /^(\d+px|\d+em|\d*\.?\d+c)$/
          , Q0 = /^(\d+)px (\d+)px$/
          , $0 = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/
          , Z0 = /^(?:(\d{2,}):)?(\d{2}):(\d{2})$/
          , ey = /^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/
          , ty = /^(\d*(?:\.\d*)?)f$/
          , ny = /^(\d*(?:\.\d*)?)t$/
          , iy = RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$")
          , ry = {
            left: Bt,
            center: "center",
            right: "end",
            start: Bt,
            end: "end"
        }
          , ay = {
            left: "line-left",
            center: "center",
            right: "line-right"
        }
          , oy = ["http://www.w3.org/ns/ttml#parameter", "http://www.w3.org/2006/10/ttaf1#parameter"]
          , sy = ["http://www.w3.org/ns/ttml#styling", "http://www.w3.org/2006/10/ttaf1#styling"]
          , uy = ["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt", "http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];
        function ly() {
            this.g = new _0
        }
        function cy() {
            this.h = !1,
            this.g = "UNKNOWN"
        }
        function hy(e) {
            for (var t = we(Object.entries(Gt)), n = t.next(); !n.done; n = t.next()) {
                var n = (i = we(n.value)).next().value
                  , i = i.next().value
                  , r = new Ct(0,0,"");
                r.color = i,
                e.set("." + n, r)
            }
            for (n = (t = we(Object.entries(Vt))).next(); !n.done; n = t.next())
                n = (i = we(n.value)).next().value,
                i = i.next().value,
                (r = new Ct(0,0,"")).backgroundColor = i,
                e.set("." + n, r)
        }
        function dy(e, t, n) {
            if (e.includes("<")) {
                0 === n.size && hy(n);
                e: {
                    for (var i = [], r = -1, a = "", o = 0; o < e.length; o++)
                        if ("/" === e[o] && 0 < o && "<" === e[o - 1]) {
                            var s, u = e.indexOf(">", o);
                            if (u <= o)
                                break e;
                            (u = e.substring(o + 1, u)) && "c" === u && (s = i.pop()) ? s === u ? (a += "/" + u + ">",
                            o += u.length + 1) : s.startsWith("c.") ? (o += u.length + 1,
                            a += "/" + s + ">") : a += e[o] : a += e[o]
                        } else
                            "<" === e[o] ? "c" != e[r = o + 1] && (r = -1) : ">" === e[o] && 0 < r && (i.push(e.substr(r, o - r)),
                            r = -1),
                            a += e[o];
                    e = a
                }
                for (i = e,
                e = [],
                a = -1,
                r = 0; r < i.length; r++)
                    "<" === i[r] ? a = r + 1 : ">" === i[r] && 0 < a && ((a = i.substr(a, r - a)).match(vy) && e.push(a),
                    a = -1);
                for (r = (e = we(e)).next(); !r.done; r = e.next())
                    r = r.value,
                    i = i.replace("<" + r + ">", '<div time="' + r + '">'),
                    i += "</div>";
                e: {
                    for (r = e = i,
                    a = [],
                    e = "",
                    i = !(o = -1),
                    u = 0; u < r.length; u++)
                        if ("/" === r[u]) {
                            if (-1 === (s = r.indexOf(">", u))) {
                                e = r;
                                break e
                            }
                            if ((s = r.substring(u + 1, s)) && "v" == s) {
                                var i = !0
                                  , l = null;
                                if (l = a.length ? a[a.length - 1] : l) {
                                    if (l === s)
                                        e += "/" + s + ">";
                                    else {
                                        if (!l.startsWith("v")) {
                                            e += r[u];
                                            continue
                                        }
                                        e += "/" + l + ">"
                                    }
                                    u += s.length + 1
                                } else
                                    e += r[u]
                            } else
                                e += r[u]
                        } else
                            "<" === r[u] ? "v" != r[o = u + 1] && (o = -1) : ">" === r[u] && 0 < o && (a.push(r.substr(o, u - o)),
                            o = -1),
                            e += r[u];
                    for (a = (r = we(a)).next(); !a.done; a = r.next())
                        o = (a = a.value).replace(" ", ".voice-"),
                        e = (e = e.replace("<" + a + ">", "<" + o + ">")).replace("</" + a + ">", "</" + o + ">"),
                        i || (e += "</" + o + ">")
                }
                if (i = Zr("<span>" + e + "</span>", "span"))
                    if (1 == (i = i.childNodes).length && ((r = i[0]).nodeType == Node.TEXT_NODE || r.nodeType == Node.CDATA_SECTION_NODE))
                        t.payload = my(e);
                    else
                        for (i = (e = we(i)).next(); !i.done; i = e.next())
                            !function e(t, n, i) {
                                var r = n.clone();
                                r.nestedCues = [];
                                r.payload = "";
                                r.rubyTag = "";
                                r.line = null;
                                r.region = new Xt;
                                r.position = null;
                                r.size = 0;
                                if (t.nodeType === Node.ELEMENT_NODE && t.nodeName)
                                    for (var a = we(t.nodeName.split(/(?=[ .])+/g)), o = a.next(); !o.done; o = a.next()) {
                                        var s, u = o = o.value;
                                        switch (u.startsWith(".voice-") && (u = 'v[voice="' + (s = u.split("-").pop()) + '"]',
                                        i.has(u) || (u = "v[voice=" + s + "]")),
                                        i.has(u) && (u = i.get(u)) && (r.backgroundColor = fy(u.backgroundColor, r.backgroundColor),
                                        r.color = fy(u.color, r.color),
                                        r.fontFamily = fy(u.fontFamily, r.fontFamily),
                                        r.fontSize = fy(u.fontSize, r.fontSize),
                                        r.textShadow = fy(u.textShadow, r.textShadow),
                                        r.fontWeight = u.fontWeight,
                                        r.fontStyle = u.fontStyle,
                                        r.opacity = u.opacity,
                                        r.rubyTag = u.rubyTag,
                                        r.textCombineUpright = u.textCombineUpright,
                                        r.wrapLine = u.wrapLine),
                                        o) {
                                        case "br":
                                            return r = Mt(r.startTime, r.endTime),
                                            void n.nestedCues.push(r);
                                        case "b":
                                            r.fontWeight = 700;
                                            break;
                                        case "i":
                                            r.fontStyle = "italic";
                                            break;
                                        case "u":
                                            r.textDecoration.push("underline");
                                            break;
                                        case "font":
                                            (o = t.getAttribute("color")) && (r.color = o);
                                            break;
                                        case "div":
                                            if (!(o = t.getAttribute("time")))
                                                break;
                                            (o = gy(new cp(o))) && (r.startTime = o);
                                            break;
                                        case "ruby":
                                        case "rp":
                                        case "rt":
                                            r.rubyTag = o
                                        }
                                    }
                                a = t.childNodes;
                                if (Kr(t) || 1 == a.length && Kr(a[0]))
                                    for (a = !0,
                                    i = we(t.textContent.split("\n")),
                                    t = i.next(); !t.done; t = i.next())
                                        t = t.value,
                                        a || (a = Mt(r.startTime, r.endTime),
                                        n.nestedCues.push(a)),
                                        0 < t.length && (a = r.clone(),
                                        a.payload = my(t),
                                        n.nestedCues.push(a)),
                                        a = !1;
                                else
                                    for (n.nestedCues.push(r),
                                    n = we(a),
                                    t = n.next(); !t.done; t = n.next())
                                        e(t.value, r, i)
                            }(i.value, t, n);
                else
                    t.payload = my(e)
            } else
                t.payload = my(e)
        }
        function fy(e, t) {
            return e && 0 < e.length ? e : t
        }
        function py(e, t, n) {
            var i, r, a;
            (i = /^align:(start|middle|center|end|left|right)$/.exec(t)) ? (t = i[1],
            e.textAlign = "middle" == t ? Nt : Pt[t.toUpperCase()]) : (i = /^vertical:(lr|rl)$/.exec(t)) ? e.writingMode = "lr" == i[1] ? "vertical-lr" : "vertical-rl" : (i = /^size:([\d.]+)%$/.exec(t)) ? e.size = Number(i[1]) : (i = /^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t)) ? (e.position = Number(i[1]),
            i[2] && (t = i[2],
            e.positionAlign = "line-left" == t || "start" == t ? "line-left" : "line-right" == t || "end" == t ? "line-right" : "center" == t || "middle" == t ? "center" : Rt)) : (i = /^region:(.*)$/.exec(t)) ? (r = n,
            a = i[1],
            (t = (r = r.filter(function(e) {
                return e.id == a
            })).length ? r[0] : null) && (e.region = t)) : (n = /^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t)) ? (e.lineInterpretation = 1,
            e.line = Number(n[1]),
            n[2] && (e.lineAlign = Ft[n[2].toUpperCase()])) : (n = /^line:(-?\d+)(?:,(start|end|center))?$/.exec(t)) && (e.lineInterpretation = jt,
            e.line = Number(n[1]),
            n[2] && (e.lineAlign = Ft[n[2].toUpperCase()]))
        }
        function gy(e) {
            if (null == (e = dp(e, vy)))
                return null;
            var t = Number(e[2])
              , n = Number(e[3]);
            return 59 < t || 59 < n ? null : Number(e[4]) / 1e3 + n + 60 * t + 3600 * (Number(e[1]) || 0)
        }
        function my(e) {
            var t = {
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'",
                "&nbsp;": " ",
                "&lrm;": "‎",
                "&rlm;": "‏"
            }
              , n = /&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g
              , i = RegExp(n.source);
            return e && i.test(e) ? e.replace(n, function(e) {
                return t[e] || "'"
            }) : e || ""
        }
        yn["application/ttml+xml"] = function() {
            return new _0
        }
        ,
        ly.prototype.parseInit = function(e) {
            var t = !1;
            if ((new yr).box("moov", D).box("trak", D).box("mdia", D).box("minf", D).box("stbl", D).T("stsd", br).box("stpp", function(e) {
                t = !0,
                e.parser.stop()
            }).parse(e),
            !t)
                throw new ke(2,2,2007)
        }
        ,
        ly.prototype.setSequenceMode = function() {}
        ,
        ly.prototype.setManifestType = function() {}
        ,
        ly.prototype.parseMedia = function(e, t, n) {
            var i = this
              , r = !1
              , a = [];
            if ((new yr).box("mdat", Tr(function(e) {
                r = !0,
                a = a.concat(i.g.parseMedia(e, t, n))
            })).parse(e, !1),
            r)
                return a;
            throw new ke(2,2,2007)
        }
        ,
        n("shaka.text.Mp4TtmlParser", ly),
        yn['application/mp4; codecs="stpp"'] = function() {
            return new ly
        }
        ,
        yn['application/mp4; codecs="stpp.ttml"'] = function() {
            return new ly
        }
        ,
        yn['application/mp4; codecs="stpp.ttml.im1t"'] = function() {
            return new ly
        }
        ,
        yn['application/mp4; codecs="stpp.TTML.im1t"'] = function() {
            return new ly
        }
        ,
        cy.prototype.parseInit = function() {}
        ,
        cy.prototype.setSequenceMode = function(e) {
            this.h = e
        }
        ,
        cy.prototype.setManifestType = function(e) {
            this.g = e
        }
        ,
        cy.prototype.parseMedia = function(e, t) {
            var n = (e = (e = lr(e)).replace(/\r\n|\r(?=[^\n]|$)/gm, "\n")).split(/\n{2,}/m);
            if (!/^WEBVTT($|[ \t\n])/m.test(n[0]))
                throw new ke(2,2,2e3);
            if (e = t.vttOffset,
            n[0].includes("X-TIMESTAMP-MAP") && this.h) {
                var i = n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m)
                  , r = n[0].match(/MPEGTS:(\d+)/m);
                if (i && r) {
                    if (null == (e = gy(new cp(i[1]))))
                        throw new ke(2,2,2e3);
                    for (r = Number(r[1]),
                    i = t.segmentStart - t.periodStart; 95443.7176888889 <= i; )
                        i -= 95443.7176888889,
                        r += 8589934592;
                    e = t.periodStart + r / 9e4 - e
                }
            } else
                n[0].includes("X-TIMESTAMP-MAP") && "HLS" == this.g && (e = t.segmentStart);
            for (t = [],
            i = (r = we(n[0].split("\n"))).next(); !i.done; i = r.next())
                if (i = i.value,
                /^Region:/.test(i)) {
                    var i = new cp(i)
                      , a = new Xt;
                    fp(i),
                    hp(i);
                    for (var o = fp(i); o; ) {
                        var s = a
                          , u = o;
                        (o = /^id=(.*)$/.exec(u)) ? s.id = o[1] : (o = /^width=(\d{1,2}|100)%$/.exec(u)) ? s.width = Number(o[1]) : (o = /^lines=(\d+)$/.exec(u)) ? (s.height = Number(o[1]),
                        s.heightUnits = 2) : (o = /^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u)) ? (s.regionAnchorX = Number(o[1]),
                        s.regionAnchorY = Number(o[2])) : (o = /^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u)) ? (s.viewportAnchorX = Number(o[1]),
                        s.viewportAnchorY = Number(o[2])) : /^scroll=up$/.exec(u) && (s.scroll = "up"),
                        hp(i),
                        o = fp(i)
                    }
                    t.push(a)
                }
            for (hy(r = new Map),
            i = [],
            a = (n = we(n.slice(1))).next(); !a.done; a = n.next()) {
                if ((1 != (a = a.value.split("\n")).length || a[0]) && !/^NOTE($|[ \t])/.test(a[0]) && "STYLE" == a[0]) {
                    for (s = [],
                    o = -1,
                    u = 1; u < a.length; u++)
                        a[u].includes("::cue") && (s.push([]),
                        o = s.length - 1),
                        -1 != o && (s[o].push(a[u]),
                        a[u].includes("}") && (o = -1));
                    for (o = (s = we(s)).next(); !o.done; o = s.next()) {
                        var l = o.value
                          , o = "global";
                        (u = l[0].match(/\((.*)\)/)) && (o = u.pop()),
                        u = l.slice(1, -1),
                        l[0].includes("}") && (l = /\{(.*?)\}/.exec(l[0])) && (u = l[1].split(";")),
                        (l = r.get(o)) || (l = new Ct(0,0,""));
                        for (var c = !1, h = 0; h < u.length; h++) {
                            var d = /^\s*([^:]+):\s*(.*)/.exec(u[h]);
                            if (d) {
                                var f = d[2].trim().replace(";", "");
                                switch (d[1].trim()) {
                                case "background-color":
                                case "background":
                                    c = !0,
                                    l.backgroundColor = f;
                                    break;
                                case "color":
                                    c = !0,
                                    l.color = f;
                                    break;
                                case "font-family":
                                    c = !0,
                                    l.fontFamily = f;
                                    break;
                                case "font-size":
                                    c = !0,
                                    l.fontSize = f;
                                    break;
                                case "font-weight":
                                    (700 <= parseInt(f, 10) || "bold" == f) && (c = !0,
                                    l.fontWeight = 700);
                                    break;
                                case "font-style":
                                    switch (f) {
                                    case "normal":
                                        c = !0,
                                        l.fontStyle = Ht;
                                        break;
                                    case "italic":
                                        c = !0,
                                        l.fontStyle = "italic";
                                        break;
                                    case "oblique":
                                        c = !0,
                                        l.fontStyle = "oblique"
                                    }
                                    break;
                                case "opacity":
                                    c = !0,
                                    l.opacity = parseFloat(f);
                                    break;
                                case "text-combine-upright":
                                    c = !0,
                                    l.textCombineUpright = f;
                                    break;
                                case "text-shadow":
                                    c = !0,
                                    l.textShadow = f;
                                    break;
                                case "white-space":
                                    c = !0,
                                    l.wrapLine = "noWrap" != f
                                }
                            }
                        }
                        c && r.set(o, l)
                    }
                }
                if (c = e,
                1 == a.length && !a[0] || /^NOTE($|[ \t])/.test(a[0]) || "STYLE" == a[0] || "REGION" == a[0])
                    a = null;
                else if (s = null,
                a[0].includes("--\x3e") || (s = a[0],
                a.splice(0, 1)),
                u = gy(o = new cp(a[0])),
                h = dp(o, /[ \t]+--\x3e[ \t]+/g),
                l = gy(o),
                null == u || null == h || null == l)
                    X("Failed to parse VTT time code. Cue skipped:", s, a),
                    a = null;
                else {
                    for (u += c,
                    l += c,
                    a = a.slice(1).join("\n").trim(),
                    r.has("global") ? ((c = r.get("global").clone()).startTime = u,
                    c.endTime = l,
                    c.payload = "") : c = new Ct(u,l,""),
                    hp(o),
                    u = fp(o); u; )
                        py(c, u, t),
                        hp(o),
                        u = fp(o);
                    dy(a, c, r),
                    null != s && (c.id = s),
                    a = c
                }
                a && i.push(a)
            }
            return i
        }
        ,
        n("shaka.text.VttTextParser", cy);
        var vy = /(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;
        function yy() {
            this.g = null
        }
        function by() {}
        function wy(e) {
            if (null == (e = dp(e, /(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))
                return null;
            var t = Number(e[2])
              , n = Number(e[3]);
            return 59 < t || 59 < n ? null : Number(e[4]) / 1e3 + n + 60 * t + 3600 * (Number(e[1]) || 0)
        }
        function Ty() {
            this.g = new cy
        }
        function Ay(e) {
            var t = "WEBVTT\n\n";
            if ("" == e)
                return t;
            for (var n = (e = we((e = (e = e.replace(/\r+/g, "")).trim()).split("\n\n"))).next(); !n.done; n = e.next())
                (n = n.value.split(/\n/))[0].match(/\d+/) && n.shift(),
                n[0] = n[0].replace(/,/g, "."),
                t += n.join("\n").replace(/{b}/g, "<b>").replace(/{\/b}/g, "</b>").replace(/{i}/g, "<i>").replace(/{\/i}/g, "</i>").replace(/{u}/g, "<u>").replace(/{\/u}/g, "</u>") + "\n\n";
            return t
        }
        function Ey() {}
        function Sy(e) {
            return 0 <= (e = parseInt(e.replace("&H", ""), 16)) ? "rgba(" + (255 & e) + "," + (e >> 8 & 255) + "," + (e >> 16 & 255) + "," + (e >> 24 & 255 ^ 255) / 255 + ")" : null
        }
        function xy(e) {
            return 3600 * ((e = My.exec(e))[1] ? parseInt(e[1].replace(":", ""), 10) : 0) + 60 * parseInt(e[2], 10) + parseFloat(e[3])
        }
        yn["text/vtt"] = function() {
            return new cy
        }
        ,
        yn['text/vtt; codecs="vtt"'] = function() {
            return new cy
        }
        ,
        yn['text/vtt; codecs="wvtt"'] = function() {
            return new cy
        }
        ,
        yy.prototype.parseInit = function(e) {
            var t = this
              , n = !1;
            if ((new yr).box("moov", D).box("trak", D).box("mdia", D).T("mdhd", function(e) {
                e = qa(e.reader, e.version),
                t.g = e.timescale
            }).box("minf", D).box("stbl", D).T("stsd", br).box("wvtt", function() {
                n = !0
            }).parse(e),
            !this.g)
                throw new ke(2,2,2008);
            if (!n)
                throw new ke(2,2,2008)
        }
        ,
        yy.prototype.setSequenceMode = function() {}
        ,
        yy.prototype.setManifestType = function() {}
        ,
        yy.prototype.parseMedia = function(e, t) {
            if (!e.length)
                return [];
            if (!this.g)
                throw new ke(2,2,2008);
            var n, i = 0, r = [], a = [], o = !1, s = !1, u = !1, l = null;
            if ((new yr).box("moof", D).box("traf", D).T("tfdt", function(e) {
                o = !0,
                i = Wa(e.reader, e.version).baseMediaDecodeTime
            }).T("tfhd", function(e) {
                l = Xa(e.reader, e.flags).Og
            }).T("trun", function(e) {
                s = !0,
                r = Ya(e.reader, e.version, e.flags).lh
            }).box("mdat", Tr(function(e) {
                u = !0,
                n = e
            })).parse(e, !1),
            !u && !o && !s)
                throw new ke(2,2,2008);
            e = i;
            for (var c = new gr(n,0), h = we(r), d = h.next(); !d.done; d = h.next()) {
                var f = (d = d.value).gg || l
                  , p = d.Ke ? i + d.Ke : e
                  , g = (e = p + (f || 0),
                0);
                do {
                    var m = c.O();
                    g += m;
                    var v = null;
                    "vttc" == Er(c.O()) ? 8 < m && (v = c.Sb(m - 8)) : c.skip(m - 8),
                    f && v && (m = function(e, t, n) {
                        var i, r, a;
                        return (new yr).box("payl", Tr(function(e) {
                            i = lr(e)
                        })).box("iden", Tr(function(e) {
                            r = lr(e)
                        })).box("sttg", Tr(function(e) {
                            a = lr(e)
                        })).parse(e),
                        i ? function(e, t, n, i, r) {
                            if (i = new Ct(i,r,""),
                            dy(e, i, new Map),
                            t && (i.id = t),
                            n)
                                for (e = new cp(n),
                                t = fp(e); t; )
                                    py(i, t, []),
                                    hp(e),
                                    t = fp(e);
                            return i
                        }(i, r, a, t, n) : null
                    }(v, t.periodStart + p / this.g, t.periodStart + e / this.g),
                    a.push(m))
                } while (d.sampleSize && g < d.sampleSize)
            }
            return a.filter(Tn)
        }
        ,
        n("shaka.text.Mp4VttParser", yy),
        yn['application/mp4; codecs="wvtt"'] = function() {
            return new yy
        }
        ,
        by.prototype.parseInit = function() {}
        ,
        by.prototype.setSequenceMode = function() {}
        ,
        by.prototype.setManifestType = function() {}
        ,
        by.prototype.parseMedia = function(e) {
            var t = lr(e).replace(/\r+/g, "");
            if (e = [],
            "" == (t = t.trim()))
                return e;
            for (var n = (t = we(t.split("\n\n"))).next(); !n.done; n = t.next()) {
                var i = wy(a = new cp((n = n.value.split("\n"))[0]))
                  , r = dp(a, /,/g)
                  , a = wy(a);
                if (null == i || null == r || null == a)
                    throw new ke(2,2,2001,"Could not parse cue time range in SubViewer");
                e.push(new Ct(i,a,n.slice(1).join("\n").trim()))
            }
            return e
        }
        ,
        n("shaka.text.SbvTextParser", by),
        yn["text/x-subviewer"] = function() {
            return new by
        }
        ,
        Ty.prototype.parseInit = function() {}
        ,
        Ty.prototype.setSequenceMode = function() {}
        ,
        Ty.prototype.setManifestType = function() {}
        ,
        Ty.prototype.parseMedia = function(e, t, n) {
            return e = ne(dr(e = Ay(e = lr(e)))),
            this.g.parseMedia(e, t, n)
        }
        ,
        n("shaka.text.SrtTextParser", Ty),
        Ty.srt2webvtt = Ay,
        yn["text/srt"] = function() {
            return new Ty
        }
        ,
        Ey.prototype.parseInit = function() {}
        ,
        Ey.prototype.setSequenceMode = function() {}
        ,
        Ey.prototype.setManifestType = function() {}
        ,
        Ey.prototype.parseMedia = function(e) {
            for (var t = "", n = "", i = (e = we(e = lr(e).split(/\r?\n\s*\r?\n/))).next(); !i.done; i = e.next()) {
                var r = Iy.exec(i.value);
                r && (i = r[1],
                r = r[2],
                "V4 Styles" == i || "V4+ Styles" == i ? t = r : "Events" == i && (n = r))
            }
            e = [];
            for (var i = null, a = (t = we(t.split(/\r?\n/))).next(); !a.done; a = t.next())
                if (r = a.value,
                !/^\s*;/.test(r) && (a = ky.exec(r)))
                    if (r = a[1].trim(),
                    a = a[2].trim(),
                    "Format" == r)
                        i = a.split(Cy);
                    else if ("Style" == r) {
                        for (var r = a.split(Cy), a = {}, o = 0; o < i.length && o < r.length; o++)
                            a[i[o]] = r[o];
                        e.push(a)
                    }
            for (i = [],
            t = null,
            r = {},
            a = (n = we(n.split(/\r?\n/))).next(); !a.done; r = {
                Ze: r.Ze
            },
            a = n.next())
                if (a = a.value,
                !/^\s*;/.test(a) && (o = ky.exec(a)))
                    if (a = o[1].trim(),
                    o = o[2].trim(),
                    "Format" == a)
                        t = o.split(Cy);
                    else if ("Dialogue" == a) {
                        o = o.split(Cy),
                        a = {};
                        for (var s = 0; s < t.length && s < o.length; s++)
                            a[t[s]] = o[s];
                        o = new Ct(s = xy(a.Start),xy(a.End),o.slice(t.length - 1).join(",").replace(/\\N/g, "\n").replace(/\{[^}]+\}/g, ""));
                        if (r.Ze = a.Style,
                        a = e.find(function(t) {
                            return function(e) {
                                return e.Name == t.Ze
                            }
                        }(r))) {
                            u = void 0;
                            l = void 0;
                            c = void 0;
                            var u = o;
                            var l = a;
                            var c = l.Fontname;
                            c && (u.fontFamily = c),
                            (c = l.Fontsize) && (u.fontSize = c + "px");
                            (c = l.PrimaryColour) && (c = Sy(c)) && (u.color = c);
                            (c = l.BackColour) && (c = Sy(c)) && (u.backgroundColor = c);
                            l.Bold && (u.fontWeight = 700),
                            l.Italic && (u.fontStyle = "italic"),
                            l.Underline && u.textDecoration.push("underline"),
                            (c = l.Spacing) && (u.letterSpacing = c + "px");
                            if (c = l.Alignment)
                                switch (parseInt(c, 10)) {
                                case 1:
                                    u.displayAlign = Dt,
                                    u.textAlign = "start";
                                    break;
                                case 2:
                                    u.displayAlign = Dt,
                                    u.textAlign = Nt;
                                    break;
                                case 3:
                                    u.displayAlign = Dt,
                                    u.textAlign = "end";
                                    break;
                                case 5:
                                    u.displayAlign = "before",
                                    u.textAlign = "start";
                                    break;
                                case 6:
                                    u.displayAlign = "before",
                                    u.textAlign = Nt;
                                    break;
                                case 7:
                                    u.displayAlign = "before",
                                    u.textAlign = "end";
                                    break;
                                case 9:
                                    u.displayAlign = "center",
                                    u.textAlign = "start";
                                    break;
                                case 10:
                                    u.displayAlign = "center",
                                    u.textAlign = Nt;
                                    break;
                                case 11:
                                    u.displayAlign = "center",
                                    u.textAlign = "end"
                                }
                            (l = l.AlphaLevel) && (u.opacity = parseFloat(l))
                        }
                        i.push(o)
                    }
            return i
        }
        ,
        n("shaka.text.SsaTextParser", Ey);
        var Iy = /^\s*\[([^\]]+)\]\r?\n([\s\S]*)/
          , ky = /^\s*([^:]+):\s*(.*)/
          , Cy = /\s*,\s*/
          , My = /^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;
        function Ly(e, t) {
            var n = 1 & e[t + 1] ? 7 : 9;
            return t + n <= e.length && 0 < (e = ((3 & e[t + 3]) << 11 | e[t + 4] << 3 | (224 & e[t + 5]) >>> 5) - n) ? {
                me: n,
                X: e
            } : null
        }
        function Ry(e, t) {
            var n = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]
              , i = (60 & e[t + 2]) >>> 2;
            if (n.length - 1 < i)
                return null;
            var r = 1 + ((192 & e[t + 2]) >>> 6)
              , a = (1 & e[t + 2]) << 2;
            return a |= (192 & e[t + 3]) >>> 6,
            {
                sampleRate: n[i],
                channelCount: a,
                wa: "mp4a.40." + r
            }
        }
        function Ny(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function Py(e, t) {
            if (t + 8 > e.length || 11 !== e[t] || 119 !== e[t + 1])
                return null;
            var n = e[t + 4] >> 6;
            if (3 <= n)
                return null;
            var i = 63 & e[t + 4]
              , r = 2 * [64, 69, 96, 64, 70, 96, 80, 87, 120, 80, 88, 120, 96, 104, 144, 96, 105, 144, 112, 121, 168, 112, 122, 168, 128, 139, 192, 128, 140, 192, 160, 174, 240, 160, 175, 240, 192, 208, 288, 192, 209, 288, 224, 243, 336, 224, 244, 336, 256, 278, 384, 256, 279, 384, 320, 348, 480, 320, 349, 480, 384, 417, 576, 384, 418, 576, 448, 487, 672, 448, 488, 672, 512, 557, 768, 512, 558, 768, 640, 696, 960, 640, 697, 960, 768, 835, 1152, 768, 836, 1152, 896, 975, 1344, 896, 976, 1344, 1024, 1114, 1536, 1024, 1115, 1536, 1152, 1253, 1728, 1152, 1254, 1728, 1280, 1393, 1920, 1280, 1394, 1920][3 * i + n];
            if (t + r > e.length)
                return null;
            var a = e[t + 6] >> 5
              , o = 0
              , s = (2 == a ? o += 2 : (1 & a && 1 != a && (o += 2),
            4 & a && (o += 2)),
            o = (e[t + 6] << 8 | e[t + 7]) >> 12 - o & 1,
            7 & e[t + 5]);
            return e = new Uint8Array([n << 6 | e[t + 5] >> 3 << 1 | s >> 2, (3 & s) << 6 | a << 3 | o << 2 | i >> 4, i << 4 & 224]),
            {
                sampleRate: [48e3, 44100, 32e3][n],
                channelCount: [2, 1, 2, 3, 3, 4, 4, 5][a] + o,
                qa: e,
                X: r
            }
        }
        function Dy(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function _y(e, t) {
            if (t + 8 > e.length || 2935 != (e[t] << 8 | e[t + 1] << 0))
                return null;
            to(s = new Za(e.subarray(t + 2)), 2),
            to(s, 3);
            var n = ie(s, 11) + 1 << 1
              , i = ie(s, 2)
              , r = 3 == i ? (i = [24e3, 22060, 16e3][i = ie(s, 2)],
            3) : (i = [48e3, 44100, 32e3][i],
            ie(s, 2))
              , a = ie(s, 3)
              , o = ie(s, 1)
              , s = ie(s, 5);
            return t + n > e.byteLength ? null : (e = Math.floor(n * i / (16 * [1, 2, 3, 6][r])),
            e = new Uint8Array([(8160 & e) >> 5, (31 & e) << 3, i << 6 | s << 1 | 0, 0 | a << 1 | o << 0, 0]),
            {
                sampleRate: i,
                channelCount: [2, 1, 2, 3, 3, 4, 4, 5][a] + o,
                qa: e,
                X: n
            })
        }
        function Uy(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function Oy(e) {
            for (var t, n = !1, i = [], r = e.find(function(e) {
                return 7 == e.type
            }), a = !1, o = (e = we(e)).next(); !o.done; o = e.next()) {
                var s = !1;
                switch ((o = o.value).type) {
                case 1:
                    var s = a = !0
                      , u = o.data;
                    r && 4 < u.length && (oe(t = new Za(u)),
                    re(t),
                    2 === (u = re(t)) || 4 === u || 7 === u || 9 === u) && (n = !0);
                    break;
                case 5:
                    n = s = a = !0;
                    break;
                case 6:
                case 7:
                case 8:
                    s = !0;
                    break;
                case 9:
                    a = s = !0;
                    break;
                case 12:
                    s = !0;
                    break;
                default:
                    s = !1
                }
                a && s && (s = o.fullData.byteLength,
                (u = new Uint8Array(4))[0] = s >> 24 & 255,
                u[1] = s >> 16 & 255,
                u[2] = s >> 8 & 255,
                u[3] = 255 & s,
                i.push(Pr(u, o.fullData)))
            }
            return i.length ? {
                data: Pr.apply(kr, le(i)),
                Bd: n
            } : null
        }
        yn["text/x-ssa"] = function() {
            return new Ey
        }
        ,
        (e = Ny.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        e.isSupported = function(e) {
            return "audio/aac" == e.toLowerCase().split(";")[0] && ut(this.convertCodecs("audio", e))
        }
        ,
        e.convertCodecs = function(e, t) {
            return "audio/aac" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="' + (hn(t) || "mp4a.40.2") + '"' : t
        }
        ,
        e.getOriginalMimeType = function() {
            return this.i
        }
        ,
        e.transmux = function(e, t, n, i) {
            for (var r = ne(e), a = za(r), o = a.length; o < r.length && !function(e, t) {
                if (t + 1 < e.length && 255 === e[t] && 240 == (246 & e[t + 1])) {
                    var n = 1 & e[t + 1] ? 7 : 9;
                    if (t + n >= e.length)
                        return;
                    var i = (3 & e[t + 3]) << 11 | e[t + 4] << 3 | (224 & e[t + 5]) >>> 5;
                    return i <= n ? void 0 : (t += i) === e.length || t + 1 < e.length && 255 === e[t] && 240 == (246 & e[t + 1])
                }
            }(r, o); o++)
                ;
            if (e = 1e3 * n.endTime,
            (a = Ha(a)).length && n && (n = a.find(function(e) {
                return "com.apple.streaming.transportStreamTimestamp" === e.description
            })) && (e = n.data),
            !(n = Ry(r, o)))
                return Promise.reject(new ke(2,3,3018));
            for (t.audioSamplingRate = n.sampleRate,
            t.channelsCount = n.channelCount,
            a = []; o < r.length; ) {
                var s = Ly(r, o);
                if (!s)
                    return Promise.reject(new ke(2,3,3018));
                var u = s.me + s.X;
                o + u <= r.length && a.push({
                    data: r.subarray(o + s.me, o + u),
                    size: s.X,
                    duration: 1024,
                    kb: 0,
                    flags: {
                        ob: 0,
                        bb: 0,
                        ab: 0,
                        Za: 0,
                        $a: 2,
                        pb: 0
                    }
                }),
                o += u
            }
            return r = n.sampleRate,
            e = Math.floor(e * r / 1e3),
            e = new fg([i = {
                id: t.id,
                type: "audio",
                codecs: n.wa,
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: r,
                duration: i,
                ib: [],
                qa: new Uint8Array([]),
                Ca: new Uint8Array([]),
                Ja: 0,
                La: 0,
                data: {
                    Cb: this.h,
                    baseMediaDecodeTime: e,
                    fb: a
                },
                stream: t
            }]),
            this.g.has(t.id) ? i = this.g.get(t.id) : (i = pg(e),
            this.g.set(t.id, i)),
            t = bg(e),
            this.h++,
            t = Pr(i, t),
            Promise.resolve(t)
        }
        ,
        n("shaka.transmuxer.AacTransmuxer", Ny),
        Jt("audio/aac", function() {
            return new Ny("audio/aac")
        }, Zt),
        (e = Dy.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        e.isSupported = function(e) {
            return "audio/ac3" == e.toLowerCase().split(";")[0] && ut(this.convertCodecs("audio", e))
        }
        ,
        e.convertCodecs = function(e, t) {
            return "audio/ac3" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="ac-3"' : t
        }
        ,
        e.getOriginalMimeType = function() {
            return this.i
        }
        ,
        e.transmux = function(e, t, n, i) {
            for (var r = za(e = ne(e)), a = r.length; a < e.length && !function(e, t) {
                if (11 === e[t] && 119 === e[t + 1]) {
                    var n = 0
                      , i = 5;
                    for (t += i; 0 < i; ) {
                        var r = e[t]
                          , a = Math.min(i, 8)
                          , o = 8 - a;
                        r = (r & 4278190080 >>> 24 + o << o) >> o,
                        n = n ? n << a | r : r,
                        t += 1,
                        i -= a
                    }
                    if (n < 16)
                        return 1
                }
            }(e, a); a++)
                ;
            var o = 1e3 * n.endTime;
            (r = Ha(r)).length && n && (n = r.find(function(e) {
                return "com.apple.streaming.transportStreamTimestamp" === e.description
            })) && (o = n.data),
            n = 0,
            r = new Uint8Array([]);
            for (var s = []; a < e.length; ) {
                var u = Py(e, a);
                if (!u)
                    return Promise.reject(new ke(2,3,3018));
                t.audioSamplingRate = u.sampleRate,
                t.channelsCount = u.channelCount,
                n = u.sampleRate,
                r = u.qa,
                s.push({
                    data: e.subarray(a, a + u.X),
                    size: u.X,
                    duration: 1536,
                    kb: 0,
                    flags: {
                        ob: 0,
                        bb: 0,
                        ab: 0,
                        Za: 0,
                        $a: 2,
                        pb: 0
                    }
                }),
                a += u.X
            }
            return e = Math.floor(o * n / 1e3),
            e = new fg([i = {
                id: t.id,
                type: "audio",
                codecs: "ac-3",
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: n,
                duration: i,
                ib: [],
                qa: r,
                Ca: new Uint8Array([]),
                Ja: 0,
                La: 0,
                data: {
                    Cb: this.h,
                    baseMediaDecodeTime: e,
                    fb: s
                },
                stream: t
            }]),
            this.g.has(t.id) ? i = this.g.get(t.id) : (i = pg(e),
            this.g.set(t.id, i)),
            t = bg(e),
            this.h++,
            t = Pr(i, t),
            Promise.resolve(t)
        }
        ,
        n("shaka.transmuxer.Ac3Transmuxer", Dy),
        Jt("audio/ac3", function() {
            return new Dy("audio/ac3")
        }, Zt),
        (e = Uy.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        e.isSupported = function(e) {
            return "audio/ec3" == e.toLowerCase().split(";")[0] && ut(this.convertCodecs("audio", e))
        }
        ,
        e.convertCodecs = function(e, t) {
            return "audio/ec3" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="ec-3"' : t
        }
        ,
        e.getOriginalMimeType = function() {
            return this.i
        }
        ,
        e.transmux = function(e, t, n, i) {
            for (var r = za(e = ne(e)), a = r.length; a < e.length && 2935 != (e[a] << 8 | e[a + 1] << 0); a++)
                ;
            var o = 1e3 * n.endTime;
            (r = Ha(r)).length && n && (n = r.find(function(e) {
                return "com.apple.streaming.transportStreamTimestamp" === e.description
            })) && (o = n.data),
            n = 0,
            r = new Uint8Array([]);
            for (var s = []; a < e.length; ) {
                var u = _y(e, a);
                if (!u)
                    return Promise.reject(new ke(2,3,3018));
                t.audioSamplingRate = u.sampleRate,
                t.channelsCount = u.channelCount,
                n = u.sampleRate,
                r = u.qa,
                s.push({
                    data: e.subarray(a, a + u.X),
                    size: u.X,
                    duration: 1536,
                    kb: 0,
                    flags: {
                        ob: 0,
                        bb: 0,
                        ab: 0,
                        Za: 0,
                        $a: 2,
                        pb: 0
                    }
                }),
                a += u.X
            }
            return e = Math.floor(o * n / 1e3),
            e = new fg([i = {
                id: t.id,
                type: "audio",
                codecs: "ec-3",
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: n,
                duration: i,
                ib: [],
                qa: r,
                Ca: new Uint8Array([]),
                Ja: 0,
                La: 0,
                data: {
                    Cb: this.h,
                    baseMediaDecodeTime: e,
                    fb: s
                },
                stream: t
            }]),
            this.g.has(t.id) ? i = this.g.get(t.id) : (i = pg(e),
            this.g.set(t.id, i)),
            t = bg(e),
            this.h++,
            t = Pr(i, t),
            Promise.resolve(t)
        }
        ,
        n("shaka.transmuxer.Ec3Transmuxer", Uy),
        Jt("audio/ec3", function() {
            return new Uy("audio/ec3")
        }, Zt);
        var jy = [100, 110, 122, 244, 44, 83, 86, 118, 128, 138, 139, 134];
        function By(e) {
            if (!e.length)
                return null;
            var t = e.find(function(e) {
                return 32 == e.type
            })
              , n = e.find(function(e) {
                return 33 == e.type
            })
              , i = e.find(function(e) {
                return 34 == e.type
            });
            if (!t || !n || !i)
                return null;
            o = t.fullData,
            oe(r = new Za(o,!0)),
            oe(r),
            ie(r, 4),
            ie(r, 2),
            ie(r, 6),
            o = ie(r, 3),
            r = ae(r);
            var r, a, o = {
                Xf: o + 1,
                ug: r
            }, s = (e = function(e) {
                oe(e = new Za(e,!0)),
                oe(e);
                var t = 0
                  , n = 0
                  , i = 0
                  , r = 0
                  , a = (ie(e, 4),
                ie(e, 3));
                ae(e);
                for (var o = ie(e, 2), s = ie(e, 1), u = ie(e, 5), l = oe(e), c = oe(e), h = oe(e), d = oe(e), f = oe(e), p = oe(e), g = oe(e), m = oe(e), v = oe(e), y = oe(e), b = oe(e), w = [], T = [], A = 0; A < a; A++)
                    w.push(ae(e)),
                    T.push(ae(e));
                if (0 < a)
                    for (A = a; A < 8; A++)
                        ie(e, 2);
                for (A = 0; A < a; A++)
                    w[A] && ie(e, 88),
                    T[A] && oe(e);
                re(e),
                3 == (w = re(e)) && ie(e, 1),
                T = re(e),
                A = re(e),
                ae(e) && (t += re(e),
                n += re(e),
                i += re(e),
                r += re(e));
                var E = re(e)
                  , S = re(e)
                  , x = re(e);
                if (ae(e))
                    for (var I = 0; I <= a; I++)
                        re(e),
                        re(e),
                        re(e);
                else
                    re(e),
                    re(e),
                    re(e);
                if (re(e),
                re(e),
                re(e),
                re(e),
                re(e),
                re(e),
                ae(e) && ae(e))
                    for (I = 0; I < 4; I++)
                        for (var k = 0; k < (3 === I ? 2 : 6); k++)
                            if (ae(e)) {
                                var C = Math.min(64, 1 << 4 + (I << 1));
                                1 < I && ro(e);
                                for (var M = 0; M < C; M++)
                                    ro(e)
                            } else
                                re(e);
                for (ae(e),
                ae(e),
                ae(e) && (oe(e),
                re(e),
                re(e),
                ae(e)),
                I = re(e),
                C = k = 0; C < I; C++)
                    if (M = !1,
                    M = 0 !== C ? ae(e) : M) {
                        C === I && re(e),
                        ae(e),
                        re(e);
                        for (var L = M = 0; L <= k; L++) {
                            var R = ae(e)
                              , N = !1;
                            R || (N = ae(e)),
                            (R || N) && M++
                        }
                        k = M
                    } else {
                        for (L = re(e),
                        M = re(e),
                        k = L + M,
                        R = 0; R < L; R++)
                            re(e),
                            ae(e);
                        for (L = 0; L < M; L++)
                            re(e),
                            ae(e)
                    }
                if (ae(e))
                    for (I = re(e),
                    k = 0; k < I; k++) {
                        for (C = 0; C < x + 4; C++)
                            ie(e, 1);
                        ie(e, 1)
                    }
                if (I = x = 1,
                k = 0,
                ae(e),
                ae(e),
                ae(e)) {
                    if (ae(e) && (C = oe(e),
                    M = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2],
                    L = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1],
                    0 < C && C < 16 ? (x = M[C - 1],
                    I = L[C - 1]) : 255 === C && (x = ie(e, 16),
                    I = ie(e, 16))),
                    ae(e) && ae(e),
                    ae(e) && (ie(e, 3),
                    ae(e),
                    ae(e) && (oe(e),
                    oe(e),
                    oe(e))),
                    ae(e) && (re(e),
                    re(e)),
                    ae(e),
                    ae(e),
                    ae(e),
                    (C = ae(e)) && (re(e),
                    re(e),
                    re(e),
                    re(e)),
                    ae(e) && (ie(e, 32),
                    ie(e, 32),
                    ae(e) && re(e),
                    ae(e)))
                        for (L = !1,
                        C = ae(e),
                        M = ae(e),
                        (C || M) && ((L = ae(e)) && (oe(e),
                        ie(e, 5),
                        ae(e),
                        ie(e, 5)),
                        ie(e, 4),
                        ie(e, 4),
                        L && ie(e, 4),
                        ie(e, 5),
                        ie(e, 5),
                        ie(e, 5)),
                        R = 0; R <= a; R++) {
                            var P = !0
                              , D = (N = 1,
                            ae(e) || (P = ae(e)),
                            !1);
                            if (P ? re(e) : D = ae(e),
                            D || (N = re(e) + 1),
                            C) {
                                for (P = 0; P < N; P++)
                                    re(e),
                                    re(e),
                                    L && (re(e),
                                    re(e));
                                ae(e)
                            }
                            if (M) {
                                for (P = 0; P < N; P++)
                                    re(e),
                                    re(e),
                                    L && (re(e),
                                    re(e));
                                ae(e)
                            }
                        }
                    ae(e) && (ae(e),
                    ae(e),
                    ae(e),
                    k = re(e),
                    re(e),
                    re(e),
                    re(e),
                    re(e))
                }
                return {
                    xf: b,
                    Df: o,
                    Ef: s,
                    Cf: u,
                    yf: l,
                    zf: c,
                    Af: h,
                    Bf: d,
                    qf: f,
                    rf: p,
                    tf: g,
                    uf: m,
                    vf: v,
                    wf: y,
                    Ae: k,
                    mf: 0,
                    lf: w,
                    jf: E,
                    hf: S,
                    width: T - (t + n) * (1 === w || 2 === w ? 2 : 1),
                    height: A - (i + r) * (1 === w ? 2 : 1),
                    mj: x,
                    lj: I
                }
            }(n.fullData),
            r = i.fullData,
            oe(s = new Za(r,!0)),
            oe(s),
            re(s),
            re(s),
            ae(s),
            ae(s),
            ie(s, 3),
            ae(s),
            ae(s),
            re(s),
            re(s),
            ro(s),
            ae(s),
            ae(s),
            ae(s) && re(s),
            ro(s),
            ro(s),
            ae(s),
            ae(s),
            ae(s),
            ae(s),
            r = ae(s),
            s = ae(s),
            a = 1,
            s && r ? a = 0 : s ? a = 3 : r && (a = 2),
            {
                $f: a
            });
            return r = t.fullData,
            a = n.fullData,
            n = i.fullData,
            i = {
                Xf: o.Xf,
                ug: o.ug,
                Df: e.Df,
                Ef: e.Ef,
                xf: e.xf,
                Cf: e.Cf,
                yf: e.yf,
                zf: e.zf,
                Af: e.Af,
                Bf: e.Bf,
                qf: e.qf,
                rf: e.rf,
                tf: e.tf,
                uf: e.uf,
                vf: e.vf,
                wf: e.wf,
                mf: e.mf,
                Ae: e.Ae,
                lf: e.lf,
                jf: e.jf,
                hf: e.hf,
                $f: s.$f
            },
            (o = new Uint8Array(23 + (5 + r.byteLength) + (5 + a.byteLength) + (5 + n.byteLength)))[0] = 1,
            o[1] = (3 & i.Df) << 6 | (i.Ef ? 1 : 0) << 5 | 31 & i.Cf,
            o[2] = i.yf,
            o[3] = i.zf,
            o[4] = i.Af,
            o[5] = i.Bf,
            o[6] = i.qf,
            o[7] = i.rf,
            o[8] = i.tf,
            o[9] = i.uf,
            o[10] = i.vf,
            o[11] = i.wf,
            o[12] = i.xf,
            o[13] = 240 | (3840 & i.Ae) >> 8,
            o[14] = 255 & i.Ae,
            o[15] = 252 | 3 & i.$f,
            o[16] = 252 | 3 & i.lf,
            o[17] = 248 | 7 & i.jf,
            o[18] = 248 | 7 & i.hf,
            o[19] = 0,
            o[20] = 0,
            o[21] = (3 & i.mf) << 6 | (7 & i.Xf) << 3 | (i.ug ? 1 : 0) << 2 | 3,
            o[22] = 3,
            o[23] = 160,
            o[24] = 0,
            o[25] = 1,
            o[26] = (65280 & r.byteLength) >> 8,
            o[27] = (255 & r.byteLength) >> 0,
            o.set(r, 28),
            o[23 + (5 + r.byteLength)] = 161,
            o[r.byteLength + 29] = 0,
            o[r.byteLength + 30] = 1,
            o[r.byteLength + 31] = (65280 & a.byteLength) >> 8,
            o[r.byteLength + 32] = (255 & a.byteLength) >> 0,
            o.set(a, r.byteLength + 33),
            o[23 + (r.byteLength + 10 + a.byteLength)] = 162,
            o[r.byteLength + 10 + a.byteLength + 24] = 0,
            o[r.byteLength + 10 + a.byteLength + 25] = 1,
            o[r.byteLength + 10 + a.byteLength + 26] = (65280 & n.byteLength) >> 8,
            o[r.byteLength + 10 + a.byteLength + 27] = (255 & n.byteLength) >> 0,
            o.set(n, r.byteLength + 10 + a.byteLength + 28),
            t = o,
            {
                height: e.height,
                width: e.width,
                Ca: t,
                Ja: e.mj,
                La: e.lj
            }
        }
        function Fy(e, t) {
            var n, i, r, a, o = e[t + 1] >> 3 & 3, s = e[t + 1] >> 1 & 3, u = e[t + 2] >> 4 & 15, l = e[t + 2] >> 2 & 3;
            return 1 !== o && 0 !== u && 15 !== u && 3 !== l ? (n = e[t + 3] >> 6,
            u = 1e3 * Vy[14 * (3 === o ? 3 - s : 3 == s ? 3 : 4) + u - 1],
            l = Ky[3 * (3 === o ? 0 : 2 === o ? 1 : 2) + l],
            o = Hy[o][s],
            i = zy[s],
            r = Math.floor(o * u / l + (e[t + 2] >> 1 & 1)) * i,
            (a = (a = (navigator.userAgent || "").match(/Chrome\/(\d+)/i)) ? parseInt(a[1], 10) : 0) && a <= 87 && 2 == s && 224e3 <= u && 0 == n && (e[t + 3] |= 128),
            {
                sampleRate: l,
                channelCount: 3 == n ? 1 : 2,
                X: r,
                kj: 8 * o * i
            }) : null
        }
        function Gy(e, t) {
            return 255 === e[t] && 224 == (224 & e[t + 1]) && 0 != (6 & e[t + 1])
        }
        var Vy = [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160]
          , Ky = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3]
          , Hy = [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]]
          , zy = [0, 1, 1, 4];
        function Xy(e) {
            this.i = e,
            this.h = 0,
            this.g = new Map
        }
        function Wy(e) {
            this.h = e,
            this.g = null
        }
        function qy(e) {
            function n() {
                this._procFullBox(),
                1 & this.flags && (this._procField("AlgorithmID", "uint", 24),
                this._procField("IV_size", "uint", 8),
                this._procFieldArray("KID", 16, "uint", 8)),
                this._procField("sample_count", "uint", 32),
                this._procEntries("entry", this.sample_count, function(e) {
                    this._procEntryField(e, "InitializationVector", "data", 8),
                    2 & this.flags && (this._procEntryField(e, "NumberOfEntries", "uint", 16),
                    this._procSubEntries(e, "clearAndCryptedData", e.NumberOfEntries, function(e) {
                        this._procEntryField(e, "BytesOfClearData", "uint", 16),
                        this._procEntryField(e, "BytesOfEncryptedData", "uint", 32)
                    }))
                })
            }
            this.h = e,
            (this.g = Qf.get("ISOBoxer")()) && ((e = this).g.addBoxProcessor("saio", function() {
                this._procFullBox(),
                1 & this.flags && (this._procField("aux_info_type", "uint", 32),
                this._procField("aux_info_type_parameter", "uint", 32)),
                this._procField("entry_count", "uint", 32),
                this._procFieldArray("offset", this.entry_count, "uint", 1 === this.version ? 64 : 32)
            }),
            e.g.addBoxProcessor("saiz", function() {
                this._procFullBox(),
                1 & this.flags && (this._procField("aux_info_type", "uint", 32),
                this._procField("aux_info_type_parameter", "uint", 32)),
                this._procField("default_sample_info_size", "uint", 8),
                this._procField("sample_count", "uint", 32),
                0 === this.default_sample_info_size && this._procFieldArray("sample_info_size", this.sample_count, "uint", 8)
            }),
            e.g.addBoxProcessor("senc", n),
            e.g.addBoxProcessor("uuid", function() {
                for (var e = !0, t = 0; t < 16; t++)
                    this.usertype[t] !== Jy[t] && (e = !1);
                e && (this._parsing && (this.type = "sepiff"),
                n.call(this))
            }))
        }
        function Yy(e, t) {
            for (var n = 8, i = 0; i < e.boxes.length && e.boxes[i].type !== t; i++)
                n += e.boxes[i].size;
            return n
        }
        (e = Xy.prototype).destroy = function() {
            this.g.clear()
        }
        ,
        e.isSupported = function(e) {
            return "audio/mpeg" == e.toLowerCase().split(";")[0] && ut(this.convertCodecs("audio", e))
        }
        ,
        e.convertCodecs = function(e, t) {
            return "audio/mpeg" == t.toLowerCase().split(";")[0] ? 'audio/mp4; codecs="mp3"' : t
        }
        ,
        e.getOriginalMimeType = function() {
            return this.i
        }
        ,
        e.transmux = function(e, t, n, i) {
            for (n = za(e = ne(e)).length; n < e.length; n++) {
                var r, a, o = n;
                if (o = !!(o + 1 < e.length && Gy(e, o)) && (a = 4,
                (o += a = (r = Fy(e, o)) && r.X ? r.X : a) === e.length || o + 1 < e.length && Gy(e, o)))
                    break
            }
            var s;
            for (o = []; n < e.length; ) {
                if (!(r = Fy(e, n)))
                    return Promise.reject(new ke(2,3,3018));
                s = s || r,
                n + r.X <= e.length && o.push({
                    data: e.subarray(n, n + r.X),
                    size: r.X,
                    duration: 1152,
                    kb: 0,
                    flags: {
                        ob: 0,
                        bb: 0,
                        ab: 0,
                        Za: 0,
                        $a: 2,
                        pb: 0
                    }
                }),
                n += r.X
            }
            return s ? (e = 9e4 * s.kj / s.sampleRate * this.h,
            s = new fg([i = {
                id: t.id,
                type: "audio",
                codecs: "mp3",
                encrypted: t.encrypted && 0 < t.drmInfos.length,
                timescale: s.sampleRate,
                duration: i,
                ib: [],
                qa: new Uint8Array([]),
                Ca: new Uint8Array([]),
                Ja: 0,
                La: 0,
                data: {
                    Cb: this.h,
                    baseMediaDecodeTime: e,
                    fb: o
                },
                stream: t
            }]),
            this.g.has(t.id) ? i = this.g.get(t.id) : (i = pg(s),
            this.g.set(t.id, i)),
            t = bg(s),
            this.h++,
            t = Pr(i, t),
            Promise.resolve(t)) : Promise.reject(new ke(2,3,3018))
        }
        ,
        n("shaka.transmuxer.Mp3Transmuxer", Xy),
        Jt("audio/mpeg", function() {
            return new Xy("audio/mpeg")
        }, Zt),
        (e = Wy.prototype).destroy = function() {}
        ,
        e.isSupported = function(e) {
            if ("video/mp2t" != e.toLowerCase().split(";")[0])
                return !1;
            var t = Ke("audio", n = hn(e).split(","))
              , n = Ke("video", n);
            return !(!t || n || "mp3" != un(t)) && ut(this.convertCodecs("audio", e))
        }
        ,
        e.convertCodecs = function(e, t) {
            return "video/mp2t" == t.toLowerCase().split(";")[0] ? "audio/mpeg" : t
        }
        ,
        e.getOriginalMimeType = function() {
            return this.h
        }
        ,
        e.transmux = function(e, t, n, i, r) {
            if (this.g ? this.g.clearData() : this.g = new oo,
            e = ne(e),
            "mp3" != (e = this.g.parse(e)).sd().audio || "audio" != r)
                return Promise.reject(new ke(2,3,3018));
            for (r = new Uint8Array([]),
            t = (e = we(e.qc())).next(); !t.done; t = e.next())
                if (t = t.value.data)
                    for (n = 0; n < t.length; )
                        (i = Fy(t, n)) ? (n + i.X <= t.length && (r = Pr(r, t.subarray(n, n + i.X))),
                        n += i.X) : n++;
            return Promise.resolve(r)
        }
        ,
        n("shaka.transmuxer.MpegTsTransmuxer", Wy),
        Jt("video/mp2t", function() {
            return new Wy("video/mp2t")
        }, en),
        (e = qy.prototype).destroy = function() {}
        ,
        e.isSupported = function(e, t) {
            var n = e.startsWith("mss/");
            return !(!this.g || !n) && (t ? ut(this.convertCodecs(t, e)) : (t = this.convertCodecs("audio", e),
            e = this.convertCodecs("video", e),
            ut(t) || ut(e)))
        }
        ,
        e.convertCodecs = function(e, t) {
            return t.replace("mss/", "")
        }
        ,
        e.getOriginalMimeType = function() {
            return this.h
        }
        ,
        e.transmux = function(e, t, n) {
            if (!n)
                return Promise.resolve(ne(e));
            if (!t.mssPrivateData)
                return Promise.reject(new ke(2,3,3020));
            try {
                var i, r = this.g.parseBuffer(e), a = r.fetch("tfhd"), o = (a.track_ID = t.id + 1,
                r.fetch("tfdt")), s = r.fetch("traf"), u = (null === o && ((o = this.g.createFullBox("tfdt", s, a)).version = 1,
                o.flags = 0,
                o.baseMediaDecodeTime = Math.floor(n.startTime * t.mssPrivateData.timescale)),
                r.fetch("trun")), l = r.fetch("tfxd"), c = (l && l._parent.boxes.splice(l._parent.boxes.indexOf(l), 1),
                r.fetch("tfrf")), h = (c && c._parent.boxes.splice(c._parent.boxes.indexOf(c), 1),
                r.fetch("sepiff"));
                if (null !== h) {
                    h.type = "senc",
                    h.usertype = void 0;
                    var d = r.fetch("saio");
                    if (null === d) {
                        (d = this.g.createFullBox("saio", s)).version = 0,
                        d.flags = 0,
                        d.entry_count = 1,
                        d.offset = [0];
                        var f = this.g.createFullBox("saiz", s);
                        if (f.version = 0,
                        f.flags = 0,
                        f.sample_count = h.sample_count,
                        f.default_sample_info_size = 0,
                        f.sample_info_size = [],
                        2 & h.flags)
                            for (i = 0; i < h.sample_count; i += 1)
                                f.sample_info_size[i] = 10 + 6 * h.entry[i].NumberOfEntries;
                        else
                            f.default_sample_info_size = 8
                    }
                }
                a.flags &= 16777214,
                a.flags |= 131072,
                u.flags |= 1;
                var p = r.fetch("moof")
                  , g = (u.data_offset = p.getLength() + 8,
                r.fetch("saio"))
                  , m = (null !== g && (g.offset[0] = Yy(p, "traf") + Yy(s, "senc") + 16),
                ne(r.write()));
                return Promise.resolve(m)
            } catch (e) {
                return e instanceof ke ? Promise.reject(e) : Promise.reject(new ke(2,3,3022))
            }
        }
        ,
        n("shaka.transmuxer.MssTransmuxer", qy);
        var Jy = new Uint8Array([162, 57, 79, 82, 90, 155, 79, 20, 162, 68, 108, 66, 124, 100, 141, 244]);
        function Qy(e) {
            this.j = e,
            this.g = 0,
            this.h = new Map,
            this.i = null
        }
        Jt("mss/audio/mp4", function() {
            return new qy("mss/audio/mp4")
        }, Zt),
        Jt("mss/video/mp4", function() {
            return new qy("mss/video/mp4")
        }, Zt),
        (e = Qy.prototype).destroy = function() {
            this.h.clear()
        }
        ,
        e.isSupported = function(e, t) {
            if ("video/mp2t" != e.toLowerCase().split(";")[0])
                return !1;
            var n = e
              , n = Ke("audio", i = hn(n = t ? this.convertCodecs(t, e) : n).split(","))
              , i = Ke("video", i);
            return !(n && (n = un(n),
            !e1.includes(n)) || i && (n = un(i),
            !t1.includes(n))) && (t ? ut(this.convertCodecs(t, e)) : (t = this.convertCodecs("audio", e),
            e = this.convertCodecs("video", e),
            ut(t) || ut(e)))
        }
        ,
        e.convertCodecs = function(e, t) {
            return "video/mp2t" == t.toLowerCase().split(";")[0] ? (t = hn(t).replace("mp4a.40.34", "mp3").split(",").map(this.ai).join(","),
            "audio" == e ? 'audio/mp4; codecs="' + t + '"' : 'video/mp4; codecs="' + t + '"') : t
        }
        ,
        e.ai = function(e) {
            if (e.includes("avc1")) {
                var t = e.split(".");
                if (3 == t.length)
                    return e = t.shift() + ".",
                    (e += parseInt(t.shift(), 10).toString(16)) + ("000" + parseInt(t.shift(), 10).toString(16)).slice(-4)
            }
            return e
        }
        ,
        e.getOriginalMimeType = function() {
            return this.j
        }
        ,
        e.transmux = function(e, t, n, i, U) {
            this.i ? this.i.clearData() : this.i = new oo,
            e = ne(e);
            var r = this.i.parse(e)
              , O = (e = [],
            r.sd());
            try {
                var a, o = null;
                if ("video" == U) {
                    switch (O.video) {
                    case "avc":
                        var s = []
                          , u = null
                          , l = []
                          , c = r.Oc();
                        if (!c.length)
                            throw new ke(2,3,3023);
                        for (var h = 0; h < c.length; h++) {
                            var d, f = c[h], p = f.nalus, g = (l.push.apply(l, le(p)),
                            Oy(p));
                            g && (null == u && (u = f.dts),
                            d = void 0,
                            d = h + 1 < c.length ? (c[h + 1].dts || 0) - (f.dts || 0) : 1 < c.length ? (f.dts || 0) - (c[h - 1].dts || 0) : 9e4 * (n.endTime - n.startTime),
                            s.push({
                                data: g.data,
                                size: g.data.byteLength,
                                duration: d,
                                kb: Math.round((f.pts || 0) - (f.dts || 0)),
                                flags: {
                                    ob: 0,
                                    bb: 0,
                                    ab: 0,
                                    Za: 0,
                                    $a: g.Bd ? 2 : 1,
                                    pb: g.Bd ? 0 : 1
                                }
                            }))
                        }
                        var m = function(e) {
                            if (!e.length)
                                return null;
                            var t = e.find(function(e) {
                                return 7 == e.type
                            });
                            if (e = e.find(function(e) {
                                return 8 == e.type
                            }),
                            !t || !e)
                                return null;
                            var n = new Za(t.data)
                              , i = oe(n);
                            if (oe(n),
                            oe(n),
                            io(n),
                            jy.includes(i) && (3 === (i = re(n)) && to(n, 1),
                            io(n),
                            io(n),
                            to(n, 1),
                            ae(n)))
                                for (var i = 3 !== i ? 8 : 12, r = 0; r < i; r++)
                                    ae(n) && ao(n, r < 6 ? 16 : 64);
                            if (io(n),
                            0 === (i = re(n)))
                                re(n);
                            else if (1 === i)
                                for (to(n, 1),
                                io(n),
                                io(n),
                                i = re(n),
                                r = 0; r < i; r++)
                                    io(n);
                            io(n),
                            to(n, 1);
                            var a, o = re(n), s = re(n), u = ie(n, 1), l = (0 === u && to(n, 1),
                            to(n, 1),
                            0), c = 0, h = 0, d = 0;
                            return ae(n) && (l = re(n),
                            c = re(n),
                            h = re(n),
                            d = re(n)),
                            r = i = 1,
                            ae(n) && ae(n) && (0 < (a = oe(n)) && a < 16 ? (i = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2][a - 1],
                            r = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1][a - 1]) : 255 === a && (i = ie(n, 16),
                            r = ie(n, 16))),
                            n = (2 - u) * (s + 1) * 16 - 2 * h - 2 * d,
                            o = 16 * (o + 1) - 2 * l - 2 * c,
                            t = t.fullData,
                            (l = []).push(t.byteLength >>> 8 & 255),
                            l.push(255 & t.byteLength),
                            l = l.concat.apply(l, le(t)),
                            e = e.fullData,
                            (t = []).push(e.byteLength >>> 8 & 255),
                            t.push(255 & e.byteLength),
                            t = t.concat.apply(t, le(e)),
                            {
                                height: n,
                                width: o,
                                Ca: e = new Uint8Array([1, l[3], l[4], l[5], 255, 225].concat(l, [1], t)),
                                Ja: i,
                                La: r
                            }
                        }(l);
                        if (!m || null == u)
                            throw new ke(2,3,3018);
                        t.height = m.height,
                        t.width = m.width,
                        o = {
                            id: t.id,
                            type: "video",
                            codecs: "avc1",
                            encrypted: t.encrypted && 0 < t.drmInfos.length,
                            timescale: 9e4,
                            duration: i,
                            ib: [],
                            qa: new Uint8Array([]),
                            Ca: m.Ca,
                            Ja: m.Ja,
                            La: m.La,
                            data: {
                                Cb: this.g,
                                baseMediaDecodeTime: u,
                                fb: s
                            },
                            stream: t
                        };
                        break;
                    case "hvc":
                        if (c = [],
                        f = null,
                        p = [],
                        !(s = r.Oc()).length)
                            throw new ke(2,3,3023);
                        for (g = 0; g < s.length; g++) {
                            l = (u = s[g]).nalus,
                            p.push.apply(p, le(l));
                            var m = !1
                              , v = []
                              , y = !1;
                            for (d = (h = we(l)).next(); !d.done; d = h.next()) {
                                var b, w, T = d.value;
                                switch (T.type) {
                                case 1:
                                case 0:
                                    var A = y = !0;
                                    break;
                                case 19:
                                case 20:
                                case 21:
                                    m = A = y = !0;
                                    break;
                                case 32:
                                case 33:
                                case 34:
                                    A = !0;
                                    break;
                                case 35:
                                    y = A = !0;
                                    break;
                                case 39:
                                case 40:
                                    A = !0;
                                    break;
                                default:
                                    A = !1
                                }
                                y && A && (b = T.fullData.byteLength,
                                (w = new Uint8Array(4))[0] = b >> 24 & 255,
                                w[1] = b >> 16 & 255,
                                w[2] = b >> 8 & 255,
                                w[3] = 255 & b,
                                v.push(Pr(w, T.fullData)))
                            }
                            var E = v.length ? {
                                data: Pr.apply(kr, le(v)),
                                Bd: m
                            } : null;
                            E && (null == f && null != u.dts && (f = u.dts),
                            m = void 0,
                            m = g + 1 < s.length ? (s[g + 1].dts || 0) - (u.dts || 0) : 1 < s.length ? (u.dts || 0) - (s[g - 1].dts || 0) : 9e4 * (n.endTime - n.startTime),
                            c.push({
                                data: E.data,
                                size: E.data.byteLength,
                                duration: m,
                                kb: Math.round((u.pts || 0) - (u.dts || 0)),
                                flags: {
                                    ob: 0,
                                    bb: 0,
                                    ab: 0,
                                    Za: 0,
                                    $a: E.Bd ? 2 : 1,
                                    pb: E.Bd ? 0 : 1
                                }
                            }))
                        }
                        var S = By(p);
                        if (!S || null == f)
                            throw new ke(2,3,3018);
                        t.height = S.height,
                        t.width = S.width,
                        o = {
                            id: t.id,
                            type: "video",
                            codecs: "hvc1",
                            encrypted: t.encrypted && 0 < t.drmInfos.length,
                            timescale: 9e4,
                            duration: i,
                            ib: [],
                            qa: new Uint8Array([]),
                            Ca: S.Ca,
                            Ja: S.Ja,
                            La: S.La,
                            data: {
                                Cb: this.g,
                                baseMediaDecodeTime: f,
                                fb: c
                            },
                            stream: t
                        }
                    }
                    o && (e.push(o),
                    o = null)
                }
                if ("audio" == U) {
                    switch (O.audio) {
                    case "aac":
                        for (var x = [], I = null, j = we(r.qc()), B = j.next(); !B.done; B = j.next()) {
                            var F = B.value
                              , k = F.data;
                            if (k) {
                                var C, M = 0;
                                if (!(C = Ry(k, M)))
                                    throw new ke(2,3,3018);
                                for (t.audioSamplingRate = C.sampleRate,
                                t.channelsCount = C.channelCount,
                                null == I && null !== F.pts && (I = F.pts); M < k.length; ) {
                                    var G, L = Ly(k, M);
                                    L ? (M + (G = L.me + L.X) <= k.length && x.push({
                                        data: k.subarray(M + L.me, M + G),
                                        size: L.X,
                                        duration: 1024,
                                        kb: 0,
                                        flags: {
                                            ob: 0,
                                            bb: 0,
                                            ab: 0,
                                            Za: 0,
                                            $a: 2,
                                            pb: 0
                                        }
                                    }),
                                    M += G) : M++
                                }
                            }
                        }
                        if (!C || null == I) {
                            if (!r.Oc().length)
                                throw new ke(2,3,3018);
                            var I = 9e4 * n.startTime
                              , V = Ke("audio", t.codecs.split(","));
                            if (!V || !t.channelsCount || !t.audioSamplingRate)
                                throw new ke(2,3,3018);
                            C = {
                                sampleRate: t.audioSamplingRate,
                                channelCount: t.channelsCount,
                                wa: V
                            };
                            var K = function(e, t) {
                                if ("mp4a.40.2" === e) {
                                    if (1 === t)
                                        return new Uint8Array([0, 200, 0, 128, 35, 128]);
                                    if (2 === t)
                                        return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
                                    if (3 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
                                    if (4 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
                                    if (5 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
                                    if (6 === t)
                                        return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224])
                                } else {
                                    if (1 === t)
                                        return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                                    if (2 === t || 3 === t)
                                        return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94])
                                }
                                return null
                            }(V, t.channelsCount);
                            if (!K)
                                throw new ke(2,3,3018);
                            for (var H = I + 9e4 * (n.endTime - n.startTime), r = I; r < H; )
                                x.push({
                                    data: K,
                                    size: K.byteLength,
                                    duration: 1024,
                                    kb: 0,
                                    flags: {
                                        ob: 0,
                                        bb: 0,
                                        ab: 0,
                                        Za: 0,
                                        $a: 2,
                                        pb: 0
                                    }
                                }),
                                r += 1024 / C.sampleRate * 9e4
                        }
                        var R = C.sampleRate;
                        r = I / 9e4 * R,
                        o = {
                            id: t.id,
                            type: "audio",
                            codecs: C.wa,
                            encrypted: t.encrypted && 0 < t.drmInfos.length,
                            timescale: R,
                            duration: i,
                            ib: [],
                            qa: new Uint8Array([]),
                            Ca: new Uint8Array([]),
                            Ja: 0,
                            La: 0,
                            data: {
                                Cb: this.g,
                                baseMediaDecodeTime: r,
                                fb: x
                            },
                            stream: t
                        };
                        break;
                    case "ac3":
                        C = [],
                        R = 0,
                        x = new Uint8Array([]),
                        I = null;
                        for (var z = (M = we(r.qc())).next(); !z.done; z = M.next()) {
                            var X = z.value
                              , W = X.data;
                            for (null == I && null !== X.pts && (I = X.pts),
                            r = 0; r < W.length; ) {
                                var N = Py(W, r);
                                N ? (t.audioSamplingRate = N.sampleRate,
                                t.channelsCount = N.channelCount,
                                R = N.sampleRate,
                                x = N.qa,
                                C.push({
                                    data: W.subarray(r, r + N.X),
                                    size: N.X,
                                    duration: 1536,
                                    kb: 0,
                                    flags: {
                                        ob: 0,
                                        bb: 0,
                                        ab: 0,
                                        Za: 0,
                                        $a: 2,
                                        pb: 0
                                    }
                                }),
                                r += N.X) : r++
                            }
                        }
                        if (0 == R || 0 == x.byteLength || null == I)
                            throw new ke(2,3,3018);
                        r = I / 9e4 * R,
                        o = {
                            id: t.id,
                            type: "audio",
                            codecs: "ac-3",
                            encrypted: t.encrypted && 0 < t.drmInfos.length,
                            timescale: R,
                            duration: i,
                            ib: [],
                            qa: x,
                            Ca: new Uint8Array([]),
                            Ja: 0,
                            La: 0,
                            data: {
                                Cb: this.g,
                                baseMediaDecodeTime: r,
                                fb: C
                            },
                            stream: t
                        };
                        break;
                    case "ec3":
                        C = [],
                        R = 0,
                        I = new Uint8Array([]);
                        for (var x = null, q = we(r.qc()), Y = q.next(); !Y.done; Y = q.next()) {
                            var J = Y.value
                              , Q = J.data;
                            for (null == x && null !== J.pts && (x = J.pts),
                            r = 0; r < Q.length; ) {
                                var P = _y(Q, r);
                                P ? (t.audioSamplingRate = P.sampleRate,
                                t.channelsCount = P.channelCount,
                                R = P.sampleRate,
                                I = P.qa,
                                C.push({
                                    data: Q.subarray(r, r + P.X),
                                    size: P.X,
                                    duration: 1536,
                                    kb: 0,
                                    flags: {
                                        ob: 0,
                                        bb: 0,
                                        ab: 0,
                                        Za: 0,
                                        $a: 2,
                                        pb: 0
                                    }
                                }),
                                r += P.X) : r++
                            }
                        }
                        if (0 == R || 0 == I.byteLength || null == x)
                            throw new ke(2,3,3018);
                        r = x / 9e4 * R,
                        o = {
                            id: t.id,
                            type: "audio",
                            codecs: "ec-3",
                            encrypted: t.encrypted && 0 < t.drmInfos.length,
                            timescale: R,
                            duration: i,
                            ib: [],
                            qa: I,
                            Ca: new Uint8Array([]),
                            Ja: 0,
                            La: 0,
                            data: {
                                Cb: this.g,
                                baseMediaDecodeTime: r,
                                fb: C
                            },
                            stream: t
                        };
                        break;
                    case "mp3":
                        C = [];
                        for (var R = null, $ = we(r.qc()), Z = $.next(); !Z.done; Z = $.next()) {
                            var ee = Z.value
                              , D = ee.data;
                            if (D)
                                for (null == R && null !== ee.pts && (R = ee.pts),
                                r = 0; r < D.length; ) {
                                    var _ = Fy(D, r);
                                    _ ? (a = a || _,
                                    r + _.X <= D.length && C.push({
                                        data: D.subarray(r, r + _.X),
                                        size: _.X,
                                        duration: 1152,
                                        kb: 0,
                                        flags: {
                                            ob: 0,
                                            bb: 0,
                                            ab: 0,
                                            Za: 0,
                                            $a: 2,
                                            pb: 0
                                        }
                                    }),
                                    r += _.X) : r++
                                }
                        }
                        if (!a || null == R)
                            throw new ke(2,3,3018);
                        var te = a.sampleRate;
                        r = R / 9e4 * te,
                        o = {
                            id: t.id,
                            type: "audio",
                            codecs: "mp3",
                            encrypted: t.encrypted && 0 < t.drmInfos.length,
                            timescale: te,
                            duration: i,
                            ib: [],
                            qa: new Uint8Array([]),
                            Ca: new Uint8Array([]),
                            Ja: 0,
                            La: 0,
                            data: {
                                Cb: this.g,
                                baseMediaDecodeTime: r,
                                fb: C
                            },
                            stream: t
                        }
                    }
                    o && e.push(o)
                }
            } catch (e) {
                return e && 3023 == e.code ? Promise.resolve(new Uint8Array([])) : Promise.reject(e)
            }
            return e.length ? (e = new fg(e),
            this.h.has(t.id) ? i = this.h.get(t.id) : (i = pg(e),
            this.h.set(t.id, i)),
            t = bg(e),
            this.g++,
            t = Pr(i, t),
            Promise.resolve(t)) : Promise.reject(new ke(2,3,3018))
        }
        ,
        n("shaka.transmuxer.TsTransmuxer", Qy);
        var $y, Zy, e1 = ["aac", "ac-3", "ec-3", "mp3"], t1 = ["avc", "hevc"];
        function n1() {}
        function i1() {
            $y ? console.debug("EmeEncryptionSchemePolyfill: Already installed.") : navigator.requestMediaKeySystemAccess && MediaKeySystemAccess.prototype.getConfiguration ? ($y = navigator.requestMediaKeySystemAccess,
            console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),
            navigator.requestMediaKeySystemAccess = r1) : console.debug("EmeEncryptionSchemePolyfill: EME not found")
        }
        function r1(t, n) {
            var i, r = this;
            return Ie(function(e) {
                return 1 == e.g ? (console.assert(r == navigator, 'bad "this" for requestMediaKeySystemAccess'),
                Te(e, $y.call(r, t, n), 2)) : p1(i = e.h) ? (console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),
                navigator.requestMediaKeySystemAccess = $y,
                e.return(i)) : (console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),
                navigator.requestMediaKeySystemAccess = a1,
                e.return(a1.call(r, t, n)))
            })
        }
        function a1(t, n) {
            var i, r, a, o, s, u, l, c, h = this;
            return Ie(function(e) {
                if (1 != e.g)
                    return c = e.h,
                    e.return(new d1(c,i));
                for (console.assert(h == navigator, 'bad "this" for requestMediaKeySystemAccess'),
                i = f1(t),
                r = [],
                a = we(n),
                o = a.next(); !o.done; o = a.next())
                    l = o.value,
                    s = o1(l.videoCapabilities, i),
                    u = o1(l.audioCapabilities, i),
                    l.videoCapabilities && l.videoCapabilities.length && !s.length || l.audioCapabilities && l.audioCapabilities.length && !u.length || ((l = Object.assign({}, l)).videoCapabilities = s,
                    l.audioCapabilities = u,
                    r.push(l));
                if (r.length)
                    return Te(e, $y.call(h, t, r), 2);
                throw (c = Error("Unsupported keySystem or supportedConfigurations.")).name = "NotSupportedError",
                c.code = DOMException.NOT_SUPPORTED_ERR,
                c
            })
        }
        function o1(e, t) {
            return e && e.filter(function(e) {
                return !e.encryptionScheme || e.encryptionScheme == t
            })
        }
        function s1() {}
        function u1() {
            Zy ? console.debug("McEncryptionSchemePolyfill: Already installed.") : navigator.mediaCapabilities ? (Zy = navigator.mediaCapabilities.decodingInfo,
            console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),
            navigator.mediaCapabilities.decodingInfo = l1) : console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")
        }
        function l1(t) {
            var n, i, r = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return console.assert(r == navigator.mediaCapabilities, 'bad "this" for decodingInfo'),
                    Te(e, Zy.call(r, t), 2);
                case 2:
                    if (n = e.h,
                    !t.keySystemConfiguration)
                        return e.return(n);
                    if ((i = n.keySystemAccess) && p1(i))
                        return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),
                        navigator.mediaCapabilities.decodingInfo = Zy,
                        e.return(n);
                    if (console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),
                    navigator.mediaCapabilities.decodingInfo = c1,
                    i) {
                        e.F(3);
                        break
                    }
                    return i = n,
                    Te(e, h1(t), 4);
                case 4:
                    return i.keySystemAccess = e.h,
                    e.return(n);
                case 3:
                    return e.return(c1.call(r, t))
                }
            })
        }
        function c1(t) {
            var n, i, r, a, o, s, u = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    return console.assert(u == navigator.mediaCapabilities, 'bad "this" for decodingInfo'),
                    n = null,
                    t.keySystemConfiguration && (r = t.keySystemConfiguration,
                    a = r.keySystem,
                    i = r.audio && r.audio.encryptionScheme,
                    r = r.video && r.video.encryptionScheme,
                    n = f1(a),
                    a = {
                        powerEfficient: !1,
                        smooth: !1,
                        supported: !1,
                        keySystemAccess: null,
                        configuration: t
                    },
                    i && i != n || r && r != n) ? e.return(a) : Te(e, Zy.call(u, t), 2);
                case 2:
                    if ((o = e.h).keySystemAccess) {
                        o.keySystemAccess = new d1(o.keySystemAccess,n),
                        e.F(3);
                        break
                    }
                    if (t.keySystemConfiguration)
                        return s = o,
                        Te(e, h1(t), 5);
                    e.F(3);
                    break;
                case 5:
                    s.keySystemAccess = e.h;
                case 3:
                    return e.return(o)
                }
            })
        }
        function h1(r) {
            var a;
            return Ie(function(e) {
                var t, n, i;
                return 1 == e.g ? (n = [],
                i = [],
                (t = r.keySystemConfiguration).audio && n.push({
                    robustness: t.audio.robustness || "",
                    contentType: r.audio.contentType
                }),
                t.video && i.push({
                    robustness: t.video.robustness || "",
                    contentType: r.video.contentType
                }),
                t = {
                    initDataTypes: t.initDataType ? [t.initDataType] : [],
                    distinctiveIdentifier: t.distinctiveIdentifier,
                    persistentState: t.persistentState,
                    sessionTypes: t.sessionTypes
                },
                n.length && (t.audioCapabilities = n),
                i.length && (t.videoCapabilities = i),
                a = t,
                Te(e, navigator.requestMediaKeySystemAccess(r.keySystemConfiguration.keySystem, [a]), 2)) : (a = e.h,
                e.return(a))
            })
        }
        function d1(e, t) {
            this.h = e,
            this.g = t,
            this.keySystem = e.keySystem
        }
        function f1(e) {
            return e.startsWith("com.widevine") || e.startsWith("com.microsoft") || e.startsWith("com.chromecast") || e.startsWith("com.adobe") || e.startsWith("org.w3") ? "cenc" : e.startsWith("com.apple") ? "cbcs-1-9" : (console.warn("EmeEncryptionSchemePolyfill: Unknown key system:", e, "Please contribute!"),
            null)
        }
        function p1(e) {
            var t = (e = e.getConfiguration()).audioCapabilities && e.audioCapabilities[0];
            return !(!(e = e.videoCapabilities && e.videoCapabilities[0] || t) || void 0 === e.encryptionScheme)
        }
        function g1() {}
        function m1() {
            i1(),
            u1()
        }
        Jt("video/mp2t", function() {
            return new Qy("video/mp2t")
        }, tn),
        n("EmeEncryptionSchemePolyfill", n1),
        n1.install = i1,
        n("McEncryptionSchemePolyfill", s1),
        s1.install = u1,
        d1.prototype.getConfiguration = function() {
            var e = this.h.getConfiguration();
            if (e.videoCapabilities)
                for (var t = we(e.videoCapabilities), n = t.next(); !n.done; n = t.next())
                    n.value.encryptionScheme = this.g;
            if (e.audioCapabilities)
                for (n = (t = we(e.audioCapabilities)).next(); !n.done; n = t.next())
                    n.value.encryptionScheme = this.g;
            return e
        }
        ,
        d1.prototype.createMediaKeys = function() {
            return this.h.createMediaKeys()
        }
        ,
        n("EncryptionSchemePolyfills", g1),
        g1.install = m1,
        void 0 !== a && a.exports && (a.exports = g1);
        for (var v1 = {
            ach: {
                A: "Lwo",
                B: "Acholi"
            },
            ady: {
                A: "Адыгэбзэ",
                B: "Adyghe"
            },
            af: {
                A: "Afrikaans",
                B: "Afrikaans"
            },
            "af-NA": {
                A: "Afrikaans (Namibia)",
                B: "Afrikaans (Namibia)"
            },
            "af-ZA": {
                A: "Afrikaans (South Africa)",
                B: "Afrikaans (South Africa)"
            },
            ak: {
                A: "Tɕɥi",
                B: "Akan"
            },
            ar: {
                A: "العربية",
                B: "Arabic"
            },
            "ar-AR": {
                A: "العربية",
                B: "Arabic"
            },
            "ar-MA": {
                A: "العربية",
                B: "Arabic (Morocco)"
            },
            "ar-SA": {
                A: "العربية (السعودية)",
                B: "Arabic (Saudi Arabia)"
            },
            "ay-BO": {
                A: "Aymar aru",
                B: "Aymara"
            },
            az: {
                A: "Azərbaycan dili",
                B: "Azerbaijani"
            },
            "az-AZ": {
                A: "Azərbaycan dili",
                B: "Azerbaijani"
            },
            "be-BY": {
                A: "Беларуская",
                B: "Belarusian"
            },
            bg: {
                A: "Български",
                B: "Bulgarian"
            },
            "bg-BG": {
                A: "Български",
                B: "Bulgarian"
            },
            bn: {
                A: "বাংলা",
                B: "Bengali"
            },
            "bn-IN": {
                A: "বাংলা (ভারত)",
                B: "Bengali (India)"
            },
            "bn-BD": {
                A: "বাংলা(বাংলাদেশ)",
                B: "Bengali (Bangladesh)"
            },
            "bs-BA": {
                A: "Bosanski",
                B: "Bosnian"
            },
            ca: {
                A: "Català",
                B: "Catalan"
            },
            "ca-ES": {
                A: "Català",
                B: "Catalan"
            },
            cak: {
                A: "Maya Kaqchikel",
                B: "Kaqchikel"
            },
            "ck-US": {
                A: "ᏣᎳᎩ (tsalagi)",
                B: "Cherokee"
            },
            cs: {
                A: "Čeština",
                B: "Czech"
            },
            "cs-CZ": {
                A: "Čeština",
                B: "Czech"
            },
            cy: {
                A: "Cymraeg",
                B: "Welsh"
            },
            "cy-GB": {
                A: "Cymraeg",
                B: "Welsh"
            },
            da: {
                A: "Dansk",
                B: "Danish"
            },
            "da-DK": {
                A: "Dansk",
                B: "Danish"
            },
            de: {
                A: "Deutsch",
                B: "German"
            },
            "de-AT": {
                A: "Deutsch (Österreich)",
                B: "German (Austria)"
            },
            "de-DE": {
                A: "Deutsch (Deutschland)",
                B: "German (Germany)"
            },
            "de-CH": {
                A: "Deutsch (Schweiz)",
                B: "German (Switzerland)"
            },
            dsb: {
                A: "Dolnoserbšćina",
                B: "Lower Sorbian"
            },
            el: {
                A: "Ελληνικά",
                B: "Greek"
            },
            "el-GR": {
                A: "Ελληνικά",
                B: "Greek (Greece)"
            },
            en: {
                A: "English",
                B: "English"
            },
            "en-GB": {
                A: "English (UK)",
                B: "English (UK)"
            },
            "en-AU": {
                A: "English (Australia)",
                B: "English (Australia)"
            },
            "en-CA": {
                A: "English (Canada)",
                B: "English (Canada)"
            },
            "en-IE": {
                A: "English (Ireland)",
                B: "English (Ireland)"
            },
            "en-IN": {
                A: "English (India)",
                B: "English (India)"
            },
            "en-PI": {
                A: "English (Pirate)",
                B: "English (Pirate)"
            },
            "en-UD": {
                A: "English (Upside Down)",
                B: "English (Upside Down)"
            },
            "en-US": {
                A: "English (US)",
                B: "English (US)"
            },
            "en-ZA": {
                A: "English (South Africa)",
                B: "English (South Africa)"
            },
            "en@pirate": {
                A: "English (Pirate)",
                B: "English (Pirate)"
            },
            eo: {
                A: "Esperanto",
                B: "Esperanto"
            },
            "eo-EO": {
                A: "Esperanto",
                B: "Esperanto"
            },
            es: {
                A: "Español",
                B: "Spanish"
            },
            "es-AR": {
                A: "Español (Argentine)",
                B: "Spanish (Argentina)"
            },
            "es-419": {
                A: "Español (Latinoamérica)",
                B: "Spanish (Latin America)"
            },
            "es-CL": {
                A: "Español (Chile)",
                B: "Spanish (Chile)"
            },
            "es-CO": {
                A: "Español (Colombia)",
                B: "Spanish (Colombia)"
            },
            "es-EC": {
                A: "Español (Ecuador)",
                B: "Spanish (Ecuador)"
            },
            "es-ES": {
                A: "Español (España)",
                B: "Spanish (Spain)"
            },
            "es-LA": {
                A: "Español (Latinoamérica)",
                B: "Spanish (Latin America)"
            },
            "es-NI": {
                A: "Español (Nicaragua)",
                B: "Spanish (Nicaragua)"
            },
            "es-MX": {
                A: "Español (México)",
                B: "Spanish (Mexico)"
            },
            "es-US": {
                A: "Español (Estados Unidos)",
                B: "Spanish (United States)"
            },
            "es-VE": {
                A: "Español (Venezuela)",
                B: "Spanish (Venezuela)"
            },
            et: {
                A: "eesti keel",
                B: "Estonian"
            },
            "et-EE": {
                A: "Eesti (Estonia)",
                B: "Estonian (Estonia)"
            },
            eu: {
                A: "Euskara",
                B: "Basque"
            },
            "eu-ES": {
                A: "Euskara",
                B: "Basque"
            },
            fa: {
                A: "فارسی",
                B: "Persian"
            },
            "fa-IR": {
                A: "فارسی",
                B: "Persian"
            },
            "fb-LT": {
                A: "Leet Speak",
                B: "Leet"
            },
            ff: {
                A: "Fulah",
                B: "Fulah"
            },
            fi: {
                A: "Suomi",
                B: "Finnish"
            },
            "fi-FI": {
                A: "Suomi",
                B: "Finnish"
            },
            "fo-FO": {
                A: "Føroyskt",
                B: "Faroese"
            },
            fr: {
                A: "Français",
                B: "French"
            },
            "fr-CA": {
                A: "Français (Canada)",
                B: "French (Canada)"
            },
            "fr-FR": {
                A: "Français (France)",
                B: "French (France)"
            },
            "fr-BE": {
                A: "Français (Belgique)",
                B: "French (Belgium)"
            },
            "fr-CH": {
                A: "Français (Suisse)",
                B: "French (Switzerland)"
            },
            "fy-NL": {
                A: "Frysk",
                B: "Frisian (West)"
            },
            ga: {
                A: "Gaeilge",
                B: "Irish"
            },
            "ga-IE": {
                A: "Gaeilge (Gaelic)",
                B: "Irish (Gaelic)"
            },
            gl: {
                A: "Galego",
                B: "Galician"
            },
            "gl-ES": {
                A: "Galego",
                B: "Galician"
            },
            "gn-PY": {
                A: "Avañe'ẽ",
                B: "Guarani"
            },
            "gu-IN": {
                A: "ગુજરાતી",
                B: "Gujarati"
            },
            "gx-GR": {
                A: "Ἑλληνική ἀρχαία",
                B: "Classical Greek"
            },
            he: {
                A: "עברית‏",
                B: "Hebrew"
            },
            "he-IL": {
                A: "עברית‏",
                B: "Hebrew"
            },
            hi: {
                A: "हिन्दी",
                B: "Hindi"
            },
            "hi-IN": {
                A: "हिन्दी",
                B: "Hindi"
            },
            hr: {
                A: "Hrvatski",
                B: "Croatian"
            },
            "hr-HR": {
                A: "Hrvatski",
                B: "Croatian"
            },
            hsb: {
                A: "Hornjoserbšćina",
                B: "Upper Sorbian"
            },
            ht: {
                A: "Kreyòl",
                B: "Haitian Creole"
            },
            hu: {
                A: "Magyar",
                B: "Hungarian"
            },
            "hu-HU": {
                A: "Magyar",
                B: "Hungarian"
            },
            "hy-AM": {
                A: "Հայերեն",
                B: "Armenian"
            },
            id: {
                A: "Bahasa Indonesia",
                B: "Indonesian"
            },
            "id-ID": {
                A: "Bahasa Indonesia",
                B: "Indonesian"
            },
            is: {
                A: "Íslenska",
                B: "Icelandic"
            },
            "is-IS": {
                A: "Íslenska (Iceland)",
                B: "Icelandic (Iceland)"
            },
            it: {
                A: "Italiano",
                B: "Italian"
            },
            "it-IT": {
                A: "Italiano",
                B: "Italian"
            },
            ja: {
                A: "日本語",
                B: "Japanese"
            },
            "ja-JP": {
                A: "日本語",
                B: "Japanese"
            },
            "jv-ID": {
                A: "Basa Jawa",
                B: "Javanese"
            },
            "ka-GE": {
                A: "ქართული",
                B: "Georgian"
            },
            "kk-KZ": {
                A: "Қазақша",
                B: "Kazakh"
            },
            km: {
                A: "ភាសាខ្មែរ",
                B: "Khmer"
            },
            "km-KH": {
                A: "ភាសាខ្មែរ",
                B: "Khmer"
            },
            kab: {
                A: "Taqbaylit",
                B: "Kabyle"
            },
            kn: {
                A: "ಕನ್ನಡ",
                B: "Kannada"
            },
            "kn-IN": {
                A: "ಕನ್ನಡ (India)",
                B: "Kannada (India)"
            },
            ko: {
                A: "한국어",
                B: "Korean"
            },
            "ko-KR": {
                A: "한국어 (韩国)",
                B: "Korean (Korea)"
            },
            ku: {
                A: "Kurdî",
                B: "Kurdish"
            },
            "ku-TR": {
                A: "Kurdî",
                B: "Kurdish"
            },
            la: {
                A: "Latin",
                B: "Latin"
            },
            "la-VA": {
                A: "Latin",
                B: "Latin"
            },
            lb: {
                A: "Lëtzebuergesch",
                B: "Luxembourgish"
            },
            "li-NL": {
                A: "Lèmbörgs",
                B: "Limburgish"
            },
            lt: {
                A: "Lietuvių",
                B: "Lithuanian"
            },
            "lt-LT": {
                A: "Lietuvių",
                B: "Lithuanian"
            },
            lv: {
                A: "Latviešu",
                B: "Latvian"
            },
            "lv-LV": {
                A: "Latviešu",
                B: "Latvian"
            },
            mai: {
                A: "मैथिली, মৈথিলী",
                B: "Maithili"
            },
            "mg-MG": {
                A: "Malagasy",
                B: "Malagasy"
            },
            mk: {
                A: "Македонски",
                B: "Macedonian"
            },
            "mk-MK": {
                A: "Македонски (Македонски)",
                B: "Macedonian (Macedonian)"
            },
            ml: {
                A: "മലയാളം",
                B: "Malayalam"
            },
            "ml-IN": {
                A: "മലയാളം",
                B: "Malayalam"
            },
            "mn-MN": {
                A: "Монгол",
                B: "Mongolian"
            },
            mr: {
                A: "मराठी",
                B: "Marathi"
            },
            "mr-IN": {
                A: "मराठी",
                B: "Marathi"
            },
            ms: {
                A: "Bahasa Melayu",
                B: "Malay"
            },
            "ms-MY": {
                A: "Bahasa Melayu",
                B: "Malay"
            },
            mt: {
                A: "Malti",
                B: "Maltese"
            },
            "mt-MT": {
                A: "Malti",
                B: "Maltese"
            },
            my: {
                A: "ဗမာစကာ",
                B: "Burmese"
            },
            nb: {
                A: "Norsk (bokmål)",
                B: "Norwegian (bokmal)"
            },
            "nb-NO": {
                A: "Norsk (bokmål)",
                B: "Norwegian (bokmal)"
            },
            ne: {
                A: "नेपाली",
                B: "Nepali"
            },
            "ne-NP": {
                A: "नेपाली",
                B: "Nepali"
            },
            nl: {
                A: "Nederlands",
                B: "Dutch"
            },
            "nl-BE": {
                A: "Nederlands (België)",
                B: "Dutch (Belgium)"
            },
            "nl-NL": {
                A: "Nederlands (Nederland)",
                B: "Dutch (Netherlands)"
            },
            "nn-NO": {
                A: "Norsk (nynorsk)",
                B: "Norwegian (nynorsk)"
            },
            no: {
                A: "Norsk",
                B: "Norwegian"
            },
            oc: {
                A: "Occitan",
                B: "Occitan"
            },
            "or-IN": {
                A: "ଓଡ଼ିଆ",
                B: "Oriya"
            },
            pa: {
                A: "ਪੰਜਾਬੀ",
                B: "Punjabi"
            },
            "pa-IN": {
                A: "ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",
                B: "Punjabi (India)"
            },
            pl: {
                A: "Polski",
                B: "Polish"
            },
            "pl-PL": {
                A: "Polski",
                B: "Polish"
            },
            "ps-AF": {
                A: "پښتو",
                B: "Pashto"
            },
            pt: {
                A: "Português",
                B: "Portuguese"
            },
            "pt-BR": {
                A: "Português (Brasil)",
                B: "Portuguese (Brazil)"
            },
            "pt-PT": {
                A: "Português (Portugal)",
                B: "Portuguese (Portugal)"
            },
            "qu-PE": {
                A: "Qhichwa",
                B: "Quechua"
            },
            "rm-CH": {
                A: "Rumantsch",
                B: "Romansh"
            },
            ro: {
                A: "Română",
                B: "Romanian"
            },
            "ro-RO": {
                A: "Română",
                B: "Romanian"
            },
            ru: {
                A: "Русский",
                B: "Russian"
            },
            "ru-RU": {
                A: "Русский",
                B: "Russian"
            },
            "sa-IN": {
                A: "संस्कृतम्",
                B: "Sanskrit"
            },
            "se-NO": {
                A: "Davvisámegiella",
                B: "Northern Sámi"
            },
            "si-LK": {
                A: "පළාත",
                B: "Sinhala (Sri Lanka)"
            },
            sk: {
                A: "Slovenčina",
                B: "Slovak"
            },
            "sk-SK": {
                A: "Slovenčina (Slovakia)",
                B: "Slovak (Slovakia)"
            },
            sl: {
                A: "Slovenščina",
                B: "Slovenian"
            },
            "sl-SI": {
                A: "Slovenščina",
                B: "Slovenian"
            },
            "so-SO": {
                A: "Soomaaliga",
                B: "Somali"
            },
            sq: {
                A: "Shqip",
                B: "Albanian"
            },
            "sq-AL": {
                A: "Shqip",
                B: "Albanian"
            },
            sr: {
                A: "Српски",
                B: "Serbian"
            },
            "sr-RS": {
                A: "Српски (Serbia)",
                B: "Serbian (Serbia)"
            },
            su: {
                A: "Basa Sunda",
                B: "Sundanese"
            },
            sv: {
                A: "Svenska",
                B: "Swedish"
            },
            "sv-SE": {
                A: "Svenska",
                B: "Swedish"
            },
            sw: {
                A: "Kiswahili",
                B: "Swahili"
            },
            "sw-KE": {
                A: "Kiswahili",
                B: "Swahili (Kenya)"
            },
            ta: {
                A: "தமிழ்",
                B: "Tamil"
            },
            "ta-IN": {
                A: "தமிழ்",
                B: "Tamil"
            },
            te: {
                A: "తెలుగు",
                B: "Telugu"
            },
            "te-IN": {
                A: "తెలుగు",
                B: "Telugu"
            },
            tg: {
                A: "забо́ни тоҷикӣ́",
                B: "Tajik"
            },
            "tg-TJ": {
                A: "тоҷикӣ",
                B: "Tajik"
            },
            th: {
                A: "ภาษาไทย",
                B: "Thai"
            },
            "th-TH": {
                A: "ภาษาไทย (ประเทศไทย)",
                B: "Thai (Thailand)"
            },
            tl: {
                A: "Filipino",
                B: "Filipino"
            },
            "tl-PH": {
                A: "Filipino",
                B: "Filipino"
            },
            tlh: {
                A: "tlhIngan-Hol",
                B: "Klingon"
            },
            tr: {
                A: "Türkçe",
                B: "Turkish"
            },
            "tr-TR": {
                A: "Türkçe",
                B: "Turkish"
            },
            "tt-RU": {
                A: "татарча",
                B: "Tatar"
            },
            uk: {
                A: "Українська",
                B: "Ukrainian"
            },
            "uk-UA": {
                A: "Українська",
                B: "Ukrainian"
            },
            ur: {
                A: "اردو",
                B: "Urdu"
            },
            "ur-PK": {
                A: "اردو",
                B: "Urdu"
            },
            uz: {
                A: "O'zbek",
                B: "Uzbek"
            },
            "uz-UZ": {
                A: "O'zbek",
                B: "Uzbek"
            },
            vi: {
                A: "Tiếng Việt",
                B: "Vietnamese"
            },
            "vi-VN": {
                A: "Tiếng Việt",
                B: "Vietnamese"
            },
            "xh-ZA": {
                A: "isiXhosa",
                B: "Xhosa"
            },
            yi: {
                A: "ייִדיש",
                B: "Yiddish"
            },
            "yi-DE": {
                A: "ייִדיש (German)",
                B: "Yiddish (German)"
            },
            zh: {
                A: "中文",
                B: "Chinese"
            },
            "zh-HANS": {
                A: "中文简体",
                B: "Chinese Simplified"
            },
            "zh-HANT": {
                A: "中文繁體",
                B: "Chinese Traditional"
            },
            "zh-CN": {
                A: "中文（中国）",
                B: "Chinese Simplified (China)"
            },
            "zh-HK": {
                A: "中文（香港）",
                B: "Chinese Traditional (Hong Kong)"
            },
            "zh-SG": {
                A: "中文（新加坡）",
                B: "Chinese Simplified (Singapore)"
            },
            "zh-TW": {
                A: "中文（台灣）",
                B: "Chinese Traditional (Taiwan)"
            },
            "zu-ZA": {
                A: "isiZulu",
                B: "Zulu"
            }
        }, y1 = we(Object.keys(v1)), b1 = y1.next(); !b1.done; b1 = y1.next()) {
            var w1 = b1.value;
            v1[w1.toLowerCase()] = v1[w1]
        }
        function m(e, t) {
            var n = this;
            this.parent = e,
            this.controls = t,
            this.eventManager = new nr,
            this.localization = this.controls.va,
            this.player = this.controls.Mc(),
            this.video = this.controls.cc(),
            this.adManager = this.player.ee(),
            this.ad = t.getAd(),
            this.eventManager.o(this.adManager, "ad-started", function(e) {
                n.ad = e.ad
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.ad = null
            })
        }
        function T1(e) {
            return A1(e, "shaka-back-to-overflow-button")
        }
        function A1(e, t) {
            return (e = e.getElementsByClassName(t)).length ? e[0] : null
        }
        function E1(e) {
            (e = e && A1(e, "shaka-chosen-item")) && e.parentElement.focus()
        }
        function S1() {
            var e = E("i");
            return e.classList.add("material-icons-round"),
            e.classList.add("shaka-chosen-item"),
            e.textContent = "done",
            e.ariaHidden = "true",
            e
        }
        function v(e, t) {
            e && (t ? e.classList.remove("shaka-hidden") : e.classList.add("shaka-hidden"))
        }
        function x1(e, t) {
            var n = Math.floor(e / 3600)
              , i = Math.floor(e / 60 % 60);
            return e = i + ":" + (e = (e = Math.floor(e % 60)) < 10 ? "0" + e : e),
            e = t ? n + ":" + (e = i < 10 ? "0" + e : e) : e
        }
        function I1(e, t) {
            m.call(this, e, t);
            var n = this;
            this.i = E("div"),
            this.i.classList.add("shaka-ad-counter"),
            this.parent.appendChild(this.i),
            this.h = E("span"),
            this.h.classList.add("shaka-ad-counter-span"),
            this.i.appendChild(this.h),
            this.g = new I(function() {
                var e = Math.round(n.ad.getRemainingTime())
                  , t = n.ad.getDuration();
                -1 != e && -1 != t && (0 < e ? (e = x1(t - e, !1) + " / " + x1(t, !1),
                1 < n.ad.getSequenceLength() ? n.h.textContent = e : (t = n.localization.resolve("AD_TIME"),
                n.h.textContent = t.replace("[AD_TIME]", e))) : (n.g.stop(),
                n.h.textContent = ""))
            }
            ),
            this.eventManager.o(this.localization, "locale-updated", function() {}),
            this.eventManager.o(this.localization, "locale-changed", function() {}),
            this.eventManager.o(this.adManager, "ad-started", function() {
                n.g.Qa(),
                n.g.za(.5)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.g.stop(),
                n.h.textContent = ""
            }),
            this.ad && (this.g.Qa(),
            this.g.za(.5))
        }
        function k1(e, t) {
            m.call(this, e, t);
            var n = this;
            this.g = E("div"),
            this.g.classList.add("shaka-ad-position"),
            v(this.g, !1),
            this.parent.appendChild(this.g),
            this.h = E("span"),
            this.h.classList.add("shaka-ad-position-span"),
            this.g.appendChild(this.h),
            this.eventManager.o(this.localization, "locale-updated", function() {
                n.ad && C1(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                n.ad && C1(n)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                C1(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.h.textContent = "",
                v(n.g, !1)
            }),
            this.ad && C1(this)
        }
        function C1(e) {
            var t, n = e.ad.getSequenceLength();
            1 < n && (t = e.ad.getPositionInSequence(),
            e.h.textContent = e.localization.resolve("AD_PROGRESS").replace("[AD_ON]", String(t)).replace("[NUM_ADS]", String(n)),
            v(e.g, !0))
        }
        function M1(e, t) {
            m.call(this, e, t);
            var n = this;
            this.button = nu(),
            this.parent.appendChild(this.button),
            this.eventManager.o(this.localization, "locale-updated", function() {
                n.g()
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                n.g()
            }),
            this.eventManager.o(this.video, "play", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.video, "pause", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.video, "seeking", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-paused", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-resumed", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.g(),
                n.h()
            }),
            this.eventManager.o(this.button, "click", function() {
                (n.ad && n.ad.isLinear() ? Z1 : $1)(n.controls)
            }),
            this.ad && (this.g(),
            this.h())
        }
        function L1(e, t) {
            M1.call(this, e, t),
            this.button.classList.add("shaka-play-button"),
            this.button.classList.add("shaka-no-propagation"),
            this.h(),
            this.g()
        }
        function R1(e, t) {
            m.call(this, e, t);
            for (var n = this, i = (this.j = this.controls.g,
            this.h = this.controls.h,
            this.i = [],
            this.g = E("div"),
            this.g.classList.add("shaka-no-propagation"),
            this.g.classList.add("shaka-context-menu"),
            this.g.classList.add("shaka-hidden"),
            this.h.appendChild(this.g),
            this.eventManager.o(this.h, "contextmenu", function(e) {
                var t;
                n.g.classList.contains("shaka-hidden") ? (e.preventDefault(),
                t = n.h.getBoundingClientRect(),
                n.g.style.left = e.clientX - t.left + "px",
                n.g.style.top = e.clientY - t.top + "px",
                v(n.g, !0)) : v(n.g, !1)
            }),
            this.eventManager.o(z, "click", function() {
                v(n.g, !1)
            }),
            this), r = we(i.j.contextMenuElements), a = r.next(); !a.done; a = r.next()) {
                a = a.value;
                var o = P1.get(a);
                o ? i.i.push(o.create(i.g, i.controls)) : X("Unrecognized context menu element:", a)
            }
        }
        function N1(e, t) {
            P1.set(e, t)
        }
        m.prototype.release = function() {
            this.eventManager.release(),
            this.ad = this.adManager = this.video = this.player = this.localization = this.eventManager = this.controls = this.parent = null
        }
        ,
        n("shaka.ui.Element", m),
        t(I1, m),
        I1.prototype.release = function() {
            this.g.stop(),
            this.g = null,
            m.prototype.release.call(this)
        }
        ,
        n("shaka.ui.AdCounter", I1),
        t(k1, m),
        n("shaka.ui.AdPosition", k1),
        t(M1, m),
        M1.prototype.isPaused = function() {
            var e = this.ad && this.ad.isLinear() ? this.ad.isPaused() : (e = this.controls).u.paused && !e.W;
            return e
        }
        ,
        M1.prototype.isEnded = function() {
            return (!this.ad || !this.ad.isLinear()) && this.video.ended
        }
        ,
        M1.prototype.g = function() {}
        ,
        M1.prototype.h = function() {}
        ,
        n("shaka.ui.PlayButton", M1),
        t(L1, M1),
        L1.prototype.h = function() {
            this.isPaused() ? this.button.setAttribute("icon", "play") : this.button.setAttribute("icon", "pause")
        }
        ,
        L1.prototype.g = function() {
            var e = this.isPaused() ? "PLAY" : "PAUSE";
            this.button.ariaLabel = this.localization.resolve(e)
        }
        ,
        n("shaka.ui.BigPlayButton", L1),
        t(R1, m),
        R1.prototype.release = function() {
            this.h = null;
            for (var e = we(this.i), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.i = [],
            m.prototype.release.call(this)
        }
        ,
        n("shaka.ui.ContextMenu", R1),
        R1.registerElement = N1;
        var P1 = new Map;
        function D1(e, t) {
            m.call(this, e, t);
            var n = this;
            this.m = null,
            this.s = !1,
            this.j = new I(function() {
                0 != parseInt(n.h.textContent, 10) && (n.video.currentTime = n.controls.Hf() + parseInt(n.h.textContent, 10)),
                n.g.style.opacity = "0",
                n.s = !1,
                n.h.textContent = "0s"
            }
            ),
            this.g = E("div"),
            this.parent.appendChild(this.g),
            this.eventManager.o(this.g, "touchend", function(e) {
                n.controls.dc() && (n.controls.nd() ? (e.preventDefault(),
                n.controls.uc()) : 0 < n.controls.g.tapSeekDistance && (e.preventDefault(),
                e = n.controls.g.tapSeekDistance,
                n.s ? n.m + 1e3 > Date.now() && (n.j.stop(),
                n.m = Date.now(),
                n.h.textContent = (n.l ? parseInt(n.h.textContent, 10) - e : parseInt(n.h.textContent, 10) + e).toString() + "s",
                n.g.style.opacity = "1",
                n.j.S(1)) : (n.s = !0,
                n.m = Date.now(),
                n.j.S(1))))
            }),
            this.h = E("span"),
            this.h.textContent = "0s",
            this.g.appendChild(this.h),
            this.i = E("span"),
            this.i.classList.add("shaka-forward-rewind-container-icon"),
            this.g.appendChild(this.i),
            this.l = !1
        }
        function _1(e, t) {
            D1.call(this, e, t),
            this.g.classList.add("shaka-fast-foward-container"),
            this.i.textContent = "fast_forward",
            this.l = !1
        }
        function U1(e, t) {
            D1.call(this, e, t),
            this.g.classList.add("shaka-rewind-container"),
            this.i.textContent = "fast_rewind",
            this.l = !0
        }
        function O1(e, t, n, i) {
            m.call(this, e, t);
            var r = this;
            this.container = E("div"),
            this.container.classList.add("shaka-range-container"),
            this.container.classList.add.apply(this.container.classList, le(n)),
            this.h = !1,
            this.bar = document.createElement("input"),
            this.G = new I(function() {
                r.onChangeEnd(),
                r.h = !1
            }
            ),
            this.bar.classList.add("shaka-range-element"),
            this.bar.classList.add.apply(this.bar.classList, le(i)),
            this.bar.type = "range",
            this.bar.step = "any",
            this.bar.min = "0",
            this.bar.max = "1",
            this.bar.value = "0",
            this.container.appendChild(this.bar),
            this.parent.appendChild(this.container),
            this.eventManager.o(this.bar, "mousedown", function() {
                r.controls.dc() && (r.h = !0,
                r.onChangeStart())
            }),
            this.eventManager.o(this.bar, "touchstart", function(e) {
                r.controls.dc() && (r.h = !0,
                j1(r, e),
                r.onChangeStart())
            }),
            this.eventManager.o(this.bar, "input", function() {
                r.onChange()
            }),
            this.eventManager.o(this.bar, "touchmove", function(e) {
                r.h && (j1(r, e),
                r.onChange())
            }),
            this.eventManager.o(this.bar, "touchend", function(e) {
                r.h && (r.h = !1,
                j1(r, e),
                r.onChangeEnd())
            }),
            this.eventManager.o(this.bar, "touchcancel", function(e) {
                r.h && (r.h = !1,
                j1(r, e),
                r.onChangeEnd())
            }),
            this.eventManager.o(this.bar, "mouseup", function() {
                r.h && (r.h = !1,
                r.onChangeEnd())
            }),
            this.eventManager.o(this.bar, "blur", function() {
                r.h && (r.h = !1,
                r.onChangeEnd())
            }),
            this.eventManager.o(this.bar, "contextmenu", function(e) {
                e.preventDefault(),
                e.stopPropagation()
            })
        }
        function j1(e, t) {
            t.preventDefault();
            var n = t.changedTouches[0]
              , i = e.bar.getBoundingClientRect()
              , r = (t = parseFloat(e.bar.min),
            parseFloat(e.bar.max));
            (n = t + (r - t) / i.width * (n.clientX - i.left)) < t ? n = t : r < n && (n = r),
            e.bar.value = n
        }
        function B1(e, t) {
            O1.call(this, e, t, ["shaka-seek-bar-container"], ["shaka-seek-bar", "shaka-no-propagation", "shaka-show-controls-on-mouse-over"]);
            var i = this;
            this.D = E("div"),
            this.D.classList.add("shaka-ad-markers"),
            this.container.insertBefore(this.D, this.container.childNodes[0]),
            this.H = this.controls.g,
            this.s = new I(function() {
                var e = i.getValue();
                i.player.R() || e == i.video.duration && (e -= .001),
                i.video.currentTime = e
            }
            ),
            this.I = new I(function() {
                F1(i)
            }
            ),
            this.K = !1,
            this.i = E("div"),
            this.i.id = "shaka-player-ui-thumbnail-container",
            this.g = E("img"),
            this.g.id = "shaka-player-ui-thumbnail-image",
            this.g.draggable = !1,
            this.u = E("div"),
            this.u.id = "shaka-player-ui-thumbnail-time",
            this.i.appendChild(this.g),
            this.i.appendChild(this.u),
            this.container.appendChild(this.i),
            this.j = this.l = null,
            this.J = !1,
            this.m = new I(function() {
                z1(i)
            }
            ),
            this.C = [],
            this.eventManager.o(this.localization, "locale-updated", function() {
                return K1(i)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                return K1(i)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                V1(i) || v(i.container, !1)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                V1(i) && v(i.container, !0)
            }),
            this.eventManager.o(this.adManager, "ad-cue-points-changed", function(e) {
                i.C = e.cuepoints,
                G1(i)
            }),
            this.eventManager.o(this.player, "unloading", function() {
                i.C = [],
                G1(i),
                i.j && (i.j.abort(),
                i.j = null),
                i.l = null,
                z1(i)
            }),
            this.eventManager.o(this.bar, "mousemove", function(e) {
                var t, n;
                i.player.fe().length ? (t = i.bar.getBoundingClientRect(),
                n = parseFloat(i.bar.min),
                e = e.clientX - t.left,
                H1(i, e, Math.round(n + (parseFloat(i.bar.max) - n) / t.width * e))) : z1(i)
            }),
            this.eventManager.o(this.container, "mouseleave", function() {
                i.m.stop(),
                i.m.S(.25)
            }),
            this.setValue(this.video.currentTime),
            this.update(),
            K1(this),
            this.ad && v(this.container, !1)
        }
        function F1(e) {
            if (e.C.length) {
                for (var t, n, i = e.player.Ha(), r = i.end - i.start, a = ["to right"], o = [], s = e.H.seekBarColors.adBreaks, u = !1, l = we(e.C), c = l.next(); !c.done; c = l.next())
                    -1 != (c = c.value).start || c.end || (u = !0),
                    c.start >= i.start && c.start < i.end && !(c.end && c.end > i.end) && (n = (t = (c.start - i.start) / r || 0) + .01,
                    c.end && (n = (c.end - i.start) / r || 0),
                    o.push({
                        start: t,
                        end: n
                    }));
                for (c = (i = we(o)).next(); !c.done; c = i.next())
                    r = c.value,
                    a.push("transparent " + 100 * r.start + "%"),
                    a.push(s + " " + 100 * r.start + "%"),
                    a.push(s + " " + 100 * r.end + "%"),
                    a.push("transparent " + 100 * r.end + "%");
                u && (a.push("transparent 99%"),
                a.push(s + " 99%")),
                e.D.style.background = "linear-gradient(" + a.join(",") + ")"
            } else
                e.D.style.background = "transparent"
        }
        function G1(e) {
            F1(e);
            var t = (t = e.player.Ha()).end - t.start;
            e.player.R() && 5 < t && e.I.za(1)
        }
        function V1(e) {
            var t = (t = e.player.Ha()).end - t.start;
            return !(e.player.R() && t < 5) && (null == e.ad || !e.ad.isLinear())
        }
        function K1(e) {
            e.bar.ariaLabel = e.localization.resolve("SEEK")
        }
        function H1(t, n, i) {
            var r, a, o, s, u, l, c, h, d, f, p, g;
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    return (r = function(e) {
                        var t = e.player.fe();
                        if (!t.length)
                            return null;
                        for (var n = {}, i = we(["image/avif", "image/webp", "image/jpeg", "image/png", "image/svg+xml"]), r = i.next(); !r.done; n = {
                            Ve: n.Ve,
                            Te: n.Te
                        },
                        r = i.next())
                            if (n.Ve = r.value,
                            n.Te = e.player.getStats().estimatedBandwidth,
                            (r = t.filter(function(t) {
                                return function(e) {
                                    return e.mimeType.toLowerCase() === t.Ve && e.bandwidth < .01 * t.Te
                                }
                            }(n)).sort(function(e, t) {
                                return t.bandwidth - e.bandwidth
                            })) && r.length)
                                return r[0];
                        return t.find(function(e) {
                            return "application/mp4" == e.mimeType && "mjpg" == e.codecs
                        }) || t[0]
                    }(t)) ? (i < 0 && (i = 0),
                    a = t.player.Ha(),
                    s = Math.max(Math.ceil(a.start), Math.min(Math.floor(a.end), i)),
                    Te(e, t.player.Kf(r.id, s), 2)) : (z1(t),
                    e.return());
                case 2:
                    if (!(o = e.h) || !o.uris.length)
                        return z1(t),
                        e.return();
                    if (t.player.R() ? (s = a.end - i,
                    t.u.textContent = s < 1 ? t.localization.resolve("LIVE") : "-" + X1(s)) : t.u.textContent = X1(i),
                    u = -10,
                    l = t.i.clientWidth,
                    c = Math.floor(9 * l / 16),
                    t.i.style.height = c + "px",
                    t.i.style.top = -(c - u) + "px",
                    d = Math.min(t.bar.offsetWidth - l, Math.max(0, n - l / 2)),
                    t.i.style.left = d + "px",
                    t.i.style.visibility = "visible",
                    h = o.uris[0].split("#xywh=")[0],
                    t.l && h === t.l.uris[0].split("#xywh=")[0] && o.segment.Pb() == t.l.segment.Pb() && o.segment.Mb() == t.l.segment.Mb()) {
                        e.F(3);
                        break
                    }
                    if (t.l = o,
                    t.j && (t.j.abort(),
                    t.j = null),
                    "mjpg" == r.codecs || h.startsWith("offline:"))
                        return t.g.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',
                        Ee(e, 5),
                        d = $i,
                        f = Ms(o.segment.ba(), o.segment.Pb(), o.segment.Mb(), t.player.getConfiguration().streaming.retryParameters),
                        t.j = t.player.Zb().request(d, f, {
                            type: 1
                        }),
                        Te(e, t.j.promise, 7);
                    e.F(4);
                    break;
                case 7:
                    d = e.h,
                    t.j = null,
                    "mjpg" == r.codecs ? (new yr).box("mdat", Tr(function(e) {
                        h = URL.createObjectURL(new Blob([e],{
                            type: "image/jpeg"
                        }))
                    })).parse(d.data, !1) : (f = r.mimeType || "image/jpeg",
                    p = new Blob([d.data],{
                        type: f
                    }),
                    h = URL.createObjectURL(p)),
                    Se(e, 4);
                    break;
                case 5:
                    if (7001 == (p = xe(e)).code)
                        return e.return();
                    throw p;
                case 4:
                    try {
                        t.i.removeChild(t.g)
                    } catch (e) {}
                    t.g = E("img"),
                    t.g.id = "shaka-player-ui-thumbnail-image",
                    t.g.draggable = !1,
                    t.g.src = h,
                    t.g.onload = function() {
                        h.startsWith("blob:") && URL.revokeObjectURL(h)
                    }
                    ,
                    t.i.insertBefore(t.g, t.i.firstChild);
                case 3:
                    g = l / o.width,
                    o.imageHeight ? t.g.height = o.imageHeight : o.sprite || (t.g.style.height = "100%",
                    t.g.style.objectFit = "contain"),
                    o.imageWidth ? t.g.width = o.imageWidth : o.sprite || (t.g.style.width = "100%",
                    t.g.style.objectFit = "contain"),
                    t.g.style.left = "-" + g * o.positionX + "px",
                    t.g.style.top = "-" + g * o.positionY + "px",
                    t.g.style.transform = "scale(" + g + ")",
                    t.g.style.transformOrigin = "left top",
                    c = Math.floor(l * o.height / o.width),
                    t.i.style.height = c + "px",
                    t.i.style.top = -(c - u) + "px",
                    Ae(e)
                }
            })
        }
        function z1(e) {
            e.i.style.visibility = "hidden",
            e.u.textContent = ""
        }
        function X1(e) {
            var t = Math.round(e)
              , n = (e = Math.floor(t / 3600),
            Math.floor((t - 3600 * e) / 60));
            return (t = t - 3600 * e - 60 * n) < 10 && (t = "0" + t),
            0 < e ? e + ":" + (n = n < 10 ? "0" + n : n) + ":" + t : n + ":" + t
        }
        function W1() {}
        function i(e, t, n, i) {
            d.call(this);
            var o, r = this;
            this.N = !0,
            this.g = i,
            this.C = new Gc(n,e,this.g.castReceiverAppId,this.g.castAndroidReceiverCompatible),
            this.ua = !0,
            this.u = this.C.cc(),
            this.s = n,
            this.G = this.C.Mc(),
            this.sa = e,
            this.j = t,
            this.Wa = this.G.ee(),
            this.l = this.m = null,
            this.W = !1,
            this.H = [],
            this.Xb = [],
            this.Ib = !1,
            this.Z = new I(function() {
                r.j.style.cursor = "none",
                r.Ib = !1,
                tb(r)
            }
            ),
            this.aa = new I(function() {
                r.h.removeAttribute("shown"),
                r.I.S(2)
            }
            ),
            this.I = new I(function() {
                for (var e = we(r.H), t = e.next(); !t.done; t = e.next())
                    v(t.value, !1)
            }
            ),
            this.Ra = new I(function() {
                r.dc() && ob(r)
            }
            ),
            this.J = null,
            this.D = [],
            this.va = ((i = new nt("en")).ya("ar", new Map([["AD_DURATION", "مدة الإعلان"], ["AD_PROGRESS", "الإعلان [AD_ON] من [NUM_ADS]"], ["AD_TIME", "الإعلان: [AD_TIME]"], ["AUTO_QUALITY", "تلقائي"], ["BACK", "رجوع"], ["CAPTIONS", "الترجمة والشرح"], ["CAST", "إرسال..."], ["ENTER_LOOP_MODE", "تكرار الفيديو الحالي"], ["ENTER_PICTURE_IN_PICTURE", 'الدخول في وضع "نافذة ضمن نافذة"'], ["EXIT_FULL_SCREEN", "إنهاء وضع ملء الشاشة"], ["EXIT_LOOP_MODE", "إيقاف تكرار الفيديو الحالي"], ["EXIT_PICTURE_IN_PICTURE", 'الخروج من وضع "نافذة ضمن نافذة"'], ["FAST_FORWARD", "تقديم سريع"], ["FULL_SCREEN", "ملء الشاشة"], ["LANGUAGE", "اللغة"], ["LIVE", "مباشر"], ["LOOP", "تكرار"], ["MORE_SETTINGS", "مزيد من الإعدادات"], ["MULTIPLE_LANGUAGES", "لغات متعددة"], ["MUTE", "كتم الصوت"], ["NOT_APPLICABLE", "غير سارٍ"], ["OFF", "إيقاف"], ["ON", "تشغيل"], ["PAUSE", "إيقاف مؤقت"], ["PICTURE_IN_PICTURE", "نافذة ضمن النافذة"], ["PLAY", "التشغيل"], ["PLAYBACK_RATE", "سرعة التشغيل"], ["RESOLUTION", "درجة الدقة"], ["REWIND", "ترجيع"], ["SEEK", "البحث بالتمرير"], ["SKIP_AD", "تخطّي الإعلان"], ["SKIP_TO_LIVE", "الانتقال إلى بث مباشر"], ["UNDETERMINED_LANGUAGE", "غير محدد"], ["UNMUTE", "إعادة الصوت"], ["UNRECOGNIZED_LANGUAGE", "غير معروف"], ["VOLUME", "مستوى الصوت"]])),
            i.ya("de", new Map([["AD_DURATION", "Dauer der Werbeanzeige"], ["AD_PROGRESS", "Werbung [AD_ON] von [NUM_ADS]"], ["AD_TIME", "Werbeanzeige: [AD_TIME]"], ["AUTO_QUALITY", "Automatisch"], ["BACK", "Zurück"], ["CAPTIONS", "Untertitel"], ["CAST", "Streamen..."], ["ENTER_LOOP_MODE", "In Endlosschleife spielen"], ["ENTER_PICTURE_IN_PICTURE", "Bild-im-Bild-Modus aktivieren"], ["EXIT_FULL_SCREEN", "Vollbildmodus beenden"], ["EXIT_LOOP_MODE", "Endlosschleife stoppen"], ["EXIT_PICTURE_IN_PICTURE", "Bild-im-Bild-Modus beenden"], ["FAST_FORWARD", "Vorspulen"], ["FULL_SCREEN", "Vollbildmodus"], ["LANGUAGE", "Sprache"], ["LIVE", "Live"], ["LOOP", "Schleife"], ["MORE_SETTINGS", "Weitere Einstellungen"], ["MULTIPLE_LANGUAGES", "Mehrere Sprachen"], ["MUTE", "Stummschalten"], ["NOT_APPLICABLE", "Nicht zutreffend"], ["OFF", "Aus"], ["ON", "Ein"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Bild im Bild"], ["PLAY", "Wiedergabe"], ["PLAYBACK_RATE", "Geschwindigkeit"], ["RESOLUTION", "Auflösung"], ["REWIND", "Zurückspulen"], ["SEEK", "Suche"], ["SKIP_AD", "Überspringen"], ["SKIP_TO_LIVE", "Zum Live-Videostream wechseln"], ["UNDETERMINED_LANGUAGE", "Unbestimmt"], ["UNMUTE", "Stummschaltung aufheben"], ["UNRECOGNIZED_LANGUAGE", "Unbekannt"], ["VOLUME", "Lautstärke"]])),
            i.ya("en", new Map([["AD_DURATION", "Ad duration"], ["AD_PROGRESS", "Ad [AD_ON] of [NUM_ADS]"], ["AD_TIME", "Ad: [AD_TIME]"], ["AIRPLAY", "AirPlay"], ["AUTO_QUALITY", "Auto"], ["BACK", "Back"], ["CAPTIONS", "Captions"], ["CAST", "Cast..."], ["ENTER_LOOP_MODE", "Loop the current video"], ["ENTER_PICTURE_IN_PICTURE", "Enter Picture-in-Picture"], ["EXIT_FULL_SCREEN", "Exit full screen"], ["EXIT_LOOP_MODE", "Stop looping the current video"], ["EXIT_PICTURE_IN_PICTURE", "Exit Picture-in-Picture"], ["FAST_FORWARD", "Fast-forward"], ["FULL_SCREEN", "Full screen"], ["LANGUAGE", "Language"], ["LIVE", "Live"], ["LOOP", "Loop"], ["MORE_SETTINGS", "More settings"], ["MULTIPLE_LANGUAGES", "Multiple languages"], ["MUTE", "Mute"], ["NOT_APPLICABLE", "Not applicable"], ["OFF", "Off"], ["ON", "On"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Picture-in-Picture"], ["PLAY", "Play"], ["PLAYBACK_RATE", "Playback speed"], ["QUALITY", "Quality"], ["REPLAY", "Replay"], ["RESOLUTION", "Resolution"], ["REWIND", "Rewind"], ["SEEK", "Seek"], ["SKIP_AD", "Skip Ad"], ["SKIP_TO_LIVE", "Skip ahead to live"], ["STATISTICS", "Statistics"], ["SUBTITLE_FORCED", "Forced"], ["SURROUND", "Surround"], ["UNDETERMINED_LANGUAGE", "Undetermined"], ["UNMUTE", "Unmute"], ["UNRECOGNIZED_LANGUAGE", "Unrecognized"], ["VOLUME", "Volume"]])),
            i.ya("en-GB", new Map([["AD_DURATION", "Ad duration"], ["AD_PROGRESS", "Ad [AD_ON] of [NUM_ADS]"], ["AD_TIME", "Ad: [AD_TIME]"], ["AUTO_QUALITY", "Auto"], ["BACK", "Back"], ["CAPTIONS", "Captions"], ["CAST", "Cast..."], ["ENTER_LOOP_MODE", "Loop the current video"], ["ENTER_PICTURE_IN_PICTURE", "Enter picture-in-picture"], ["EXIT_FULL_SCREEN", "Exit full screen"], ["EXIT_LOOP_MODE", "Stop looping the current video"], ["EXIT_PICTURE_IN_PICTURE", "Exit picture-in-picture"], ["FAST_FORWARD", "Fast-forward"], ["FULL_SCREEN", "Full screen"], ["LANGUAGE", "Language"], ["LIVE", "Live"], ["LOOP", "Loop"], ["MORE_SETTINGS", "More settings"], ["MULTIPLE_LANGUAGES", "Multiple languages"], ["MUTE", "Mute"], ["NOT_APPLICABLE", "Not applicable"], ["OFF", "Off"], ["ON", "On"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Picture-in-picture"], ["PLAY", "Play"], ["PLAYBACK_RATE", "Playback speed"], ["RESOLUTION", "Resolution"], ["REWIND", "Rewind"], ["SEEK", "Seek"], ["SKIP_AD", "Skip ad"], ["SKIP_TO_LIVE", "Skip ahead to live"], ["UNDETERMINED_LANGUAGE", "Undetermined"], ["UNMUTE", "Unmute"], ["UNRECOGNIZED_LANGUAGE", "Unrecognised"], ["VOLUME", "volume"]])),
            i.ya("es", new Map([["AD_DURATION", "Duración del anuncio"], ["AD_PROGRESS", "Anuncio [AD_ON] de [NUM_ADS]"], ["AD_TIME", "Anuncio: [AD_TIME]"], ["AUTO_QUALITY", "Automático"], ["BACK", "Atrás"], ["CAPTIONS", "Subtítulos"], ["CAST", "Enviar..."], ["ENTER_LOOP_MODE", "Reproducir en bucle el vídeo actual"], ["ENTER_PICTURE_IN_PICTURE", "Activar el modo imagen en imagen"], ["EXIT_FULL_SCREEN", "Salir del modo de pantalla completa"], ["EXIT_LOOP_MODE", "Dejar de reproducir en bucle el vídeo actual"], ["EXIT_PICTURE_IN_PICTURE", "Salir del modo imagen en imagen"], ["FAST_FORWARD", "Avanzar rápidamente"], ["FULL_SCREEN", "Pantalla completa"], ["LANGUAGE", "Idioma"], ["LIVE", "En directo"], ["LOOP", "Reproducir en bucle"], ["MORE_SETTINGS", "Más ajustes"], ["MULTIPLE_LANGUAGES", "Varios idiomas"], ["MUTE", "Silenciar"], ["NOT_APPLICABLE", "No aplicable"], ["OFF", "Desactivado"], ["ON", "Activado"], ["PAUSE", "Pausar"], ["PICTURE_IN_PICTURE", "Imagen en imagen"], ["PLAY", "Reproducir"], ["PLAYBACK_RATE", "Velocidad de reproducción"], ["RESOLUTION", "Resolución"], ["REWIND", "Rebobinar"], ["SEEK", "Buscar"], ["SKIP_AD", "Saltar anuncio"], ["SKIP_TO_LIVE", "Ir al vídeo en directo"], ["SUBTITLE_FORCED", "Forzado"], ["SURROUND", "Envolvente"], ["UNDETERMINED_LANGUAGE", "Sin especificar"], ["UNMUTE", "Activar sonido"], ["UNRECOGNIZED_LANGUAGE", "No reconocida"], ["VOLUME", "Volumen"]])),
            i.ya("es-419", new Map([["AD_DURATION", "Duración del anuncio"], ["AD_PROGRESS", "Anuncio [AD_ON] de [NUM_ADS]"], ["AD_TIME", "Anuncio: [AD_TIME]"], ["AUTO_QUALITY", "Automático"], ["BACK", "Atrás"], ["CAPTIONS", "Subtítulos"], ["CAST", "Transmitir..."], ["ENTER_LOOP_MODE", "Repetir indefinidamente el video actual"], ["ENTER_PICTURE_IN_PICTURE", "Ingresar al modo de pantalla en pantalla"], ["EXIT_FULL_SCREEN", "Salir de pantalla completa"], ["EXIT_LOOP_MODE", "Detener la repetición indefinida del video actual"], ["EXIT_PICTURE_IN_PICTURE", "Salir del modo de pantalla en pantalla"], ["FAST_FORWARD", "Avanzar"], ["FULL_SCREEN", "Pantalla completa"], ["LANGUAGE", "Idioma"], ["LIVE", "En directo"], ["LOOP", "Repetir indefinidamente"], ["MORE_SETTINGS", "Más opciones de configuración"], ["MULTIPLE_LANGUAGES", "Varios idiomas"], ["MUTE", "Silenciar"], ["NOT_APPLICABLE", "No aplicable"], ["OFF", "Desactivado"], ["ON", "Activado"], ["PAUSE", "Detener"], ["PICTURE_IN_PICTURE", "Pantalla en pantalla"], ["PLAY", "Reproducir"], ["PLAYBACK_RATE", "Velocidad de reproducción"], ["RESOLUTION", "Resolución"], ["REWIND", "Retroceder"], ["SEEK", "Buscar"], ["SKIP_AD", "Omitir anuncio"], ["SKIP_TO_LIVE", "Adelantar hasta la transmisión en vivo"], ["SUBTITLE_FORCED", "Forzado"], ["SURROUND", "Envolvente"], ["UNDETERMINED_LANGUAGE", "Sin especificar"], ["UNMUTE", "Dejar de silenciar"], ["UNRECOGNIZED_LANGUAGE", "No reconocida"], ["VOLUME", "Volumen"]])),
            i.ya("fr", new Map([["AD_DURATION", "Durée de l'annonce"], ["AD_PROGRESS", "Annonce [AD_ON] sur [NUM_ADS]"], ["AD_TIME", "Annonce : [AD_TIME]"], ["AUTO_QUALITY", "Automatique"], ["BACK", "Retour"], ["CAPTIONS", "Sous-titres"], ["CAST", "Caster…"], ["ENTER_LOOP_MODE", "Lire en boucle la vidéo en cours"], ["ENTER_PICTURE_IN_PICTURE", "Utiliser le mode Picture-in-Picture"], ["EXIT_FULL_SCREEN", "Quitter le mode plein écran"], ["EXIT_LOOP_MODE", "Arrêter la lecture en boucle de la vidéo en cours"], ["EXIT_PICTURE_IN_PICTURE", "Quitter le mode PIP (Picture-in-picture)"], ["FAST_FORWARD", "Avance rapide"], ["FULL_SCREEN", "Plein écran"], ["LANGUAGE", "Langue"], ["LIVE", "En direct"], ["LOOP", "Répéter"], ["MORE_SETTINGS", "Plus de paramètres"], ["MULTIPLE_LANGUAGES", "Plusieurs langues"], ["MUTE", "Couper le son"], ["NOT_APPLICABLE", "Non applicable"], ["OFF", "Désactivée"], ["ON", "Activée"], ["PAUSE", "Pause"], ["PICTURE_IN_PICTURE", "Picture-in-Picture"], ["PLAY", "Visionner"], ["PLAYBACK_RATE", "Vitesse de lecture"], ["RESOLUTION", "Résolution"], ["REWIND", "Retour arrière"], ["SEEK", "Chercher"], ["SKIP_AD", "Passer l'annonce"], ["SKIP_TO_LIVE", "Accéder à la partie la plus récente du direct"], ["UNDETERMINED_LANGUAGE", "Langue indéterminée"], ["UNMUTE", "Réactiver le son"], ["UNRECOGNIZED_LANGUAGE", "Non reconnu"], ["VOLUME", "Volume"]])),
            i.ya("it", new Map([["AD_DURATION", "Durata dell'annuncio"], ["AD_PROGRESS", "Annuncio [AD_ON] di [NUM_ADS]"], ["AD_TIME", "Annuncio: [AD_TIME]"], ["AUTO_QUALITY", "Automatica"], ["BACK", "Indietro"], ["CAPTIONS", "Sottotitoli"], ["CAST", "Trasmetti..."], ["ENTER_LOOP_MODE", "Riproduci in loop il video corrente"], ["ENTER_PICTURE_IN_PICTURE", "Attiva Picture in picture"], ["EXIT_FULL_SCREEN", "Esci da schermo intero"], ["EXIT_LOOP_MODE", "Interrompi riproduzione in loop del video corrente"], ["EXIT_PICTURE_IN_PICTURE", "Esci da Picture in picture"], ["FAST_FORWARD", "Avanti veloce"], ["FULL_SCREEN", "Schermo intero"], ["LANGUAGE", "Lingua"], ["LIVE", "Dal vivo"], ["LOOP", "Riproduci in loop"], ["MORE_SETTINGS", "Altre impostazioni"], ["MULTIPLE_LANGUAGES", "Più lingue"], ["MUTE", "Disattiva audio"], ["NOT_APPLICABLE", "Non applicabile"], ["OFF", "Disattivo"], ["ON", "Attivo"], ["PAUSE", "Metti in pausa"], ["PICTURE_IN_PICTURE", "Picture in picture"], ["PLAY", "Riproduci"], ["PLAYBACK_RATE", "Velocità di riproduzione"], ["RESOLUTION", "Risoluzione"], ["REWIND", "Riavvolgi"], ["SEEK", "Cerca"], ["SKIP_AD", "Salta annuncio"], ["SKIP_TO_LIVE", "Passa alla trasmissione dal vivo"], ["UNDETERMINED_LANGUAGE", "Indeterminata"], ["UNMUTE", "Riattiva audio"], ["UNRECOGNIZED_LANGUAGE", "Non riconosciuto"], ["VOLUME", "Volume"]])),
            i.ya("ja", new Map([["AD_DURATION", "広告再生時間"], ["AD_PROGRESS", "[AD_ON] 番目の広告（全 [NUM_ADS] 個）"], ["AD_TIME", "広告: [AD_TIME]"], ["AUTO_QUALITY", "自動"], ["BACK", "戻る"], ["CAPTIONS", "字幕"], ["CAST", "キャスト..."], ["ENTER_LOOP_MODE", "現在の動画をループ再生"], ["ENTER_PICTURE_IN_PICTURE", "ピクチャー イン ピクチャーを開始"], ["EXIT_FULL_SCREEN", "全画面表示を終了"], ["EXIT_LOOP_MODE", "現在の動画のループ再生を停止"], ["EXIT_PICTURE_IN_PICTURE", "ピクチャー イン ピクチャーを終了"], ["FAST_FORWARD", "早送り"], ["FULL_SCREEN", "全画面表示"], ["LANGUAGE", "言語"], ["LIVE", "ライブ"], ["LOOP", "ループ"], ["MORE_SETTINGS", "詳細設定"], ["MULTIPLE_LANGUAGES", "多言語"], ["MUTE", "ミュート"], ["NOT_APPLICABLE", "該当なし"], ["OFF", "オフ"], ["ON", "オン"], ["PAUSE", "一時停止"], ["PICTURE_IN_PICTURE", "ピクチャー イン ピクチャー"], ["PLAY", "再生"], ["PLAYBACK_RATE", "再生速度"], ["RESOLUTION", "解像度"], ["REWIND", "巻き戻し"], ["SEEK", "シーク再生"], ["SKIP_AD", "広告をスキップ"], ["SKIP_TO_LIVE", "ライブ配信までスキップ"], ["UNDETERMINED_LANGUAGE", "不明"], ["UNMUTE", "ミュートを解除"], ["UNRECOGNIZED_LANGUAGE", "不明"], ["VOLUME", "音量"]])),
            i.ya("ko", new Map([["AD_DURATION", "광고 기간"], ["AD_PROGRESS", "광고 [AD_ON]/[NUM_ADS]"], ["AD_TIME", "광고: [AD_TIME]"], ["AUTO_QUALITY", "자동"], ["BACK", "뒤로"], ["CAPTIONS", "자막"], ["CAST", "전송..."], ["ENTER_LOOP_MODE", "현재 동영상 반복 재생"], ["ENTER_PICTURE_IN_PICTURE", "PIP 모드 시작"], ["EXIT_FULL_SCREEN", "전체화면 닫기"], ["EXIT_LOOP_MODE", "현재 동영상 반복 재생 중지"], ["EXIT_PICTURE_IN_PICTURE", "PIP 모드 종료"], ["FAST_FORWARD", "빨리 감기"], ["FULL_SCREEN", "전체화면"], ["LANGUAGE", "언어"], ["LIVE", "실시간"], ["LOOP", "반복 재생"], ["MORE_SETTINGS", "설정 더보기"], ["MULTIPLE_LANGUAGES", "여러 언어"], ["MUTE", "음소거"], ["NOT_APPLICABLE", "해당 사항 없음"], ["OFF", "사용 안함"], ["ON", "사용"], ["PAUSE", "일시중지"], ["PICTURE_IN_PICTURE", "PIP 모드"], ["PLAY", "재생"], ["PLAYBACK_RATE", "재생 속도"], ["RESOLUTION", "해상도"], ["REWIND", "되감기"], ["SEEK", "찾기"], ["SKIP_AD", "광고 건너뛰기"], ["SKIP_TO_LIVE", "라이브 동영상으로 건너뛰기"], ["UNDETERMINED_LANGUAGE", "미정"], ["UNMUTE", "음소거 해제"], ["UNRECOGNIZED_LANGUAGE", "알 수 없음"], ["VOLUME", "볼륨"]])),
            i.ya("nl", new Map([["AD_DURATION", "Advertentieduur"], ["AD_PROGRESS", "Advertentie [AD_ON] van [NUM_ADS]"], ["AD_TIME", "Advertentie: [AD_TIME]"], ["AUTO_QUALITY", "Automatisch"], ["BACK", "Terug"], ["CAPTIONS", "Ondertiteling"], ["CAST", "Casten..."], ["ENTER_LOOP_MODE", "De huidige video lussen"], ["ENTER_PICTURE_IN_PICTURE", "Scherm-in-scherm openen"], ["EXIT_FULL_SCREEN", "Volledig scherm sluiten"], ["EXIT_LOOP_MODE", "De huidige video niet meer lussen"], ["EXIT_PICTURE_IN_PICTURE", "Scherm-in-scherm afsluiten"], ["FAST_FORWARD", "Vooruitspoelen"], ["FULL_SCREEN", "Volledig scherm"], ["LANGUAGE", "Taal"], ["LIVE", "Live"], ["LOOP", "Lussen"], ["MORE_SETTINGS", "Meer instellingen"], ["MULTIPLE_LANGUAGES", "Meerdere talen"], ["MUTE", "Dempen"], ["NOT_APPLICABLE", "Niet van toepassing"], ["OFF", "Uit"], ["ON", "Aan"], ["PAUSE", "Onderbreken"], ["PICTURE_IN_PICTURE", "Scherm-in-scherm"], ["PLAY", "Afspelen"], ["PLAYBACK_RATE", "Afspeelsnelheid"], ["RESOLUTION", "Resolutie"], ["REWIND", "Terugspoelen"], ["SEEK", "Zoeken"], ["SKIP_AD", "Advertentie overslaan"], ["SKIP_TO_LIVE", "Doorgaan naar live"], ["UNDETERMINED_LANGUAGE", "Onbepaald"], ["UNMUTE", "Dempen opheffen"], ["UNRECOGNIZED_LANGUAGE", "Onbekend"], ["VOLUME", "Volume"]])),
            i.ya("pl", new Map([["AD_DURATION", "Czas trwania reklamy"], ["AD_PROGRESS", "Reklama [AD_ON] z [NUM_ADS]"], ["AD_TIME", "Reklama: [AD_TIME]"], ["AUTO_QUALITY", "Automatycznie"], ["BACK", "Wstecz"], ["CAPTIONS", "Napisy"], ["CAST", "Przesyłaj..."], ["ENTER_LOOP_MODE", "Odtwarzaj bieżący film w pętli"], ["ENTER_PICTURE_IN_PICTURE", "Włącz tryb obrazu w obrazie"], ["EXIT_FULL_SCREEN", "Zamknij pełny ekran"], ["EXIT_LOOP_MODE", "Wyłącz odtwarzanie bieżącego filmu w pętli"], ["EXIT_PICTURE_IN_PICTURE", "Wyłącz tryb obrazu w obrazie"], ["FAST_FORWARD", "Przewiń do przodu"], ["FULL_SCREEN", "Pełny ekran"], ["LANGUAGE", "Język"], ["LIVE", "Na żywo"], ["LOOP", "Odtwarzaj w pętli"], ["MORE_SETTINGS", "Więcej ustawień"], ["MULTIPLE_LANGUAGES", "Wiele języków"], ["MUTE", "Wycisz"], ["NOT_APPLICABLE", "Nie dotyczy"], ["OFF", "Wyłączone"], ["ON", "Włączone"], ["PAUSE", "Wstrzymaj"], ["PICTURE_IN_PICTURE", "Obraz w obrazie"], ["PLAY", "Odtwórz"], ["PLAYBACK_RATE", "Szybkość odtwarzania"], ["RESOLUTION", "Rozdzielczość"], ["REWIND", "Przewiń do tyłu"], ["SEEK", "Szukaj"], ["SKIP_AD", "Pomiń reklamę"], ["SKIP_TO_LIVE", "Przejdź do transmisji na żywo"], ["UNDETERMINED_LANGUAGE", "Nie określono"], ["UNMUTE", "Wyłącz wyciszenie"], ["UNRECOGNIZED_LANGUAGE", "Nierozpoznany"], ["VOLUME", "Głośność"]])),
            i.ya("pt-BR", new Map([["AD_DURATION", "Duração do anúncio"], ["AD_PROGRESS", "Anúncio [AD_ON] de [NUM_ADS]"], ["AD_TIME", "Anúncio: [AD_TIME]"], ["AUTO_QUALITY", "Automática"], ["BACK", "Voltar"], ["CAPTIONS", "Legendas"], ["CAST", "Transmitir..."], ["ENTER_LOOP_MODE", "Repetir o vídeo atual"], ["ENTER_PICTURE_IN_PICTURE", "Entrar no modo picture-in-picture"], ["EXIT_FULL_SCREEN", "Sair do modo tela cheia"], ["EXIT_LOOP_MODE", "Parar repetição do vídeo atual"], ["EXIT_PICTURE_IN_PICTURE", "Sair de picture-in-picture"], ["FAST_FORWARD", "Avançar"], ["FULL_SCREEN", "Tela cheia"], ["LANGUAGE", "Idioma"], ["LIVE", "Ao vivo"], ["LOOP", "Repetir"], ["MORE_SETTINGS", "Mais definições"], ["MULTIPLE_LANGUAGES", "Vários idiomas"], ["MUTE", "Desativar som"], ["NOT_APPLICABLE", "Não relevante"], ["OFF", "Desativado"], ["ON", "Ativado"], ["PAUSE", "Pausar"], ["PICTURE_IN_PICTURE", "Picture-in-picture"], ["PLAY", "Reproduzir"], ["PLAYBACK_RATE", "Velocidade da reprodução"], ["RESOLUTION", "Resolução"], ["REWIND", "Retroceder"], ["SEEK", "Procurar"], ["SKIP_AD", "Pular anúncio"], ["SKIP_TO_LIVE", "Pular para transmissão ao vivo"], ["UNDETERMINED_LANGUAGE", "Indeterminado"], ["UNMUTE", "Ativar som"], ["UNRECOGNIZED_LANGUAGE", "Não reconhecido"], ["VOLUME", "Volume"]])),
            i.ya("ru", new Map([["AD_DURATION", "Продолжительность рекламы"], ["AD_PROGRESS", "Реклама [AD_ON] из [NUM_ADS]"], ["AD_TIME", "Реклама: [AD_TIME]"], ["AUTO_QUALITY", "Авто"], ["BACK", "Назад"], ["CAPTIONS", "Субтитры"], ["CAST", "Транслировать..."], ["ENTER_LOOP_MODE", "Зациклить текущее видео"], ["ENTER_PICTURE_IN_PICTURE", 'Перейти в режим "Картинка в картинке"'], ["EXIT_FULL_SCREEN", "Обычный режим"], ["EXIT_LOOP_MODE", "Отменить зацикливание текущего видео"], ["EXIT_PICTURE_IN_PICTURE", 'Выйти из режима "Картинка в картинке"'], ["FAST_FORWARD", "Перемотка вперед"], ["FULL_SCREEN", "Полноэкранный режим"], ["LANGUAGE", "Язык"], ["LIVE", "Прямой эфир"], ["LOOP", "Зациклить"], ["MORE_SETTINGS", "Дополнительные настройки"], ["MULTIPLE_LANGUAGES", "Несколько языков"], ["MUTE", "Отключить звук"], ["NOT_APPLICABLE", "Неприменимо"], ["OFF", "Выкл."], ["ON", "Вкл."], ["PAUSE", "Пауза"], ["PICTURE_IN_PICTURE", "Картинка в картинке"], ["PLAY", "Воспроизвести"], ["PLAYBACK_RATE", "Скорость воспроизведения"], ["RESOLUTION", "Разрешение"], ["REWIND", "Перемотать назад"], ["SEEK", "Перемотка"], ["SKIP_AD", "Пропустить"], ["SKIP_TO_LIVE", "Пропустить и перейти к прямой трансляции"], ["UNDETERMINED_LANGUAGE", "Не указано"], ["UNMUTE", "Включить звук"], ["UNRECOGNIZED_LANGUAGE", "Не распознано"], ["VOLUME", "Громкость"]])),
            i.ya("th", new Map([["AD_DURATION", "ระยะเวลาโฆษณา"], ["AD_PROGRESS", "โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"], ["AD_TIME", "โฆษณา: [AD_TIME]"], ["AUTO_QUALITY", "อัตโนมัติ"], ["BACK", "กลับ"], ["CAPTIONS", "คำบรรยาย"], ["CAST", "แคสต์..."], ["ENTER_LOOP_MODE", "วนซ้ำวิดีโอปัจจุบัน"], ["ENTER_PICTURE_IN_PICTURE", "เข้าสู่การแสดงภาพซ้อนภาพ"], ["EXIT_FULL_SCREEN", "ออกจากการแสดงแบบเต็มหน้าจอ"], ["EXIT_LOOP_MODE", "หยุดวนซ้ำวิดีโอปัจจุบัน"], ["EXIT_PICTURE_IN_PICTURE", "ออกจากการแสดงภาพซ้อนภาพ"], ["FAST_FORWARD", "กรอไปข้างหน้า"], ["FULL_SCREEN", "เต็มหน้าจอ"], ["LANGUAGE", "ภาษา"], ["LIVE", "สด"], ["LOOP", "ลูป"], ["MORE_SETTINGS", "การตั้งค่าเพิ่มเติม"], ["MULTIPLE_LANGUAGES", "หลายภาษา"], ["MUTE", "ปิดเสียง"], ["NOT_APPLICABLE", "ไม่เกี่ยวข้อง"], ["OFF", "ปิด"], ["ON", "เปิด"], ["PAUSE", "หยุดชั่วคราว"], ["PICTURE_IN_PICTURE", "การแสดงภาพซ้อนภาพ"], ["PLAY", "เล่น"], ["PLAYBACK_RATE", "ความเร็วในการเล่น"], ["RESOLUTION", "ความละเอียด"], ["REWIND", "กรอกลับ"], ["SEEK", "ค้นหา"], ["SKIP_AD", "ข้ามโฆษณา"], ["SKIP_TO_LIVE", "ข้ามไปที่การถ่ายทอดสด"], ["UNDETERMINED_LANGUAGE", "ไม่กำหนด"], ["UNMUTE", "เปิดเสียง"], ["UNRECOGNIZED_LANGUAGE", "ที่ไม่รู้จัก"], ["VOLUME", "ระดับเสียง"]])),
            i.ya("tr", new Map([["AD_DURATION", "Reklam süresi"], ["AD_PROGRESS", "[AD_ON]/[NUM_ADS] reklam"], ["AD_TIME", "Reklam: [AD_TIME]"], ["AUTO_QUALITY", "Otomatik"], ["BACK", "Geri"], ["CAPTIONS", "Altyazılar"], ["CAST", "Yayınla..."], ["ENTER_LOOP_MODE", "Mevcut videoyu döngüye al"], ["ENTER_PICTURE_IN_PICTURE", "Pencere içinde Pencere moduna gir"], ["EXIT_FULL_SCREEN", "Tam ekrandan çık"], ["EXIT_LOOP_MODE", "Mevcut videonun döngüsünü durdur"], ["EXIT_PICTURE_IN_PICTURE", "Pencere İçinde Pencereden Çık"], ["FAST_FORWARD", "İleri sar"], ["FULL_SCREEN", "Tam ekran"], ["LANGUAGE", "Dil"], ["LIVE", "Canlı"], ["LOOP", "Döngü"], ["MORE_SETTINGS", "Daha fazla ayar"], ["MULTIPLE_LANGUAGES", "Birden çok dil"], ["MUTE", "Sesi kapat"], ["NOT_APPLICABLE", "Geçerli değil"], ["OFF", "Kapalı"], ["ON", "Açık"], ["PAUSE", "Duraklat"], ["PICTURE_IN_PICTURE", "Pencere İçinde Pencere"], ["PLAY", "Oynat"], ["PLAYBACK_RATE", "Çalma hızı"], ["RESOLUTION", "Çözünürlük"], ["REWIND", "Geri sar"], ["SEEK", "Ara"], ["SKIP_AD", "Reklamı Atla"], ["SKIP_TO_LIVE", "Canlı yayına atla"], ["UNDETERMINED_LANGUAGE", "Belirsiz"], ["UNMUTE", "Sesi aç"], ["UNRECOGNIZED_LANGUAGE", "Tanınmayan"], ["VOLUME", "Ses"]])),
            i.ya("zh", new Map([["AD_DURATION", "广告持续时间"], ["AD_PROGRESS", "广告 [AD_ON]/[NUM_ADS]"], ["AD_TIME", "广告：[AD_TIME]"], ["AUTO_QUALITY", "自动"], ["BACK", "返回"], ["CAPTIONS", "字幕"], ["CAST", "投射…"], ["ENTER_LOOP_MODE", "循环播放当前视频"], ["ENTER_PICTURE_IN_PICTURE", "进入“画中画”模式"], ["EXIT_FULL_SCREEN", "退出全屏模式"], ["EXIT_LOOP_MODE", "停止循环播放当前视频"], ["EXIT_PICTURE_IN_PICTURE", "退出“画中画”模式"], ["FAST_FORWARD", "快进"], ["FULL_SCREEN", "全屏"], ["LANGUAGE", "语言"], ["LIVE", "直播"], ["LOOP", "循环播放"], ["MORE_SETTINGS", "更多设置"], ["MULTIPLE_LANGUAGES", "多种语言"], ["MUTE", "静音"], ["NOT_APPLICABLE", "不适用"], ["OFF", "关闭"], ["ON", "开启"], ["PAUSE", "暂停"], ["PICTURE_IN_PICTURE", "画中画"], ["PLAY", "播放"], ["PLAYBACK_RATE", "播放速度"], ["RESOLUTION", "分辨率"], ["REWIND", "快退"], ["SEEK", "进度"], ["SKIP_AD", "跳过广告"], ["SKIP_TO_LIVE", "跳至当前直播"], ["UNDETERMINED_LANGUAGE", "未确定"], ["UNMUTE", "取消静音"], ["UNRECOGNIZED_LANGUAGE", "无法识别"], ["VOLUME", "音量"]])),
            i.ya("zh-TW", new Map([["AD_DURATION", "廣告長度"], ["AD_PROGRESS", "廣告 [AD_ON]/[NUM_ADS]"], ["AD_TIME", "廣告：[AD_TIME]"], ["AUTO_QUALITY", "自動"], ["BACK", "返回"], ["CAPTIONS", "字幕"], ["CAST", "投放..."], ["ENTER_LOOP_MODE", "循環播放目前的影片"], ["ENTER_PICTURE_IN_PICTURE", "進入子母畫面"], ["EXIT_FULL_SCREEN", "退出全螢幕模式"], ["EXIT_LOOP_MODE", "停止循環播放目前的影片"], ["EXIT_PICTURE_IN_PICTURE", "離開子母畫面"], ["FAST_FORWARD", "快轉"], ["FULL_SCREEN", "全螢幕"], ["LANGUAGE", "語言"], ["LIVE", "直播"], ["LOOP", "循環播放"], ["MORE_SETTINGS", "顯示更多設定"], ["MULTIPLE_LANGUAGES", "多種語言"], ["MUTE", "靜音"], ["NOT_APPLICABLE", "不適用"], ["OFF", "關閉"], ["ON", "開啟"], ["PAUSE", "暫停"], ["PICTURE_IN_PICTURE", "子母畫面"], ["PLAY", "播放"], ["PLAYBACK_RATE", "播放速度"], ["RESOLUTION", "解析度"], ["REWIND", "倒轉"], ["SEEK", "搜尋"], ["SKIP_AD", "略過廣告"], ["SKIP_TO_LIVE", "跳至当前直播"], ["UNDETERMINED_LANGUAGE", "不明"], ["UNMUTE", "取消靜音"], ["UNRECOGNIZED_LANGUAGE", "無法辨識"], ["VOLUME", "音量"]])),
            i.Ig(navigator.languages || []),
            i),
            this.i = new nr,
            this.configure(this.g),
            (o = this).i.o(o.G, "buffering", function() {
                o.N && v(o.$, o.G.yd())
            }),
            o.N && v(o.$, o.G.yd()),
            o.i.o(z, "keydown", function(e) {
                if (e = e,
                (r = o).ha.add(e.key),
                a = r.nd(),
                "Tab" == e.key && (r.h.classList.add("shaka-keyboard-navigation"),
                tb(r),
                r.i.o(z, "mousedown", function() {
                    r.i.hc(z, "mousedown")
                })),
                "Escape" == e.key && r.I.Qa(),
                a && r.ha.has("Tab")) {
                    var t = (a = r).H.filter(function(e) {
                        return !e.classList.contains("shaka-hidden")
                    });
                    if (t.length) {
                        var n = t[0];
                        if (n.childNodes.length) {
                            for (t = n.firstElementChild; t && t.classList.contains("shaka-hidden"); )
                                t = t.nextElementSibling;
                            for (n = n.lastElementChild; n && n.classList.contains("shaka-hidden"); )
                                n = n.previousElementSibling;
                            var i = document.activeElement;
                            a.ha.has("Shift") ? i == t && (e.preventDefault(),
                            n.focus()) : i == n && (e.preventDefault(),
                            t.focus())
                        }
                    }
                }
                var r, a
            }),
            o.i.o(z, "click", function() {
                return o.uc()
            }),
            o.i.o(o, "submenuopen", function() {
                o.uc()
            }),
            o.i.o(o.u, "play", function() {
                tb(o)
            }),
            o.i.o(o.u, "pause", function() {
                tb(o)
            }),
            o.i.o(o.j, "mousemove", function(e) {
                eb(o, e)
            }),
            o.i.o(o.j, "touchmove", function(e) {
                eb(o, e)
            }, {
                passive: !0
            }),
            o.i.o(o.j, "touchend", function(e) {
                eb(o, e)
            }, {
                passive: !0
            }),
            o.i.o(o.j, "mouseleave", function() {
                o.J || o.Z.Qa()
            }),
            o.i.o(o.C, "caststatuschanged", function() {
                rb(o)
            }),
            o.i.o(o.j, "keydown", function(e) {
                var t = !(!(i = document.activeElement) || !i.classList) && i.classList.contains("shaka-volume-bar")
                  , n = i && i.classList && i.classList.contains("shaka-seek-bar");
                if (o.h.contains(i) && eb(o, e),
                o.g.enableKeyboardPlaybackControls) {
                    var i = o.g.keyboardSeekDistance
                      , r = o.g.keyboardLargeSeekDistance;
                    switch (e.key) {
                    case "ArrowLeft":
                        o.l && !t && 0 < i && (e.preventDefault(),
                        ab(o, o.l.getValue() - i));
                        break;
                    case "ArrowRight":
                        o.l && !t && 0 < i && (e.preventDefault(),
                        ab(o, o.l.getValue() + i));
                        break;
                    case "PageDown":
                        o.l && n && 0 < i && (e.preventDefault(),
                        ab(o, o.l.getValue() - r));
                        break;
                    case "PageUp":
                        o.l && n && 0 < i && (e.preventDefault(),
                        ab(o, o.l.getValue() + r));
                        break;
                    case "Home":
                        o.l && ab(o, o.G.Ha().start);
                        break;
                    case "End":
                        o.l && ab(o, o.G.Ha().end);
                        break;
                    case "f":
                        o.zd() && o.Pe();
                        break;
                    case "m":
                        o.m && o.m.isLinear() ? o.m.setMuted(!o.m.isMuted()) : o.s.muted = !o.s.muted;
                        break;
                    case "p":
                        o.qe() && o.Od();
                        break;
                    case " ":
                        n && ib(o)
                    }
                }
            }),
            o.i.o(o.j, "keyup", function(e) {
                o.ha.delete(e.key)
            }),
            o.i.o(o.Wa, "ad-started", function(e) {
                o.m = e.ad,
                o.uh()
            }),
            o.i.o(o.Wa, "ad-stopped", function() {
                o.m = null,
                o.Wg()
            }),
            screen.orientation && o.i.o(screen.orientation, "change", function() {
                return Ie(function(e) {
                    return Te(e, (t = o,
                    Ie(function(e) {
                        return t.u && 0 != t.u.readyState && !t.C.Ba() && t.g.enableFullscreenOnRotation && t.zd() ? screen.orientation.type.includes("landscape") && !t.Qc() ? Te(e, J1(t), 0) : screen.orientation.type.includes("portrait") && t.Qc() ? Te(e, Q1(t), 0) : e.F(0) : e.return()
                    })), 0);
                    var t
                })
            }),
            this.ha = new Set,
            rb(this),
            this.Ra.za(.125),
            this.i.o(this.va, "locale-changed", function(e) {
                r.Wa.setLocale(e.locales[0])
            })
        }
        function q1(e) {
            for (var t = we(e.D), n = t.next(); !n.done; n = t.next())
                n.value.release();
            e.D = []
        }
        function Y1(e, t) {
            sb.set(e, t)
        }
        function J1(t) {
            var n;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (Ee(e, 2),
                    !document.fullscreenEnabled) {
                        (n = t.s).webkitSupportsFullscreen && n.webkitEnterFullscreen(),
                        e.F(4);
                        break
                    }
                    if (document.pictureInPictureElement)
                        return Te(e, document.exitPictureInPicture(), 5);
                    e.F(5);
                    break;
                case 5:
                    return Te(e, t.g.fullScreenElement.requestFullscreen({
                        navigationUI: "hide"
                    }), 7);
                case 7:
                    if (t.g.forceLandscapeOnFullscreen && screen.orientation)
                        return Ee(e, 9),
                        Te(e, screen.orientation.lock("landscape"), 11);
                    e.F(4);
                    break;
                case 11:
                    Se(e, 4, 2);
                    break;
                case 9:
                    xe(e, 2);
                case 4:
                    Se(e, 0);
                    break;
                case 2:
                    n = xe(e),
                    t.dispatchEvent(new ce("error",(new Map).set("detail", n))),
                    Ae(e)
                }
            })
        }
        function Q1(t) {
            var n;
            return Ie(function(e) {
                return document.fullscreenEnabled ? (screen.orientation && screen.orientation.unlock(),
                Te(e, document.exitFullscreen(), 0)) : ((n = t.s).webkitSupportsFullscreen && n.webkitExitFullscreen(),
                e.F(0))
            })
        }
        function $1(e) {
            e.N && e.u.duration && (e.G.od(),
            e.u.paused && !e.W ? e.u.play() : e.u.pause())
        }
        function Z1(e) {
            e.m && e.m.isPaused() ? e.m.play() : e.m && e.m.pause()
        }
        function eb(e, t) {
            "mousemove" == t.type && (e.h.classList.remove("shaka-keyboard-navigation"),
            tb(e)),
            "touchstart" == t.type || "touchmove" == t.type || "touchend" == t.type || "keyup" == t.type ? e.J = Date.now() : e.J + 1e3 < Date.now() && (e.J = null),
            e.J && "mousemove" == t.type || (e.j.style.cursor = "",
            e.Ib = !0,
            e.I.stop(),
            e.dc() || (ob(e),
            tb(e)),
            e.Z.stop(),
            "touchend" != t.type && "keyup" != t.type && e.J || e.Z.S(3))
        }
        function tb(e) {
            var t = !!e.m && e.m.isPaused()
              , n = e.u.paused && !e.W
              , i = e.h.classList.contains("shaka-keyboard-navigation");
            t || (!e.m || !e.m.isLinear()) && n || e.Ib || i || (t = e,
            z.matchMedia("hover: hover").matches && t.Xb.some(function(e) {
                return e.matches(":hover")
            })) ? (ob(e),
            e.h.setAttribute("shown", "true"),
            e.aa.stop()) : e.aa.S(e.g.fadeDelay)
        }
        function nb(e) {
            e.N && (e.nd() ? e.I.Qa() : e.g.singleClickForPlayAndPause && ib(e))
        }
        function ib(e) {
            (e.m && e.m.isLinear() ? Z1 : $1)(e)
        }
        function rb(e) {
            var t = e.C.Ba();
            e.dispatchEvent(new ce("caststatuschanged",(new Map).set("newStatus", t))),
            t ? e.h.setAttribute("casting", "true") : e.h.removeAttribute("casting")
        }
        function ab(e, t) {
            e.l.changeTo(t),
            e.dc() && ob(e)
        }
        function ob(e) {
            if (e.l)
                if (e.l.setValue(e.u.currentTime),
                e.l.update(),
                e.l.isShowing())
                    for (var t = we(e.H), n = t.next(); !n.done; n = t.next())
                        n.value.classList.remove("shaka-low-position");
                else
                    for (n = (t = we(e.H)).next(); !n.done; n = t.next())
                        n.value.classList.add("shaka-low-position");
            e.dispatchEvent(new ce("timeandseekrangeupdated"))
        }
        t(D1, m),
        n("shaka.ui.HiddenSeekButton", D1),
        t(_1, D1),
        n("shaka.ui.HiddenFastForwardButton", _1),
        t(U1, D1),
        n("shaka.ui.HiddenRewindButton", U1),
        t(O1, m),
        (e = O1.prototype).release = function() {
            this.G && (this.G.stop(),
            this.G = null),
            m.prototype.release.call(this)
        }
        ,
        e.setRange = function(e, t) {
            this.bar.min = e,
            this.bar.max = t
        }
        ,
        e.onChangeStart = function() {}
        ,
        e.onChange = function() {}
        ,
        e.onChangeEnd = function() {}
        ,
        e.changeTo = function(e) {
            this.h || (this.h = !0,
            this.onChangeStart());
            var t = parseFloat(this.bar.min)
              , n = parseFloat(this.bar.max);
            this.bar.value = n < e ? n : e < t ? t : e,
            this.onChange(),
            this.G.S(.5)
        }
        ,
        e.getValue = function() {
            return parseFloat(this.bar.value)
        }
        ,
        e.setValue = function(e) {
            this.h || (this.bar.value = e)
        }
        ,
        n("shaka.ui.RangeElement", O1),
        t(B1, O1),
        (e = B1.prototype).release = function() {
            this.s && (this.s.stop(),
            this.s = null,
            this.I.stop(),
            this.I = null),
            O1.prototype.release.call(this)
        }
        ,
        e.onChangeStart = function() {
            this.K = !this.video.paused,
            this.controls.qg(!0),
            this.video.pause(),
            this.m.stop(),
            this.J = !0
        }
        ,
        e.onChange = function() {
            var e, t, n, i;
            this.video.duration && (this.update(),
            this.s.S(.125),
            this.player.fe().length ? (e = parseFloat(this.bar.min),
            t = parseFloat(this.bar.max),
            n = this.bar.getBoundingClientRect(),
            i = Math.round(this.getValue()),
            H1(this, (i - e) / ((t - e) / n.width), i)) : z1(this))
        }
        ,
        e.onChangeEnd = function() {
            this.s.Qa(),
            this.controls.qg(!1),
            this.K && this.video.play(),
            this.J && (this.J = !1,
            this.m.stop(),
            this.m.S(.25))
        }
        ,
        e.isShowing = function() {
            return !this.container.classList.contains("shaka-hidden")
        }
        ,
        e.update = function() {
            var e = this.H.seekBarColors
              , t = this.getValue()
              , n = this.video.buffered.length
              , i = n ? this.video.buffered.start(0) : 0
              , r = n ? this.video.buffered.end(n - 1) : 0
              , a = this.player.Ha()
              , o = a.end - a.start;
            this.setRange(a.start, a.end),
            V1(this) ? (v(this.container, !0),
            0 == n ? this.container.style.background = e.base : (n = (Math.max(i, a.start) - a.start) / o || 0,
            r = (Math.min(r, a.end) - a.start) / o || 0,
            t = (Math.min(Math.max(t, a.start), a.end) - a.start) / o || 0,
            this.container.style.background = "linear-gradient(" + ["to right", (this.H.showUnbufferedStart ? e.base : e.played) + " " + 100 * n + "%", e.played + " " + 100 * n + "%", e.played + " " + 100 * t + "%", e.buffered + " " + 100 * t + "%", e.buffered + " " + 100 * r + "%", e.base + " " + 100 * r + "%"].join() + ")")) : v(this.container, !1)
        }
        ,
        n("shaka.ui.SeekBar", B1),
        W1.prototype.create = function(e, t) {
            return new B1(e,t)
        }
        ,
        B1.Factory = W1,
        t(i, d),
        (e = i.prototype).destroy = function() {
            var t = this;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (document.pictureInPictureElement == t.s)
                        return Te(e, document.exitPictureInPicture(), 2);
                    e.F(2);
                    break;
                case 2:
                    if (t.i && (t.i.release(),
                    t.i = null),
                    t.Z && (t.Z.stop(),
                    t.Z = null),
                    t.aa && (t.aa.stop(),
                    t.aa = null),
                    t.I && (t.I.stop(),
                    t.I = null),
                    t.Ra && (t.Ra.stop(),
                    t.Ra = null),
                    q1(t),
                    t.h && (t.j.removeChild(t.h),
                    t.h = null),
                    t.C)
                        return Te(e, t.C.destroy(), 5);
                    e.F(4);
                    break;
                case 5:
                    t.C = null;
                case 4:
                    if (t.sa)
                        return Te(e, t.sa.destroy(), 7);
                    e.F(6);
                    break;
                case 7:
                    t.sa = null;
                case 6:
                    t.G = null,
                    t.s = null,
                    t.u = null,
                    t.va = null,
                    t.ha.clear(),
                    d.prototype.release.call(t),
                    Ae(e)
                }
            })
        }
        ,
        e.Kh = function(e) {
            this.ua = e,
            rb(this)
        }
        ,
        e.Ri = function() {
            tb(this)
        }
        ,
        e.configure = function(e) {
            this.g = e,
            this.C.Jg(e.castReceiverAppId, e.castAndroidReceiverCompatible),
            this.l && (this.l = null),
            this.Fb && (this.Fb = null),
            this.Xa && (this.Xa = null),
            this.h ? (iu(this.h),
            q1(this)) : ((n = this).h = E("div"),
            n.h.classList.add("shaka-controls-container"),
            n.j.appendChild(n.h),
            n.j.setAttribute("shaka-controls", "true"),
            n.i.o(n.h, "touchstart", function(e) {
                n.u.duration && (n.dc() ? n.J = Date.now() : (eb(n, e),
                e.cancelable && e.preventDefault()))
            }, {
                passive: !1
            }),
            n.i.o(n.h, "click", function() {
                nb(n)
            }),
            n.i.o(n.h, "dblclick", function() {
                n.g.doubleClickForFullscreen && n.zd() && n.Pe()
            }),
            (t = this).M = E("div"),
            t.M.classList.add("shaka-client-side-ad-container"),
            v(t.M, !1),
            t.i.o(t.M, "click", function() {
                nb(t)
            }),
            t.j.appendChild(t.M)),
            this.j.classList.add("shaka-video-container"),
            this.s.classList.add("shaka-video"),
            a = this,
            (r = E("div")).classList.add("shaka-scrim-container"),
            a.h.appendChild(r),
            this.g.addBigPlayButton && (a = this,
            (r = E("div")).classList.add("shaka-play-button-container"),
            a.h.appendChild(r),
            a.Fb = new L1(r,a),
            a.D.push(a.Fb)),
            this.g.customContextMenu && (this.Xa = new R1(this.V,this),
            this.D.push(this.Xa)),
            this.$ || ((r = this).$ = E("div"),
            r.$.classList.add("shaka-spinner-container"),
            r.j.appendChild(r.$),
            (a = E("div")).classList.add("shaka-spinner"),
            r.$.appendChild(a),
            (r = document.createElementNS("http://www.w3.org/2000/svg", "svg")).classList.add("shaka-spinner-svg"),
            r.setAttribute("viewBox", "0 0 30 30"),
            a.appendChild(r),
            (a = document.createElementNS("http://www.w3.org/2000/svg", "circle")).classList.add("shaka-spinner-path"),
            a.setAttribute("cx", "15"),
            a.setAttribute("cy", "15"),
            a.setAttribute("r", "14.5"),
            a.setAttribute("fill", "none"),
            a.setAttribute("stroke-width", "1"),
            a.setAttribute("stroke-miterlimit", "10"),
            r.appendChild(a)),
            this.g.seekOnTaps && (r = this,
            (a = E("div")).classList.add("shaka-hidden-fast-forward-container"),
            r.h.appendChild(a),
            r.nc = new _1(a,r),
            r.D.push(r.nc),
            a = this,
            (r = E("div")).classList.add("shaka-hidden-rewind-container"),
            a.h.appendChild(r),
            a.tc = new U1(r,a),
            a.D.push(a.tc)),
            this.xb = E("div"),
            this.xb.classList.add("shaka-server-side-ad-container"),
            this.h.appendChild(this.xb);
            var t, n, i = this, r = (i.L = E("div"),
            i.L.classList.add("shaka-bottom-controls"),
            i.L.classList.add("shaka-no-propagation"),
            i.h.appendChild(i.L),
            i.i.o(i.L, "click", function(e) {
                e.target.closest(".shaka-overflow-button") || i.uc()
            }),
            i), a = (r.K = E("div"),
            r.K.classList.add("shaka-ad-controls"),
            null != r.m && r.m.isLinear());
            v(r.K, a),
            r.L.appendChild(r.K),
            a = new k1(r.K,r),
            r.D.push(a),
            a = new I1(r.K,r),
            r.D.push(a),
            i.V = E("div"),
            i.V.classList.add("shaka-controls-button-panel"),
            i.V.classList.add("shaka-show-controls-on-mouse-over"),
            i.g.enableTooltips && i.V.classList.add("shaka-tooltips-on"),
            i.L.appendChild(i.V);
            for (var o = we(i.g.controlPanelElements), s = o.next(); !s.done; s = o.next())
                s = s.value,
                sb.get(s) ? (s = sb.get(s).create(i.V, i),
                i.D.push(s)) : X("Unrecognized control panel element requested:", s);
            this.H = Array.from(this.j.getElementsByClassName("shaka-settings-menu")),
            this.H.push.apply(this.H, le(Array.from(this.j.getElementsByClassName("shaka-overflow-menu"))));
            var u = this;
            if (u.g.addSeekBar)
                u.l = ub.create(u.L, u),
                u.D.push(u.l);
            else
                for (var l = (u = we(u.H)).next(); !l.done; l = u.next())
                    l.value.classList.add("shaka-low-position");
            this.Xb = Array.from(this.j.getElementsByClassName("shaka-show-controls-on-mouse-over")),
            tb(this);
            for (var c = (e = we(this.j.getElementsByClassName("shaka-no-propagation"))).next(); !c.done; c = e.next()) {
                function h(e) {
                    return e.stopPropagation()
                }
                c = c.value;
                this.i.o(c, "click", h),
                this.i.o(c, "dblclick", h)
            }
        }
        ,
        e.lg = function(e) {
            (this.N = e) ? (this.j.setAttribute("shaka-controls", "true"),
            this.s.tabIndex = -1,
            this.s.controls = !1) : this.j.removeAttribute("shaka-controls"),
            tb(this)
        }
        ,
        e.ph = function(e) {
            this.s.controls = e,
            this.s.tabIndex = e ? 0 : -1,
            e && this.lg(!1)
        }
        ,
        e.getAd = function() {
            return this.m
        }
        ,
        e.Vh = function() {
            return this.C
        }
        ,
        e.ji = function() {
            return this.va
        }
        ,
        e.Di = function() {
            return this.j
        }
        ,
        e.cc = function() {
            return this.u
        }
        ,
        e.ii = function() {
            return this.s
        }
        ,
        e.Mc = function() {
            return this.G
        }
        ,
        e.gi = function() {
            return this.sa
        }
        ,
        e.$h = function() {
            return this.h
        }
        ,
        e.ti = function() {
            return this.xb
        }
        ,
        e.Xh = function() {
            return this.M
        }
        ,
        e.Yh = function() {
            return this.g
        }
        ,
        e.Oi = function() {
            return this.W
        }
        ,
        e.qg = function(e) {
            this.W = e
        }
        ,
        e.Ii = function() {
            return this.ua
        }
        ,
        e.Hf = function() {
            return this.l ? this.l.getValue() : this.u.currentTime
        }
        ,
        e.qh = function(e) {
            this.J = e
        }
        ,
        e.nd = function() {
            return this.H.some(function(e) {
                return !e.classList.contains("shaka-hidden")
            })
        }
        ,
        e.uc = function() {
            this.I.Qa()
        }
        ,
        e.zd = function() {
            return !(!document.fullscreenEnabled && !this.s.webkitSupportsFullscreen)
        }
        ,
        e.Qc = function() {
            if (document.fullscreenEnabled)
                return !!document.fullscreenElement;
            var e = this.s;
            return !!e.webkitSupportsFullscreen && e.webkitDisplayingFullscreen
        }
        ,
        e.Pe = function() {
            var t = this;
            return Ie(function(e) {
                return t.Qc() ? Te(e, Q1(t), 0) : Te(e, J1(t), 0)
            })
        }
        ,
        e.qe = function() {
            return !this.C.Ba() && (!!("documentPictureInPicture"in z && this.g.preferDocumentPictureInPicture || document.pictureInPictureEnabled) && !this.s.disablePictureInPicture)
        }
        ,
        e.re = function() {
            return "documentPictureInPicture"in z && this.g.preferDocumentPictureInPicture ? !!z.documentPictureInPicture.window : !!document.pictureInPictureElement
        }
        ,
        e.Od = function() {
            var t, n = this;
            return Ie(function(e) {
                return 1 == e.g ? (Ee(e, 2),
                "documentPictureInPicture"in z && n.g.preferDocumentPictureInPicture ? Te(e, (r = n,
                Ie(function(e) {
                    if (1 == e.g)
                        return z.documentPictureInPicture.window ? (z.documentPictureInPicture.window.close(),
                        e.return()) : (a = r.j,
                        o = a.getBoundingClientRect(),
                        Te(e, z.documentPictureInPicture.requestWindow({
                            width: o.width,
                            height: o.height
                        }), 2));
                    var i, t, n;
                    o = e.h,
                    i = o,
                    t = [].concat(le(document.styleSheets)).map(function(t) {
                        try {
                            return [].concat(le(t.cssRules)).map(function(e) {
                                return e.cssText
                            }).join("")
                        } catch (e) {
                            var n = document.createElement("link");
                            n.rel = "stylesheet",
                            n.type = t.type,
                            n.media = t.media,
                            n.href = t.href,
                            i.document.head.appendChild(n)
                        }
                        return ""
                    }).filter(Boolean).join("\n"),
                    (n = document.createElement("style")).textContent = t,
                    i.document.head.appendChild(n),
                    u = a.parentNode || document.body,
                    (s = r.j.cloneNode(!0)).style.visibility = "hidden",
                    s.style.height = getComputedStyle(a).height,
                    u.appendChild(s),
                    (u = document.createElement("style")).append("[data-shaka-player-container] {\n      width: 100% !important; max-height: 100%}"),
                    o.document.head.append(u),
                    o.document.body.append(a),
                    r.i.na(o, "pagehide", function() {
                        s.replaceWith(a)
                    }),
                    Ae(e)
                })), 5) : document.pictureInPictureElement ? Te(e, document.exitPictureInPicture(), 5) : (document.fullscreenElement && document.exitFullscreen(),
                Te(e, n.s.requestPictureInPicture(), 5))) : 2 != e.g ? Se(e, 0) : (t = xe(e),
                n.dispatchEvent(new ce("error",(new Map).set("detail", t))),
                void Ae(e));
                var r, a, o, s, u
            })
        }
        ,
        e.uh = function() {
            v(this.K, !0),
            v(this.M, !0),
            this.h.setAttribute("ad-active", "true")
        }
        ,
        e.Wg = function() {
            v(this.K, !1),
            v(this.M, !1),
            this.h.removeAttribute("ad-active")
        }
        ,
        e.dc = function() {
            return !!this.N && (null != this.h.getAttribute("shown") || null != this.h.getAttribute("casting"))
        }
        ,
        n("shaka.ui.Controls", i),
        i.prototype.isOpaque = i.prototype.dc,
        i.prototype.hideAdUI = i.prototype.Wg,
        i.prototype.showAdUI = i.prototype.uh,
        i.prototype.togglePiP = i.prototype.Od,
        i.prototype.isPiPEnabled = i.prototype.re,
        i.prototype.isPiPAllowed = i.prototype.qe,
        i.prototype.toggleFullScreen = i.prototype.Pe,
        i.prototype.isFullScreenEnabled = i.prototype.Qc,
        i.prototype.isFullScreenSupported = i.prototype.zd,
        i.prototype.hideSettingsMenus = i.prototype.uc,
        i.prototype.anySettingsMenusAreOpen = i.prototype.nd,
        i.prototype.setLastTouchEventTime = i.prototype.qh,
        i.prototype.getDisplayTime = i.prototype.Hf,
        i.prototype.isCastAllowed = i.prototype.Ii,
        i.prototype.setSeeking = i.prototype.qg,
        i.prototype.isSeeking = i.prototype.Oi,
        i.prototype.getConfig = i.prototype.Yh,
        i.prototype.getClientSideAdContainer = i.prototype.Xh,
        i.prototype.getServerSideAdContainer = i.prototype.ti,
        i.prototype.getControlsContainer = i.prototype.$h,
        i.prototype.getLocalPlayer = i.prototype.gi,
        i.prototype.getPlayer = i.prototype.Mc,
        i.prototype.getLocalVideo = i.prototype.ii,
        i.prototype.getVideo = i.prototype.cc,
        i.prototype.getVideoContainer = i.prototype.Di,
        i.prototype.getLocalization = i.prototype.ji,
        i.prototype.getCastProxy = i.prototype.Vh,
        i.prototype.setEnabledNativeControls = i.prototype.ph,
        i.prototype.setEnabledShakaControls = i.prototype.lg,
        i.prototype.loadComplete = i.prototype.Ri,
        i.prototype.allowCast = i.prototype.Kh,
        i.registerSeekBar = function(e) {
            ub = e
        }
        ,
        i.registerElement = Y1;
        var sb = new Map
          , ub = new W1;
        function lb(e, t) {
            m.call(this, e, t);
            for (var n = this, i = (this.l = this.controls.g,
            this.j = this.controls.h,
            this.i = [],
            this.g = nu(),
            this.g.classList.add("shaka-overflow-menu-button"),
            this.g.classList.add("shaka-no-propagation"),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-tooltip"),
            this.g.textContent = "more_vert",
            this.parent.appendChild(this.g),
            this.h = E("div"),
            this.h.classList.add("shaka-overflow-menu"),
            this.h.classList.add("shaka-no-propagation"),
            this.h.classList.add("shaka-show-controls-on-mouse-over"),
            this.h.classList.add("shaka-hidden"),
            this.j.appendChild(this.h),
            this), r = we(i.l.overflowMenuButtons), a = r.next(); !a.done; a = r.next())
                a = a.value,
                fb.get(a) ? (a = fb.get(a),
                i.i.push(a.create(i.h, i.controls))) : X("Unrecognized overflow menu element requested:", a);
            this.eventManager.o(this.localization, "locale-updated", function() {
                hb(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                hb(n)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                n.ad && n.ad.isLinear() && v(n.g, !1)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                v(n.g, !0)
            }),
            this.eventManager.o(this.controls, "submenuopen", function() {
                v(n.h, !1)
            }),
            this.eventManager.o(this.h, "touchstart", function(e) {
                n.controls.qh(Date.now()),
                e.stopPropagation()
            }),
            this.eventManager.o(this.g, "click", function() {
                var e, t = n;
                t.controls.nd() ? t.controls.uc() : (v(t.h, !0),
                tb(t.controls),
                e = function(e) {
                    return 0 == e.classList.contains("shaka-hidden")
                }
                ,
                $(t.h.childNodes, e) && Z(t.h.childNodes, e)[0].focus())
            }),
            hb(this),
            this.ad && this.ad.isLinear() && v(this.g, !1)
        }
        function cb(e, t) {
            fb.set(e, t)
        }
        function hb(e) {
            e.g.ariaLabel = e.localization.resolve("MORE_SETTINGS")
        }
        function db() {}
        t(lb, m),
        lb.prototype.release = function() {
            this.j = null;
            for (var e = we(this.i), t = e.next(); !t.done; t = e.next())
                t.value.release();
            this.i = [],
            m.prototype.release.call(this)
        }
        ,
        n("shaka.ui.OverflowMenu", lb),
        lb.registerElement = cb,
        db.prototype.create = function(e, t) {
            return new lb(e,t)
        }
        ,
        Y1("overflow_menu", new db);
        var fb = new Map;
        function pb(e, t) {
            m.call(this, e, t);
            var n = this;
            this.g = nu(),
            this.g.classList.add("shaka-airplay-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.h = E("i"),
            this.h.classList.add("material-icons-round"),
            this.h.textContent = "airplay",
            this.g.appendChild(this.h),
            z.WebKitPlaybackTargetAvailabilityEvent || this.g.classList.add("shaka-hidden"),
            (e = E("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.j = E("span"),
            e.appendChild(this.j),
            this.i = E("span"),
            this.i.classList.add("shaka-current-selection-span"),
            e.appendChild(this.i),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            mb(this),
            gb(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                mb(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                mb(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.controls.cc().webkitShowPlaybackTargetPicker()
            }),
            e = this.controls.cc(),
            this.eventManager.o(e, "webkitplaybacktargetavailabilitychanged", function(e) {
                var t = n.player.ie() == Hl;
                v(n.g, "available" == e.availability && t)
            }),
            this.eventManager.o(e, "webkitcurrentplaybacktargetiswirelesschanged", function() {
                gb(n)
            })
        }
        function gb(e) {
            var t = e.controls.cc();
            e.g.ariaPressed = t && t.webkitCurrentPlaybackTargetIsWireless ? "true" : "false"
        }
        function mb(e) {
            e.g.ariaLabel = e.localization.resolve("AIRPLAY"),
            e.j.textContent = e.localization.resolve("AIRPLAY")
        }
        function vb() {}
        function yb(e, t, n) {
            this.i = e,
            this.j = t,
            this.h = bb(this),
            t.dataset.shakaPlayerContainer = "",
            (t.ui = this).Nf() && t.classList.add("shaka-mobile"),
            this.g = new i(e,t,n,this.h),
            this.configure({}),
            n.controls || e.rg(t),
            t.ui = this,
            n.ui = this
        }
        function bb(e) {
            var t = {
                controlPanelElements: "play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),
                overflowMenuButtons: "captions quality language picture_in_picture cast playback_rate".split(" "),
                statisticsList: "width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent".split(" "),
                contextMenuElements: ["loop", "picture_in_picture", "statistics"],
                playbackRates: [.5, .75, 1, 1.25, 1.5, 1.75, 2],
                fastForwardRates: [2, 4, 8, 1],
                rewindRates: [-1, -2, -4, -8],
                addSeekBar: !0,
                addBigPlayButton: !1,
                customContextMenu: !1,
                castReceiverAppId: "",
                castAndroidReceiverCompatible: !1,
                clearBufferOnQualityChange: !0,
                showUnbufferedStart: !1,
                seekBarColors: {
                    base: "rgba(255, 255, 255, 0.3)",
                    buffered: "rgba(255, 255, 255, 0.54)",
                    played: "rgb(255, 255, 255)",
                    adBreaks: "rgb(255, 204, 0)"
                },
                volumeBarColors: {
                    base: "rgba(255, 255, 255, 0.54)",
                    level: "rgb(255, 255, 255)"
                },
                trackLabelFormat: Eb,
                fadeDelay: 0,
                doubleClickForFullscreen: !0,
                singleClickForPlayAndPause: !0,
                enableKeyboardPlaybackControls: !0,
                enableFullscreenOnRotation: !0,
                forceLandscapeOnFullscreen: !0,
                enableTooltips: !1,
                keyboardSeekDistance: 5,
                keyboardLargeSeekDistance: 60,
                fullScreenElement: e.j,
                preferDocumentPictureInPicture: !0,
                showAudioChannelCountVariants: !0,
                seekOnTaps: !0,
                tapSeekDistance: 10
            };
            return "remote"in HTMLMediaElement.prototype ? t.overflowMenuButtons.push("remote") : z.WebKitPlaybackTargetAvailabilityEvent && t.overflowMenuButtons.push("airplay"),
            e.Nf() && (t.addBigPlayButton = !0,
            t.controlPanelElements = t.controlPanelElements.filter(function(e) {
                return "play_pause" != e && "volume" != e
            })),
            t
        }
        function wb() {
            var t, n, i, r, a, o, s, u, l, c, h, d, f, p, g, m, v, y, b;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (ev(),
                    !Wu())
                        return Tb("shaka-ui-load-failed", Sb),
                        e.return();
                    if (h = document.querySelectorAll("[data-shaka-player-container]"),
                    t = document.querySelectorAll("[data-shaka-player]"),
                    n = document.querySelectorAll("[data-shaka-player-canvas]"),
                    !t.length && !h.length) {
                        e.F(2);
                        break
                    }
                    if (t.length && !h.length) {
                        for (i = we(t),
                        r = i.next(); !r.done; r = i.next())
                            if (!(a = r.value).ui) {
                                for (o = document.createElement("div"),
                                a.parentElement.replaceChild(o, a),
                                o.appendChild(a),
                                s = null,
                                u = we(n),
                                l = u.next(); !l.done; l = u.next())
                                    if ((c = l.value).parentElement == o) {
                                        s = c;
                                        break
                                    }
                                s || ((s = document.createElement("canvas")).classList.add("shaka-canvas-container"),
                                o.appendChild(s)),
                                Ab(o, a, s)
                            }
                        e.F(2);
                        break
                    }
                    h = we(h),
                    d = h.next();
                case 4:
                    if (d.done) {
                        e.F(2);
                        break
                    }
                    if ((f = d.value).ui) {
                        e.F(5);
                        break
                    }
                    for (p = null,
                    g = we(t),
                    r = g.next(); !r.done; r = g.next())
                        if ((m = r.value).parentElement == f) {
                            p = m;
                            break
                        }
                    for (p || ((p = document.createElement("video")).setAttribute("playsinline", ""),
                    f.appendChild(p)),
                    v = null,
                    y = we(n),
                    l = y.next(); !l.done; l = y.next())
                        if ((b = l.value).parentElement == f) {
                            v = b;
                            break
                        }
                    return v || ((v = document.createElement("canvas")).classList.add("shaka-canvas-container"),
                    f.appendChild(v)),
                    Ee(e, 7),
                    Te(e, Ab(f, p, v), 9);
                case 9:
                    Se(e, 5);
                    break;
                case 7:
                    return xe(e),
                    Tb("shaka-ui-load-failed", xb),
                    e.return();
                case 5:
                    d = h.next(),
                    e.F(4);
                    break;
                case 2:
                    Tb("shaka-ui-loaded"),
                    Ae(e)
                }
            })
        }
        function Tb(e, t) {
            e = new CustomEvent(e,{
                detail: null != t ? {
                    reasonCode: t
                } : null
            }),
            document.dispatchEvent(e)
        }
        function Ab(t, n, i) {
            var r, a, o, s, u;
            return Ie(function(e) {
                switch (e.g) {
                case 1:
                    r = new l,
                    a = new yb(r,t,n),
                    r.Eg(i),
                    o = "",
                    s = !1,
                    t.dataset && t.dataset.shakaPlayerCastReceiverId ? (o = t.dataset.shakaPlayerCastReceiverId,
                    s = "true" === t.dataset.shakaPlayerCastAndroidReceiverCompatible) : n.dataset && n.dataset.shakaPlayerCastReceiverId && (o = n.dataset.shakaPlayerCastReceiverId,
                    s = "true" === n.dataset.shakaPlayerCastAndroidReceiverCompatible),
                    o.length && a.configure({
                        castReceiverAppId: o,
                        castAndroidReceiverCompatible: s
                    }),
                    n.controls && a.g.ph(!0),
                    (o = n.getAttribute("src")) && ((s = document.createElement("source")).setAttribute("src", o),
                    n.appendChild(s),
                    n.removeAttribute("src")),
                    o = we(n.querySelectorAll("source")),
                    s = o.next();
                case 2:
                    if (s.done) {
                        e.F(4);
                        break
                    }
                    return u = s.value,
                    Ee(e, 5),
                    Te(e, a.g.Mc().load(u.getAttribute("src")), 7);
                case 7:
                    e.F(4);
                    break;
                case 5:
                    xe(e);
                case 3:
                    s = o.next(),
                    e.F(2);
                    break;
                case 4:
                    return Te(e, r.Gc(n), 0)
                }
            })
        }
        t(pb, m),
        n("shaka.ui.AirPlayButton", pb),
        vb.prototype.create = function(e, t) {
            return new pb(e,t)
        }
        ,
        cb("airplay", new vb),
        Y1("airplay", new vb),
        (e = yb.prototype).destroy = function() {
            var t = this;
            return Ie(function(e) {
                return 1 == e.g ? t.g ? Te(e, t.g.destroy(), 2) : e.F(2) : 4 != e.g ? (t.g = null,
                t.i ? Te(e, t.i.destroy(), 4) : e.F(4)) : (t.i = null,
                void Ae(e))
            })
        }
        ,
        e.Nf = function() {
            return !!/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent) || Dn() && 1 < navigator.maxTouchPoints
        }
        ,
        e.getConfiguration = function() {
            var e = bb(this);
            return Cu(e, this.h, bb(this), {}, ""),
            e
        }
        ,
        e.configure = function(e, t) {
            2 == arguments.length && "string" == typeof e && (e = Mu(e, t)),
            Cu(this.h, e, bb(this), {}, ""),
            this.h.castReceiverAppId && !this.h.overflowMenuButtons.includes("cast") && this.h.overflowMenuButtons.push("cast"),
            this.g.configure(this.h),
            this.g.dispatchEvent(new ce("uiupdated"))
        }
        ,
        e.Zh = function() {
            return this.g
        }
        ,
        e.tj = function(e) {
            this.g.lg(e)
        }
        ,
        n("shaka.ui.Overlay", yb),
        yb.prototype.setEnabled = yb.prototype.tj,
        yb.prototype.getControls = yb.prototype.Zh,
        yb.prototype.isMobile = yb.prototype.Nf;
        var Eb = 0
          , Sb = (yb.TrackLabelFormat = {
            LANGUAGE: Eb,
            ROLE: 1,
            LANGUAGE_ROLE: 2,
            LABEL: 3
        },
        0)
          , xb = 1;
        function Ib(e, t, n, i, r, a, o, s) {
            function u(e) {
                var t = "";
                return t = 5 <= e ? " " + a.resolve("SURROUND") : t
            }
            function l(e, t, n, i) {
                return e = [e, t],
                s && null != i && e.push(i),
                n && 3 == o && e.push(n),
                e.join(": ")
            }
            function c(e) {
                return "variant" == e.type ? e.audioRoles ? e.audioRoles.join(", ") : void 0 : e.roles.join(", ")
            }
            var h = e.find(function(e) {
                return 1 == e.active
            })
              , d = T1(t);
            iu(t),
            t.appendChild(d);
            for (var d = new Map, f = we(e), p = f.next(); !p.done; p = f.next())
                p = p.value,
                d.has(p.language) || d.set(p.language, new Set),
                d.get(p.language).add(c(p));
            for (d = new Set,
            h = h ? l(h.language, c(h), h.label, h.channelsCount) : "",
            f = {},
            p = (e = we(e)).next(); !p.done; f = {
                vb: f.vb
            },
            p = e.next()) {
                f.vb = p.value;
                var p = f.vb.language
                  , g = f.vb.forced
                  , m = a.resolve("SUBTITLE_FORCED")
                  , v = c(f.vb)
                  , y = f.vb.label
                  , b = f.vb.channelsCount
                  , w = l(p, v, y, b);
                if (!d.has(w)) {
                    d.add(w);
                    var T = nu()
                      , A = (T.addEventListener("click", function(e) {
                        return function() {
                            n(e.vb)
                        }
                    }(f)),
                    E("span"));
                    switch (T.appendChild(A),
                    A.textContent = function(e, t) {
                        if (!e && !t)
                            return "";
                        switch (e) {
                        case "mul":
                            return t.resolve("MULTIPLE_LANGUAGES");
                        case "und":
                            return t.resolve("UNDETERMINED_LANGUAGE");
                        case "zxx":
                            return t.resolve("NOT_APPLICABLE")
                        }
                        var n = $e(e);
                        return e in v1 ? v1[e].A : n in v1 ? v1[n].A + " (" + e + ")" : t.resolve("UNRECOGNIZED_LANGUAGE") + " (" + e + ")"
                    }(p, a),
                    o) {
                    case Eb:
                        s && (A.textContent += u(b)),
                        g && (A.textContent += " (" + m + ")");
                        break;
                    case 1:
                        s && (A.textContent += u(b)),
                        v ? A.textContent = v : (X("Track #" + f.vb.id + " does not have a role, but the UI is configured to only show role."),
                        A.textContent = "?"),
                        g && (A.textContent += " (" + m + ")");
                        break;
                    case 2:
                        s && (A.textContent += u(b)),
                        v && (A.textContent += ": " + v),
                        g && (A.textContent += " (" + m + ")");
                        break;
                    case 3:
                        y ? A.textContent = y : (X("Track #" + f.vb.id + " does not have a label, but the UI is configured to only show labels."),
                        A.textContent = "?")
                    }
                    i && w == h && (T.appendChild(S1()),
                    A.classList.add("shaka-chosen-item"),
                    T.ariaSelected = "true",
                    r.textContent = A.textContent),
                    t.appendChild(T)
                }
            }
        }
        function kb(e, t, n) {
            m.call(this, e, t);
            var i, r, a = this;
            e = n,
            (t = this).button = nu(),
            t.button.classList.add("shaka-overflow-button"),
            t.icon = E("i"),
            t.icon.classList.add("material-icons-round"),
            t.icon.textContent = e,
            t.button.appendChild(t.icon),
            (e = E("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            t.nameSpan = E("span"),
            e.appendChild(t.nameSpan),
            t.currentSelection = E("span"),
            t.currentSelection.classList.add("shaka-current-selection-span"),
            e.appendChild(t.currentSelection),
            t.button.appendChild(e),
            t.parent.appendChild(t.button),
            (i = this).menu = E("div"),
            i.menu.classList.add("shaka-no-propagation"),
            i.menu.classList.add("shaka-show-controls-on-mouse-over"),
            i.menu.classList.add("shaka-settings-menu"),
            i.menu.classList.add("shaka-hidden"),
            i.backButton = nu(),
            i.backButton.classList.add("shaka-back-to-overflow-button"),
            i.menu.appendChild(i.backButton),
            i.eventManager.o(i.backButton, "click", function() {
                i.controls.uc()
            }),
            (n = E("i")).classList.add("material-icons-round"),
            n.textContent = "close",
            i.backButton.appendChild(n),
            i.backSpan = E("span"),
            i.backButton.appendChild(i.backSpan),
            i.controls.h.appendChild(i.menu),
            (r = this).parent.classList.contains("shaka-overflow-menu") && (r.backButton.firstChild.textContent = "arrow_back",
            r.eventManager.o(r.backButton, "click", function() {
                function e(e) {
                    return 0 == e.classList.contains("shaka-hidden")
                }
                v(r.parent, !0),
                $(r.parent.childNodes, e) && Z(r.parent.childNodes, e)[0].focus(),
                tb(r.controls)
            })),
            this.eventManager.o(this.button, "click", function() {
                a.menu.classList.contains("shaka-hidden") ? (a.controls.dispatchEvent(new ce("submenuopen")),
                v(a.menu, !0),
                E1(a.menu)) : v(a.menu, !1)
            })
        }
        function Cb(e, t) {
            kb.call(this, e, t, "language");
            var n = this;
            this.button.classList.add("shaka-language-button"),
            this.button.classList.add("shaka-tooltip-status"),
            this.menu.classList.add("shaka-audio-languages"),
            this.eventManager.o(this.localization, "locale-updated", function() {
                Lb(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Lb(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                var e = 0 < n.player.mb().length;
                v(n.button, e),
                Mb(n)
            }),
            this.eventManager.o(this.player, "variantchanged", function() {
                Mb(n)
            }),
            Lb(this),
            Mb(this)
        }
        function Mb(t) {
            Ib(t.player.mb(), t.menu, function(e) {
                e.channelsCount && t.controls.g.showAudioChannelCountVariants ? t.player.Le(e.language, e.roles[0], e.channelsCount) : t.player.Le(e.language, e.roles[0])
            }, !0, t.currentSelection, t.localization, t.controls.g.trackLabelFormat, t.controls.g.showAudioChannelCountVariants),
            E1(t.menu),
            t.controls.dispatchEvent(new ce("languageselectionupdated")),
            t.button.setAttribute("shaka-status", t.currentSelection.innerText),
            v(t.button, 2 < t.menu.getElementsByTagName("button").length)
        }
        function Lb(e) {
            e.backButton.ariaLabel = e.localization.resolve("BACK"),
            e.button.ariaLabel = e.localization.resolve("LANGUAGE"),
            e.nameSpan.textContent = e.localization.resolve("LANGUAGE"),
            e.backSpan.textContent = e.localization.resolve("LANGUAGE")
        }
        function Rb() {}
        function Nb(e, t) {
            m.call(this, e, t);
            var i = this;
            this.h = this.controls.C,
            this.g = nu(),
            this.g.classList.add("shaka-cast-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.i = E("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = "cast",
            this.g.appendChild(this.i),
            (e = E("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.l = E("span"),
            e.appendChild(this.l),
            this.j = E("span"),
            this.j.classList.add("shaka-current-selection-span"),
            e.appendChild(this.j),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            _b(this),
            Pb(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                _b(i)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                _b(i)
            }),
            this.eventManager.o(this.g, "click", function() {
                var t, n;
                t = i,
                Ie(function(e) {
                    return 1 == e.g ? t.h.Ba() ? (t.h.vh(),
                    e.F(0)) : (Ee(e, 3),
                    t.g.disabled = !0,
                    Te(e, t.h.cast(), 5)) : 3 != e.g ? (t.g.disabled = !1,
                    Se(e, 0)) : (n = xe(e),
                    t.g.disabled = !1,
                    8004 != n.code && t.controls.dispatchEvent(new ce("error",(new Map).set("detail", n))),
                    void Ae(e))
                })
            }),
            this.eventManager.o(this.controls, "caststatuschanged", function() {
                Pb(i)
            })
        }
        function Pb(e) {
            var t = e.h.kf() && e.controls.ua
              , n = e.h.Ba();
            v(e.g, t),
            e.i.textContent = n ? "cast_connected" : "cast",
            t && (e.g.ariaPressed = n ? "true" : "false"),
            Db(e)
        }
        function Db(e) {
            e.j.textContent = e.h.Ba() ? e.h.Je() : e.localization.resolve("OFF")
        }
        function _b(e) {
            e.g.ariaLabel = e.localization.resolve("CAST"),
            e.l.textContent = e.localization.resolve("CAST"),
            Db(e)
        }
        function Ub() {}
        function Ob(e, t) {
            m.call(this, e, t);
            var n = this;
            this.g = nu(),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-fast-forward-button"),
            this.g.classList.add("shaka-tooltip-status"),
            this.g.setAttribute("shaka-status", "1x"),
            this.g.textContent = "fast_forward",
            this.parent.appendChild(this.g),
            jb(this),
            this.h = this.controls.g.fastForwardRates,
            this.eventManager.o(this.localization, "locale-updated", function() {
                jb(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                jb(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                var e;
                n.video.duration && (e = (e = n.h.indexOf(n.player.Nb()) + 1) != n.h.length ? n.h[e] : n.h[0],
                n.player.Pd(e),
                n.g.setAttribute("shaka-status", e + "x"))
            })
        }
        function jb(e) {
            e.g.ariaLabel = e.localization.resolve("FAST_FORWARD")
        }
        function Bb() {}
        function Fb(e, t) {
            m.call(this, e, t);
            var n = this;
            this.h = this.controls.s,
            this.g = nu(),
            this.g.classList.add("shaka-fullscreen-button"),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-tooltip"),
            Gb(this),
            this.g.textContent = "fullscreen",
            this.parent.appendChild(this.g),
            Vb(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                Vb(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Vb(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                return Ie(function(e) {
                    return Te(e, n.controls.Pe(), 0)
                })
            }),
            this.eventManager.o(document, "fullscreenchange", function() {
                n.g.textContent = n.controls.Qc() ? "fullscreen_exit" : "fullscreen",
                Vb(n)
            }),
            this.eventManager.o(this.h, "loadedmetadata", function() {
                Gb(n)
            }),
            this.eventManager.o(this.h, "loadeddata", function() {
                Gb(n)
            })
        }
        function Gb(e) {
            e.controls.zd() ? e.g.classList.remove("shaka-hidden") : e.g.classList.add("shaka-hidden")
        }
        function Vb(e) {
            e.g.ariaLabel = e.localization.resolve(e.controls.Qc() ? "EXIT_FULL_SCREEN" : "FULL_SCREEN")
        }
        function Kb() {}
        function Hb(e, t) {
            m.call(this, e, t);
            var n = this;
            this.g = nu(),
            this.g.classList.add("shaka-loop-button"),
            this.g.classList.add("shaka-tooltip"),
            this.i = E("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = "repeat",
            this.g.appendChild(this.i),
            (e = E("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.j = E("span"),
            this.j.textContent = this.localization.resolve("LOOP"),
            e.appendChild(this.j),
            this.l = E("span"),
            this.l.classList.add("shaka-current-selection-span"),
            e.appendChild(this.l),
            this.g.appendChild(e),
            zb(this),
            this.parent.appendChild(this.g),
            this.eventManager.o(this.localization, "locale-updated", function() {
                zb(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                zb(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.video.loop = !n.video.loop,
                n.h.Qa(),
                n.h.za(1)
            }),
            this.m = this.video.loop,
            this.h = new I(function() {
                n.m != n.video.loop && (zb(n),
                n.m = n.video.loop)
            }
            ),
            this.h.za(1)
        }
        function zb(e) {
            e.j.textContent = e.localization.resolve("LOOP"),
            e.l.textContent = e.localization.resolve(e.video.loop ? "ON" : "OFF"),
            e.i.textContent = e.video.loop ? "repeat_on" : "repeat",
            e.g.ariaLabel = e.localization.resolve(e.video.loop ? "EXIT_LOOP_MODE" : "ENTER_LOOP_MODE")
        }
        function Xb() {}
        function Wb(e, t) {
            m.call(this, e, t);
            var n = this;
            this.g = nu(),
            this.g.classList.add("shaka-mute-button"),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-tooltip"),
            this.parent.appendChild(this.g),
            qb(this),
            Yb(this),
            this.eventManager.o(this.localization, "locale-updated", function() {
                qb(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                qb(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.ad && n.ad.isLinear() ? n.ad.setMuted(!n.ad.isMuted()) : n.video.muted = !n.video.muted
            }),
            this.eventManager.o(this.video, "volumechange", function() {
                qb(n),
                Yb(n)
            }),
            this.eventManager.o(this.adManager, "ad-volume-changed", function() {
                qb(n),
                Yb(n)
            }),
            this.eventManager.o(this.adManager, "ad-muted", function() {
                qb(n),
                Yb(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.ad = null,
                qb(n),
                Yb(n)
            })
        }
        function qb(e) {
            var t = e.ad ? e.ad.isMuted() ? "UNMUTE" : "MUTE" : e.video.muted ? "UNMUTE" : "MUTE";
            e.g.ariaLabel = e.localization.resolve(t)
        }
        function Yb(e) {
            var t = e.ad ? e.ad.isMuted() ? "volume_off" : "volume_up" : e.video.muted ? "volume_off" : "volume_up";
            e.g.textContent = t
        }
        function Jb() {}
        function Qb(e, t) {
            m.call(this, e, t);
            var n = this;
            this.l = this.controls.s,
            this.g = nu(),
            this.g.classList.add("shaka-pip-button"),
            this.g.classList.add("shaka-tooltip"),
            this.i = E("i"),
            this.i.classList.add("material-icons-round"),
            this.i.textContent = "picture_in_picture_alt",
            this.g.appendChild(this.i),
            (e = E("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.j = E("span"),
            this.j.textContent = this.localization.resolve("PICTURE_IN_PICTURE"),
            e.appendChild(this.j),
            this.h = E("span"),
            this.h.classList.add("shaka-current-selection-span"),
            e.appendChild(this.h),
            this.g.appendChild(e),
            ew(this),
            this.parent.appendChild(this.g),
            this.controls.qe() || v(this.g, !1),
            this.eventManager.o(this.localization, "locale-updated", function() {
                ew(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                ew(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.controls.Od()
            }),
            this.eventManager.o(this.l, "enterpictureinpicture", function() {
                $b(n)
            }),
            this.eventManager.o(this.l, "leavepictureinpicture", function() {
                Zb(n)
            }),
            this.eventManager.o(this.controls, "caststatuschanged", function() {
                tw(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                tw(n)
            }),
            "documentPictureInPicture"in z && this.eventManager.o(z.documentPictureInPicture, "enter", function(e) {
                $b(n),
                n.eventManager.na(e.window, "pagehide", function() {
                    Zb(n)
                })
            })
        }
        function $b(e) {
            e.i.textContent = "branding_watermark",
            e.g.ariaLabel = e.localization.resolve("EXIT_PICTURE_IN_PICTURE"),
            e.h.textContent = e.localization.resolve("ON")
        }
        function Zb(e) {
            e.i.textContent = "picture_in_picture_alt",
            e.g.ariaLabel = e.localization.resolve("ENTER_PICTURE_IN_PICTURE"),
            e.h.textContent = e.localization.resolve("OFF")
        }
        function ew(e) {
            e.j.textContent = e.localization.resolve("PICTURE_IN_PICTURE");
            var t = e.controls.re();
            e.g.ariaLabel = e.localization.resolve(t ? "EXIT_PICTURE_IN_PICTURE" : "ENTER_PICTURE_IN_PICTURE"),
            e.h.textContent = e.localization.resolve(t ? "ON" : "OFF")
        }
        function tw(t) {
            Ie(function(e) {
                return !t.controls.qe() || t.player && t.player.Pc() ? (v(t.g, !1),
                t.controls.re() ? Te(e, t.controls.Od(), 0) : e.F(0)) : (v(t.g, !0),
                e.F(0))
            })
        }
        function nw() {}
        function iw(e, t) {
            kb.call(this, e, t, "slow_motion_video");
            for (var n = this, i = (this.button.classList.add("shaka-playbackrate-button"),
            this.menu.classList.add("shaka-playback-rates"),
            this.button.classList.add("shaka-tooltip-status"),
            this.eventManager.o(this.localization, "locale-updated", function() {
                rw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                rw(n)
            }),
            this.eventManager.o(this.player, "loaded", function() {
                aw(n, n.player.Nb())
            }),
            this.eventManager.o(this.player, "ratechange", function() {
                aw(n, n.player.Nb())
            }),
            this.g = new Map(this.controls.g.playbackRates.map(function(e) {
                return [e + "x", e]
            })),
            rw(this),
            this), r = {}, a = we(i.g.keys()), o = a.next(); !o.done; r = {
                cd: r.cd
            },
            o = a.next()) {
                r.cd = o.value,
                o = nu();
                var s = E("span");
                s.textContent = r.cd,
                o.appendChild(s),
                i.eventManager.o(o, "click", function(e) {
                    return function() {
                        i.video.playbackRate = i.g.get(e.cd),
                        i.video.defaultPlaybackRate = i.g.get(e.cd)
                    }
                }(r)),
                i.menu.appendChild(o)
            }
            E1(i.menu),
            aw(this, this.player.Nb())
        }
        function rw(e) {
            e.backButton.ariaLabel = e.localization.resolve("BACK"),
            e.button.ariaLabel = e.localization.resolve("PLAYBACK_RATE"),
            e.nameSpan.textContent = e.localization.resolve("PLAYBACK_RATE"),
            e.backSpan.textContent = e.localization.resolve("PLAYBACK_RATE")
        }
        function aw(t, n) {
            var e, i = A1(t.menu, "material-icons-round shaka-chosen-item");
            i && ((e = i.parentElement).removeAttribute("aria-selected"),
            e.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),
            e.removeChild(i)),
            (i = Array.from(t.menu.querySelectorAll("span")).find(function(e) {
                return t.g.get(e.textContent) == n
            })) && ((e = i.parentElement).appendChild(S1()),
            e.ariaSelected = "true",
            i.classList.add("shaka-chosen-item")),
            t.currentSelection.textContent = n + "x",
            t.button.setAttribute("shaka-status", n + "x")
        }
        function ow() {}
        function sw(e, t) {
            m.call(this, e, t);
            var r = this;
            this.g = nu(),
            this.g.classList.add("shaka-current-time"),
            uw(this, "0:00"),
            this.parent.appendChild(this.g),
            this.eventManager.o(this.g, "click", function() {
                r.player.R() && (r.video.currentTime = r.player.Ha().end)
            }),
            this.eventManager.o(this.controls, "timeandseekrangeupdated", function() {
                var e = r.controls.W
                  , t = r.controls.Hf()
                  , n = r.player.Ha()
                  , i = n.end - n.start;
                r.player.R() ? (i = 3600 <= i,
                1 <= (t = Math.max(0, Math.floor(n.end - t))) || e ? (uw(r, "- " + x1(t, i)),
                r.g.disabled = !1) : (uw(r, r.localization.resolve("LIVE")),
                r.g.disabled = !0)) : (e = 3600 <= i,
                t = x1(Math.max(0, t - n.start), e),
                i && (t += " / " + x1(i, e)),
                uw(r, t),
                r.g.disabled = !0)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                r.player.R() && (r.g.ariaLabel = r.localization.resolve("SKIP_TO_LIVE"))
            })
        }
        function uw(e, t) {
            t != e.g.textContent && (e.g.textContent = t)
        }
        function lw() {}
        function cw(e, t) {
            m.call(this, e, t);
            var n = this;
            this.g = nu(),
            this.g.classList.add("shaka-remote-button"),
            this.g.classList.add("shaka-tooltip"),
            this.g.ariaPressed = "false",
            this.i = E("i"),
            this.i.classList.add("material-icons-round"),
            e = "cast",
            (t = Un()) && 13 <= t && (e = "airplay"),
            this.i.textContent = e,
            this.g.appendChild(this.i),
            (e = E("label")).classList.add("shaka-overflow-button-label"),
            e.classList.add("shaka-overflow-menu-only"),
            this.l = E("span"),
            e.appendChild(this.l),
            this.j = E("span"),
            this.j.classList.add("shaka-current-selection-span"),
            e.appendChild(this.j),
            this.g.appendChild(e),
            this.parent.appendChild(this.g),
            this.h = -1,
            dw(this),
            v(this.g, !1),
            !this.video.remote || this.video.disableRemotePlayback ? this.g.classList.add("shaka-hidden") : (this.eventManager.o(this.localization, "locale-updated", function() {
                dw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                dw(n)
            }),
            this.eventManager.o(this.controls, "caststatuschanged", function() {
                hw(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.video.remote.prompt()
            }),
            this.eventManager.o(this.video.remote, "connect", function() {
                hw(n)
            }),
            this.eventManager.o(this.video.remote, "connecting", function() {
                hw(n)
            }),
            this.eventManager.o(this.video.remote, "disconnect", function() {
                hw(n)
            }),
            this.eventManager.o(this.player, "loaded", function() {
                hw(n)
            }),
            hw(this))
        }
        function hw(t) {
            var n, i;
            Ie(function(e) {
                switch (e.g) {
                case 1:
                    if (t.controls.C.kf() && t.controls.ua) {
                        v(t.g, !1),
                        -1 != t.h && (t.video.remote.cancelWatchAvailability(t.h),
                        t.h = -1),
                        e.F(0);
                        break
                    }
                    if ("disconnected" == t.video.remote.state) {
                        if (n = function(e) {
                            t.player ? v(t.g, t.player.ie() == Hl && e) : v(t.g, !1)
                        }
                        ,
                        Ee(e, 7),
                        -1 != t.h)
                            return Te(e, t.video.remote.cancelWatchAvailability(t.h), 10);
                        e.F(9);
                        break
                    }
                    if (-1 != t.h)
                        return Te(e, t.video.remote.cancelWatchAvailability(t.h), 6);
                    e.F(0);
                    break;
                case 6:
                    t.h = -1,
                    e.F(0);
                    break;
                case 10:
                    t.h = -1;
                case 9:
                    Se(e, 8);
                    break;
                case 7:
                    xe(e);
                case 8:
                    return Ee(e, 11),
                    Te(e, t.video.remote.watchAvailability(n), 13);
                case 13:
                    i = e.h,
                    t.h = i,
                    Se(e, 0);
                    break;
                case 11:
                    xe(e),
                    n(!0),
                    Ae(e)
                }
            })
        }
        function dw(e) {
            var t = e.localization.resolve("CAST")
              , n = Un();
            n && 13 <= n && (t = e.localization.resolve("AIRPLAY")),
            e.g.ariaLabel = t,
            e.l.textContent = t
        }
        function fw() {}
        function pw(e, t) {
            kb.call(this, e, t, "settings");
            var n = this;
            this.button.classList.add("shaka-resolution-button"),
            this.button.classList.add("shaka-tooltip-status"),
            this.menu.classList.add("shaka-resolutions"),
            this.eventManager.o(this.localization, "locale-updated", function() {
                mw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                mw(n)
            }),
            this.eventManager.o(this.player, "variantchanged", function() {
                gw(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                gw(n)
            }),
            this.eventManager.o(this.player, "abrstatuschanged", function() {
                gw(n)
            }),
            gw(this)
        }
        function gw(n) {
            var i = []
              , t = (i = n.player.ie() != Hl ? n.player.mb() : i).find(function(e) {
                return e.active
            })
              , e = (i = (i = t ? i.filter(function(e) {
                return e.language == t.language && e.channelsCount == t.channelsCount
            }) : i).filter(function(t, e) {
                return (n.player.Pc() ? i.findIndex(function(e) {
                    return e.bandwidth == t.bandwidth
                }) : i.findIndex(function(e) {
                    return e.height == t.height && e.frameRate == t.frameRate && e.hdr == t.hdr && e.videoLayout == t.videoLayout
                })) == e
            }),
            n.player.Pc() ? i.sort(function(e, t) {
                return t.bandwidth - e.bandwidth
            }) : i.sort(function(e, t) {
                return t.height - e.height
            }),
            T1(n.menu));
            iu(n.menu),
            n.menu.appendChild(e);
            for (var e = n.player.getConfiguration().abr.enabled, r = {}, a = we(i), o = a.next(); !o.done; r = {
                Hb: r.Hb
            },
            o = a.next()) {
                r.Hb = o.value,
                (o = nu()).classList.add("explicit-resolution"),
                n.eventManager.o(o, "click", function(t) {
                    return function() {
                        var e = t.Hb;
                        n.player.configure({
                            abr: {
                                enabled: !1
                            }
                        }),
                        n.player.Me(e, n.controls.g.clearBufferOnQualityChange)
                    }
                }(r));
                var s = E("span");
                s.textContent = n.player.Pc() && r.Hb.bandwidth ? Math.round(r.Hb.bandwidth / 1e3) + " kbits/s" : r.Hb.height && r.Hb.width ? function(e) {
                    var t = e.height || 0
                      , n = e.width || 0
                      , i = t;
                    16 / 9 < n / t && (i = Math.round(9 * n / 16)),
                    t = 2160 == i ? "4K" : i + "p",
                    (i = e.frameRate) && (50 <= i || i <= 20) && (t += Math.round(e.frameRate)),
                    "PQ" != e.hdr && "HLG" != e.hdr || (t += " (HDR)");
                    return "CH-STEREO" == e.videoLayout && (t += " (3D)"),
                    t
                }(r.Hb) : "Unknown",
                o.appendChild(s),
                e || r.Hb != t || (o.ariaSelected = "true",
                o.appendChild(S1()),
                s.classList.add("shaka-chosen-item"),
                n.currentSelection.textContent = s.textContent),
                n.menu.appendChild(o)
            }
            (r = nu()).classList.add("shaka-enable-abr-button"),
            n.eventManager.o(r, "click", function() {
                n.player.configure({
                    abr: {
                        enabled: !0
                    }
                }),
                gw(n)
            }),
            n.g = E("span"),
            n.g.classList.add("shaka-auto-span"),
            n.g.textContent = n.localization.resolve("AUTO_QUALITY"),
            r.appendChild(n.g),
            e && (r.ariaSelected = "true",
            r.appendChild(S1()),
            n.g.classList.add("shaka-chosen-item"),
            n.currentSelection.textContent = n.localization.resolve("AUTO_QUALITY")),
            n.button.setAttribute("shaka-status", n.currentSelection.textContent),
            n.menu.appendChild(r),
            E1(n.menu),
            n.controls.dispatchEvent(new ce("resolutionselectionupdated")),
            mw(n),
            v(n.button, 0 < i.length)
        }
        function mw(e) {
            var t = e.player.Pc() ? "QUALITY" : "RESOLUTION";
            e.button.ariaLabel = e.localization.resolve(t),
            e.backButton.ariaLabel = e.localization.resolve(t),
            e.backSpan.textContent = e.localization.resolve(t),
            e.nameSpan.textContent = e.localization.resolve(t),
            e.g.textContent = e.localization.resolve("AUTO_QUALITY"),
            e.player.getConfiguration().abr.enabled && (e.currentSelection.textContent = e.localization.resolve("AUTO_QUALITY"))
        }
        function vw() {}
        function yw(e, t) {
            m.call(this, e, t);
            var n = this;
            this.g = nu(),
            this.g.classList.add("material-icons-round"),
            this.g.classList.add("shaka-rewind-button"),
            this.g.classList.add("shaka-tooltip-status"),
            this.g.setAttribute("shaka-status", this.localization.resolve("OFF")),
            this.g.textContent = "fast_rewind",
            this.parent.appendChild(this.g),
            bw(this),
            this.h = this.controls.g.rewindRates,
            this.eventManager.o(this.localization, "locale-updated", function() {
                bw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                bw(n)
            }),
            this.eventManager.o(this.g, "click", function() {
                var e;
                n.video.duration && (e = (e = n.h.indexOf(n.player.Nb()) + 1) != n.h.length ? n.h[e] : n.h[0],
                n.player.Pd(e),
                n.g.setAttribute("shaka-status", e + "x"))
            })
        }
        function bw(e) {
            e.g.ariaLabel = e.localization.resolve("REWIND")
        }
        function ww() {}
        function Tw(e, t) {
            m.call(this, e, t);
            var n = this;
            this.j = E("div"),
            this.j.classList.add("shaka-skip-ad-container"),
            this.parent.appendChild(this.j),
            this.h = E("div"),
            this.h.classList.add("shaka-skip-ad-counter"),
            v(this.h, !1),
            this.j.appendChild(this.h),
            this.g = nu(),
            this.g.classList.add("shaka-skip-ad-button"),
            this.g.disabled = !0,
            v(this.g, !1),
            this.g.classList.add("shaka-no-propagation"),
            this.j.appendChild(this.g),
            Aw(this),
            this.i = new I(function() {
                var e = Math.round(n.ad.getTimeUntilSkippable());
                0 < e ? n.h.textContent = e : (n.i.stop(),
                v(n.h, !1))
            }
            ),
            this.eventManager.o(this.localization, "locale-updated", function() {
                Aw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Aw(n)
            }),
            this.eventManager.o(this.adManager, "ad-started", function() {
                Ew(n)
            }),
            this.eventManager.o(this.adManager, "ad-skip-state-changed", function() {
                n.ad.canSkipNow() && (n.g.disabled = !1,
                n.i.stop(),
                v(n.h, !1))
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                n.i.stop(),
                n.g.disabled = !0,
                v(n.g, !1),
                v(n.h, !1)
            }),
            this.eventManager.o(this.g, "click", function() {
                n.ad.skip()
            }),
            this.ad && Ew(this)
        }
        function Aw(e) {
            e.g.textContent = e.localization.resolve("SKIP_AD")
        }
        function Ew(e) {
            e.ad.isSkippable() && (v(e.g, !0),
            v(e.h, !0),
            e.h.textContent = "",
            e.i.Qa(),
            e.i.za(.5))
        }
        function Sw(e, t) {
            M1.call(this, e, t),
            this.button.classList.add("shaka-small-play-button"),
            this.button.classList.add("material-icons-round"),
            this.button.classList.add("shaka-tooltip"),
            this.h(),
            this.g()
        }
        function xw() {}
        function Iw(e, t) {
            m.call(this, e, t),
            (e = E("div")).classList.add("shaka-spacer"),
            e.ariaHidden = "true",
            this.parent.appendChild(e)
        }
        function kw() {}
        function Cw(e, t) {
            function n(e) {
                return x1(d.h[e], !1) + " (m)"
            }
            function i(e) {
                return Math.round(d.h[e] / 1e3) + " (kbits/s)"
            }
            function r(e) {
                return d.h[e].toFixed(2) + " (s)"
            }
            function a(e) {
                return d.h[e] + " (frames)"
            }
            function o(e) {
                return d.h[e] + " (px)"
            }
            m.call(this, e, t);
            for (var s, u, l, c, h, d = this, f = (this.i = nu(),
            this.i.classList.add("shaka-statistics-button"),
            this.j = E("i"),
            this.j.classList.add("material-icons-round"),
            this.j.textContent = "insert_chart_outlined",
            this.i.appendChild(this.j),
            (e = E("label")).classList.add("shaka-overflow-button-label"),
            this.s = E("span"),
            e.appendChild(this.s),
            this.m = E("span"),
            this.m.classList.add("shaka-current-selection-span"),
            e.appendChild(this.m),
            this.i.appendChild(e),
            this.parent.appendChild(this.i),
            this.g = E("div"),
            this.g.classList.add("shaka-no-propagation"),
            this.g.classList.add("shaka-show-controls-on-mouse-over"),
            this.g.classList.add("shaka-statistics-container"),
            this.g.classList.add("shaka-hidden"),
            this.controls.h.appendChild(this.g),
            this.D = [],
            this.G = ["stateHistory", "switchHistory"],
            this.h = this.player.getStats(),
            this.u = {},
            this.C = {
                width: o,
                height: o,
                completionPercent: function(e) {
                    return d.h[e] + " (%)"
                },
                bufferingTime: r,
                drmTimeSeconds: r,
                licenseTime: r,
                liveLatency: r,
                loadLatency: r,
                manifestTimeSeconds: r,
                estimatedBandwidth: i,
                streamBandwidth: i,
                maxSegmentDuration: n,
                pauseTime: n,
                playTime: n,
                corruptedFrames: a,
                decodedFrames: a,
                droppedFrames: a,
                stallsDetected: function(e) {
                    return d.h[e] + " (stalls)"
                },
                gapsJumped: function(e) {
                    return d.h[e] + " (gaps)"
                }
            },
            this.l = new I(function() {
                d.h = d.player.getStats();
                for (var e = we(d.D), t = e.next(); !t.done; t = e.next())
                    t = t.value,
                    d.u[t].textContent = d.C[t](t)
            }
            ),
            Mw(this),
            this), p = we(f.controls.g.statisticsList), g = p.next(); !g.done; g = p.next())
                (g = g.value)in f.h && !f.G.includes(g) ? (s = f.g,
                u = s.appendChild,
                l = f,
                c = E("div"),
                (h = E("label")).textContent = g + ":",
                c.appendChild(h),
                (h = E("span")).textContent = l.C[g](g),
                c.appendChild(h),
                l.u[g] = h,
                u.call(s, c),
                f.D.push(g)) : X("Unrecognized statistic element:", g);
            this.eventManager.o(this.localization, "locale-updated", function() {
                Mw(d)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Mw(d)
            }),
            this.eventManager.o(this.i, "click", function() {
                v(d.parent, !1),
                d.g.classList.contains("shaka-hidden") ? (d.j.textContent = "insert_chart",
                d.l.za(.1),
                v(d.g, !0)) : (d.j.textContent = "insert_chart_outlined",
                d.l.stop(),
                v(d.g, !1)),
                Mw(d)
            })
        }
        function Mw(e) {
            e.s.textContent = e.localization.resolve("STATISTICS"),
            e.i.ariaLabel = e.localization.resolve("STATISTICS"),
            e.m.textContent = e.localization.resolve(e.g.classList.contains("shaka-hidden") ? "OFF" : "ON")
        }
        function Lw() {}
        function Rw(e, t) {
            kb.call(this, e, t, "closed_caption");
            var n = this;
            this.button.classList.add("shaka-caption-button"),
            this.button.classList.add("shaka-tooltip-status"),
            this.menu.classList.add("shaka-text-languages"),
            this.player && this.player.xc() ? this.button.ariaPressed = "true" : this.button.ariaPressed = "false",
            e = this,
            (t = nu()).ariaSelected = "true",
            e.menu.appendChild(t),
            t.appendChild(S1()),
            e.g = E("span"),
            e.g.classList.add("shaka-auto-span"),
            t.appendChild(e.g),
            this.eventManager.o(this.localization, "locale-updated", function() {
                Dw(n),
                Pw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                Dw(n),
                Pw(n)
            }),
            this.eventManager.o(this.player, "texttrackvisibility", function() {
                Nw(n),
                Pw(n)
            }),
            this.eventManager.o(this.player, "textchanged", function() {
                Pw(n)
            }),
            this.eventManager.o(this.player, "trackschanged", function() {
                _w(n)
            }),
            Nw(this),
            Dw(this),
            Pw(this),
            _w(this)
        }
        function Nw(e) {
            e.player.xc() ? (e.icon.textContent = "closed_caption",
            e.button.ariaPressed = "true") : (e.icon.textContent = "closed_caption_disabled",
            e.button.ariaPressed = "false"),
            e.controls.dispatchEvent(new ce("captionselectionupdated"))
        }
        function Pw(i) {
            var e = i.player.bc();
            Ib(e, i.menu, function(e) {
                var t, n;
                t = i,
                n = e,
                Ie(function(e) {
                    return t.player.jg(n),
                    Te(e, t.player.Oe(!0), 0)
                })
            }, i.player.xc(), i.currentSelection, i.localization, i.controls.g.trackLabelFormat, i.controls.g.showAudioChannelCountVariants),
            (e = nu()).classList.add("shaka-turn-captions-off-button"),
            i.eventManager.o(e, "click", function() {
                i.player.Oe(!1),
                Pw(i)
            }),
            e.appendChild(i.g),
            i.menu.appendChild(e),
            i.player.xc() || (e.ariaSelected = "true",
            e.appendChild(S1()),
            i.g.classList.add("shaka-chosen-item"),
            i.currentSelection.textContent = i.localization.resolve("OFF")),
            i.button.setAttribute("shaka-status", i.currentSelection.textContent),
            E1(i.menu),
            i.controls.dispatchEvent(new ce("captionselectionupdated"))
        }
        function Dw(e) {
            e.button.ariaLabel = e.localization.resolve("CAPTIONS"),
            e.backButton.ariaLabel = e.localization.resolve("BACK"),
            e.nameSpan.textContent = e.localization.resolve("CAPTIONS"),
            e.backSpan.textContent = e.localization.resolve("CAPTIONS"),
            e.g.textContent = e.localization.resolve("OFF")
        }
        function _w(e) {
            var t = 0 < e.player.bc().length;
            v(e.button, t),
            Pw(e)
        }
        function Uw() {}
        function Ow(e, t) {
            O1.call(this, e, t, ["shaka-volume-bar-container"], ["shaka-volume-bar"]);
            var n = this;
            this.g = this.controls.g,
            this.setRange(0, 100),
            this.eventManager.o(this.video, "volumechange", function() {
                return jw(n)
            }),
            this.eventManager.o(this.adManager, "ad-volume-changed", function() {
                return Bw(n)
            }),
            this.eventManager.o(this.adManager, "ad-muted", function() {
                return Bw(n)
            }),
            this.eventManager.o(this.adManager, "ad-stopped", function() {
                return jw(n)
            }),
            this.eventManager.o(this.localization, "locale-updated", function() {
                return Gw(n)
            }),
            this.eventManager.o(this.localization, "locale-changed", function() {
                return Gw(n)
            }),
            jw(this),
            Gw(this),
            this.ad && this.onChange()
        }
        function jw(e) {
            e.video.muted ? e.setValue(0) : e.setValue(100 * e.video.volume),
            Fw(e)
        }
        function Bw(e) {
            var t = e.ad.getVolume();
            e.setValue(100 * t),
            Fw(e)
        }
        function Fw(e) {
            var t = e.g.volumeBarColors
              , n = ["to right"];
            n.push(t.level + e.getValue() + "%"),
            n.push(t.base + e.getValue() + "%"),
            n.push(t.base + "100%"),
            e.container.style.background = "linear-gradient(" + n.join(",") + ")"
        }
        function Gw(e) {
            e.bar.ariaLabel = e.localization.resolve("VOLUME")
        }
        function Vw() {}
        yb.FailReasonCode = {
            NO_BROWSER_SUPPORT: Sb,
            PLAYER_FAILED_TO_LOAD: xb
        },
        "complete" == document.readyState ? Ie(function(e) {
            if (1 == e.g)
                return Te(e, Promise.resolve(), 2);
            wb(),
            Ae(e)
        }) : z.addEventListener("load", wb),
        t(kb, m),
        n("shaka.ui.SettingsMenu", kb),
        t(Cb, kb),
        n("shaka.ui.AudioLanguageSelection", Cb),
        Rb.prototype.create = function(e, t) {
            return new Cb(e,t)
        }
        ,
        cb("language", new Rb),
        Y1("language", new Rb),
        t(Nb, m),
        n("shaka.ui.CastButton", Nb),
        Ub.prototype.create = function(e, t) {
            return new Nb(e,t)
        }
        ,
        cb("cast", new Ub),
        Y1("cast", new Ub),
        t(Ob, m),
        n("shaka.ui.FastForwardButton", Ob),
        Bb.prototype.create = function(e, t) {
            return new Ob(e,t)
        }
        ,
        Y1("fast_forward", new Bb),
        t(Fb, m),
        n("shaka.ui.FullscreenButton", Fb),
        Kb.prototype.create = function(e, t) {
            return new Fb(e,t)
        }
        ,
        Y1("fullscreen", new Kb),
        t(Hb, m),
        Hb.prototype.release = function() {
            this.h.stop(),
            this.h = null,
            m.prototype.release.call(this)
        }
        ,
        n("shaka.ui.LoopButton", Hb),
        Xb.prototype.create = function(e, t) {
            return new Hb(e,t)
        }
        ,
        cb("loop", new Xb),
        Y1("loop", new Xb),
        N1("loop", new Xb),
        t(Wb, m),
        n("shaka.ui.MuteButton", Wb),
        Jb.prototype.create = function(e, t) {
            return new Wb(e,t)
        }
        ,
        Y1("mute", new Jb),
        t(Qb, m),
        n("shaka.ui.PipButton", Qb),
        nw.prototype.create = function(e, t) {
            return new Qb(e,t)
        }
        ,
        cb("picture_in_picture", new nw),
        Y1("picture_in_picture", new nw),
        N1("picture_in_picture", new nw),
        t(iw, kb),
        n("shaka.ui.PlaybackRateSelection", iw),
        ow.prototype.create = function(e, t) {
            return new iw(e,t)
        }
        ,
        cb("playback_rate", new ow),
        Y1("playback_rate", new ow),
        t(sw, m),
        n("shaka.ui.PresentationTimeTracker", sw),
        lw.prototype.create = function(e, t) {
            return new sw(e,t)
        }
        ,
        Y1("time_and_duration", new lw),
        t(cw, m),
        cw.prototype.release = function() {
            this.video.remote && -1 != this.h && this.video.remote.cancelWatchAvailability(this.h).catch(function() {}),
            m.prototype.release.call(this)
        }
        ,
        n("shaka.ui.RemoteButton", cw),
        fw.prototype.create = function(e, t) {
            return new cw(e,t)
        }
        ,
        cb("remote", new fw),
        Y1("remote", new fw),
        t(pw, kb),
        n("shaka.ui.ResolutionSelection", pw),
        vw.prototype.create = function(e, t) {
            return new pw(e,t)
        }
        ,
        cb("quality", new vw),
        Y1("quality", new vw),
        t(yw, m),
        n("shaka.ui.RewindButton", yw),
        ww.prototype.create = function(e, t) {
            return new yw(e,t)
        }
        ,
        Y1("rewind", new ww),
        t(Tw, m),
        Tw.prototype.release = function() {
            this.i.stop(),
            this.i = null,
            m.prototype.release.call(this)
        }
        ,
        n("shaka.ui.SkipAdButton", Tw),
        t(Sw, M1),
        Sw.prototype.h = function() {
            this.isEnded() ? this.button.textContent = "replay" : this.button.textContent = this.isPaused() ? "play_arrow" : "pause"
        }
        ,
        Sw.prototype.g = function() {
            var e;
            this.isEnded() ? this.button.ariaLabel = this.localization.resolve("REPLAY") : (e = this.isPaused() ? "PLAY" : "PAUSE",
            this.button.ariaLabel = this.localization.resolve(e))
        }
        ,
        n("shaka.ui.SmallPlayButton", Sw),
        xw.prototype.create = function(e, t) {
            return new Sw(e,t)
        }
        ,
        Y1("play_pause", new xw),
        t(Iw, m),
        n("shaka.ui.Spacer", Iw),
        kw.prototype.create = function(e, t) {
            return new Iw(e,t)
        }
        ,
        Y1("spacer", new kw),
        t(Cw, m),
        Cw.prototype.release = function() {
            this.l.stop(),
            this.l = null,
            m.prototype.release.call(this)
        }
        ,
        n("shaka.ui.StatisticsButton", Cw),
        Lw.prototype.create = function(e, t) {
            return new Cw(e,t)
        }
        ,
        cb("statistics", new Lw),
        N1("statistics", new Lw),
        t(Rw, kb),
        n("shaka.ui.TextSelection", Rw),
        Uw.prototype.create = function(e, t) {
            return new Rw(e,t)
        }
        ,
        cb("captions", new Uw),
        Y1("captions", new Uw),
        t(Ow, O1),
        Ow.prototype.onChange = function() {
            this.ad && this.ad.isLinear() ? this.ad.setVolume(this.getValue() / 100) : (this.video.volume = this.getValue() / 100,
            this.video.muted = 0 == this.video.volume)
        }
        ,
        n("shaka.ui.VolumeBar", Ow),
        Vw.prototype.create = function(e, t) {
            return new Ow(e,t)
        }
        ,
        Y1("volume", new Vw)
    }
    .call(t, e, e, void 0),
    "undefined" != typeof exports)
        for (var n in t.shaka)
            exports[n] = t.shaka[n];
    else
        "function" == typeof define && define.amd ? define(function() {
            return t.shaka
        }) : e.shaka = t.shaka
}();
